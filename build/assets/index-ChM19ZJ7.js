function $y(n,s){for(var o=0;o<s.length;o++){const i=s[o];if(typeof i!="string"&&!Array.isArray(i)){for(const d in i)if(d!=="default"&&!(d in n)){const u=Object.getOwnPropertyDescriptor(i,d);u&&Object.defineProperty(n,d,u.get?u:{enumerable:!0,get:()=>i[d]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))i(d);new MutationObserver(d=>{for(const u of d)if(u.type==="childList")for(const l of u.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function o(d){const u={};return d.integrity&&(u.integrity=d.integrity),d.referrerPolicy&&(u.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?u.credentials="include":d.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(d){if(d.ep)return;d.ep=!0;const u=o(d);fetch(d.href,u)}})();function Rd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ec={exports:{}},Do={},Ac={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm;function zy(){if(dm)return _e;dm=1;var n=Symbol.for("react.element"),s=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),l=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.iterator;function v(E){return E===null||typeof E!="object"?null:(E=y&&E[y]||E["@@iterator"],typeof E=="function"?E:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function S(E,V,K){this.props=E,this.context=V,this.refs=j,this.updater=K||F}S.prototype.isReactComponent={},S.prototype.setState=function(E,V){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,V,"setState")},S.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function D(){}D.prototype=S.prototype;function T(E,V,K){this.props=E,this.context=V,this.refs=j,this.updater=K||F}var C=T.prototype=new D;C.constructor=T,N(C,S.prototype),C.isPureReactComponent=!0;var L=Array.isArray,B=Object.prototype.hasOwnProperty,G={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function _(E,V,K){var de,ae={},je=null,Ne=null;if(V!=null)for(de in V.ref!==void 0&&(Ne=V.ref),V.key!==void 0&&(je=""+V.key),V)B.call(V,de)&&!$.hasOwnProperty(de)&&(ae[de]=V[de]);var Ae=arguments.length-2;if(Ae===1)ae.children=K;else if(1<Ae){for(var Re=Array(Ae),We=0;We<Ae;We++)Re[We]=arguments[We+2];ae.children=Re}if(E&&E.defaultProps)for(de in Ae=E.defaultProps,Ae)ae[de]===void 0&&(ae[de]=Ae[de]);return{$$typeof:n,type:E,key:je,ref:Ne,props:ae,_owner:G.current}}function ee(E,V){return{$$typeof:n,type:E.type,key:V,ref:E.ref,props:E.props,_owner:E._owner}}function H(E){return typeof E=="object"&&E!==null&&E.$$typeof===n}function le(E){var V={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(K){return V[K]})}var ye=/\/+/g;function Fe(E,V){return typeof E=="object"&&E!==null&&E.key!=null?le(""+E.key):V.toString(36)}function ke(E,V,K,de,ae){var je=typeof E;(je==="undefined"||je==="boolean")&&(E=null);var Ne=!1;if(E===null)Ne=!0;else switch(je){case"string":case"number":Ne=!0;break;case"object":switch(E.$$typeof){case n:case s:Ne=!0}}if(Ne)return Ne=E,ae=ae(Ne),E=de===""?"."+Fe(Ne,0):de,L(ae)?(K="",E!=null&&(K=E.replace(ye,"$&/")+"/"),ke(ae,V,K,"",function(We){return We})):ae!=null&&(H(ae)&&(ae=ee(ae,K+(!ae.key||Ne&&Ne.key===ae.key?"":(""+ae.key).replace(ye,"$&/")+"/")+E)),V.push(ae)),1;if(Ne=0,de=de===""?".":de+":",L(E))for(var Ae=0;Ae<E.length;Ae++){je=E[Ae];var Re=de+Fe(je,Ae);Ne+=ke(je,V,K,Re,ae)}else if(Re=v(E),typeof Re=="function")for(E=Re.call(E),Ae=0;!(je=E.next()).done;)je=je.value,Re=de+Fe(je,Ae++),Ne+=ke(je,V,K,Re,ae);else if(je==="object")throw V=String(E),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return Ne}function xe(E,V,K){if(E==null)return E;var de=[],ae=0;return ke(E,de,"","",function(je){return V.call(K,je,ae++)}),de}function O(E){if(E._status===-1){var V=E._result;V=V(),V.then(function(K){(E._status===0||E._status===-1)&&(E._status=1,E._result=K)},function(K){(E._status===0||E._status===-1)&&(E._status=2,E._result=K)}),E._status===-1&&(E._status=0,E._result=V)}if(E._status===1)return E._result.default;throw E._result}var Y={current:null},R={transition:null},k={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:R,ReactCurrentOwner:G};function I(){throw Error("act(...) is not supported in production builds of React.")}return _e.Children={map:xe,forEach:function(E,V,K){xe(E,function(){V.apply(this,arguments)},K)},count:function(E){var V=0;return xe(E,function(){V++}),V},toArray:function(E){return xe(E,function(V){return V})||[]},only:function(E){if(!H(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},_e.Component=S,_e.Fragment=o,_e.Profiler=d,_e.PureComponent=T,_e.StrictMode=i,_e.Suspense=m,_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k,_e.act=I,_e.cloneElement=function(E,V,K){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var de=N({},E.props),ae=E.key,je=E.ref,Ne=E._owner;if(V!=null){if(V.ref!==void 0&&(je=V.ref,Ne=G.current),V.key!==void 0&&(ae=""+V.key),E.type&&E.type.defaultProps)var Ae=E.type.defaultProps;for(Re in V)B.call(V,Re)&&!$.hasOwnProperty(Re)&&(de[Re]=V[Re]===void 0&&Ae!==void 0?Ae[Re]:V[Re])}var Re=arguments.length-2;if(Re===1)de.children=K;else if(1<Re){Ae=Array(Re);for(var We=0;We<Re;We++)Ae[We]=arguments[We+2];de.children=Ae}return{$$typeof:n,type:E.type,key:ae,ref:je,props:de,_owner:Ne}},_e.createContext=function(E){return E={$$typeof:l,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:u,_context:E},E.Consumer=E},_e.createElement=_,_e.createFactory=function(E){var V=_.bind(null,E);return V.type=E,V},_e.createRef=function(){return{current:null}},_e.forwardRef=function(E){return{$$typeof:p,render:E}},_e.isValidElement=H,_e.lazy=function(E){return{$$typeof:x,_payload:{_status:-1,_result:E},_init:O}},_e.memo=function(E,V){return{$$typeof:g,type:E,compare:V===void 0?null:V}},_e.startTransition=function(E){var V=R.transition;R.transition={};try{E()}finally{R.transition=V}},_e.unstable_act=I,_e.useCallback=function(E,V){return Y.current.useCallback(E,V)},_e.useContext=function(E){return Y.current.useContext(E)},_e.useDebugValue=function(){},_e.useDeferredValue=function(E){return Y.current.useDeferredValue(E)},_e.useEffect=function(E,V){return Y.current.useEffect(E,V)},_e.useId=function(){return Y.current.useId()},_e.useImperativeHandle=function(E,V,K){return Y.current.useImperativeHandle(E,V,K)},_e.useInsertionEffect=function(E,V){return Y.current.useInsertionEffect(E,V)},_e.useLayoutEffect=function(E,V){return Y.current.useLayoutEffect(E,V)},_e.useMemo=function(E,V){return Y.current.useMemo(E,V)},_e.useReducer=function(E,V,K){return Y.current.useReducer(E,V,K)},_e.useRef=function(E){return Y.current.useRef(E)},_e.useState=function(E){return Y.current.useState(E)},_e.useSyncExternalStore=function(E,V,K){return Y.current.useSyncExternalStore(E,V,K)},_e.useTransition=function(){return Y.current.useTransition()},_e.version="18.3.1",_e}var um;function Mi(){return um||(um=1,Ac.exports=zy()),Ac.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm;function Vy(){if(fm)return Do;fm=1;var n=Mi(),s=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,d=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(p,m,g){var x,y={},v=null,F=null;g!==void 0&&(v=""+g),m.key!==void 0&&(v=""+m.key),m.ref!==void 0&&(F=m.ref);for(x in m)i.call(m,x)&&!u.hasOwnProperty(x)&&(y[x]=m[x]);if(p&&p.defaultProps)for(x in m=p.defaultProps,m)y[x]===void 0&&(y[x]=m[x]);return{$$typeof:s,type:p,key:v,ref:F,props:y,_owner:d.current}}return Do.Fragment=o,Do.jsx=l,Do.jsxs=l,Do}var pm;function Uy(){return pm||(pm=1,Ec.exports=Vy()),Ec.exports}var t=Uy(),b=Mi();const Md=Rd(b),ox=$y({__proto__:null,default:Md},[b]);var di={},Tc={exports:{}},Wt={},Dc={exports:{}},Pc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm;function Wy(){return mm||(mm=1,(function(n){function s(R,k){var I=R.length;R.push(k);e:for(;0<I;){var E=I-1>>>1,V=R[E];if(0<d(V,k))R[E]=k,R[I]=V,I=E;else break e}}function o(R){return R.length===0?null:R[0]}function i(R){if(R.length===0)return null;var k=R[0],I=R.pop();if(I!==k){R[0]=I;e:for(var E=0,V=R.length,K=V>>>1;E<K;){var de=2*(E+1)-1,ae=R[de],je=de+1,Ne=R[je];if(0>d(ae,I))je<V&&0>d(Ne,ae)?(R[E]=Ne,R[je]=I,E=je):(R[E]=ae,R[de]=I,E=de);else if(je<V&&0>d(Ne,I))R[E]=Ne,R[je]=I,E=je;else break e}}return k}function d(R,k){var I=R.sortIndex-k.sortIndex;return I!==0?I:R.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var l=Date,p=l.now();n.unstable_now=function(){return l.now()-p}}var m=[],g=[],x=1,y=null,v=3,F=!1,N=!1,j=!1,S=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(R){for(var k=o(g);k!==null;){if(k.callback===null)i(g);else if(k.startTime<=R)i(g),k.sortIndex=k.expirationTime,s(m,k);else break;k=o(g)}}function L(R){if(j=!1,C(R),!N)if(o(m)!==null)N=!0,O(B);else{var k=o(g);k!==null&&Y(L,k.startTime-R)}}function B(R,k){N=!1,j&&(j=!1,D(_),_=-1),F=!0;var I=v;try{for(C(k),y=o(m);y!==null&&(!(y.expirationTime>k)||R&&!le());){var E=y.callback;if(typeof E=="function"){y.callback=null,v=y.priorityLevel;var V=E(y.expirationTime<=k);k=n.unstable_now(),typeof V=="function"?y.callback=V:y===o(m)&&i(m),C(k)}else i(m);y=o(m)}if(y!==null)var K=!0;else{var de=o(g);de!==null&&Y(L,de.startTime-k),K=!1}return K}finally{y=null,v=I,F=!1}}var G=!1,$=null,_=-1,ee=5,H=-1;function le(){return!(n.unstable_now()-H<ee)}function ye(){if($!==null){var R=n.unstable_now();H=R;var k=!0;try{k=$(!0,R)}finally{k?Fe():(G=!1,$=null)}}else G=!1}var Fe;if(typeof T=="function")Fe=function(){T(ye)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,xe=ke.port2;ke.port1.onmessage=ye,Fe=function(){xe.postMessage(null)}}else Fe=function(){S(ye,0)};function O(R){$=R,G||(G=!0,Fe())}function Y(R,k){_=S(function(){R(n.unstable_now())},k)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(R){R.callback=null},n.unstable_continueExecution=function(){N||F||(N=!0,O(B))},n.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<R?Math.floor(1e3/R):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return o(m)},n.unstable_next=function(R){switch(v){case 1:case 2:case 3:var k=3;break;default:k=v}var I=v;v=k;try{return R()}finally{v=I}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(R,k){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var I=v;v=R;try{return k()}finally{v=I}},n.unstable_scheduleCallback=function(R,k,I){var E=n.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?E+I:E):I=E,R){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=I+V,R={id:x++,callback:k,priorityLevel:R,startTime:I,expirationTime:V,sortIndex:-1},I>E?(R.sortIndex=I,s(g,R),o(m)===null&&R===o(g)&&(j?(D(_),_=-1):j=!0,Y(L,I-E))):(R.sortIndex=V,s(m,R),N||F||(N=!0,O(B))),R},n.unstable_shouldYield=le,n.unstable_wrapCallback=function(R){var k=v;return function(){var I=v;v=k;try{return R.apply(this,arguments)}finally{v=I}}}})(Pc)),Pc}var hm;function Hy(){return hm||(hm=1,Dc.exports=Wy()),Dc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm;function Gy(){if(xm)return Wt;xm=1;var n=Mi(),s=Hy();function o(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,d={};function u(e,r){l(e,r),l(e+"Capture",r)}function l(e,r){for(d[e]=r,e=0;e<r.length;e++)i.add(r[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},y={};function v(e){return m.call(y,e)?!0:m.call(x,e)?!1:g.test(e)?y[e]=!0:(x[e]=!0,!1)}function F(e,r,a,c){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N(e,r,a,c){if(r===null||typeof r>"u"||F(e,r,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function j(e,r,a,c,f,h,w){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=e,this.type=r,this.sanitizeURL=h,this.removeEmptyString=w}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){S[e]=new j(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];S[r]=new j(r,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){S[e]=new j(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){S[e]=new j(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){S[e]=new j(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){S[e]=new j(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){S[e]=new j(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){S[e]=new j(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){S[e]=new j(e,5,!1,e.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function T(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(D,T);S[r]=new j(r,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(D,T);S[r]=new j(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(D,T);S[r]=new j(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){S[e]=new j(e,1,!1,e.toLowerCase(),null,!1,!1)}),S.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){S[e]=new j(e,1,!1,e.toLowerCase(),null,!0,!0)});function C(e,r,a,c){var f=S.hasOwnProperty(r)?S[r]:null;(f!==null?f.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(N(r,a,f,c)&&(a=null),c||f===null?v(r)&&(a===null?e.removeAttribute(r):e.setAttribute(r,""+a)):f.mustUseProperty?e[f.propertyName]=a===null?f.type===3?!1:"":a:(r=f.attributeName,c=f.attributeNamespace,a===null?e.removeAttribute(r):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?e.setAttributeNS(c,r,a):e.setAttribute(r,a))))}var L=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),G=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),le=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),Fe=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),R=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=R&&e[R]||e["@@iterator"],typeof e=="function"?e:null)}var I=Object.assign,E;function V(e){if(E===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);E=r&&r[1]||""}return`
`+E+e}var K=!1;function de(e,r){if(!e||K)return"";K=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(q){var c=q}Reflect.construct(e,[],r)}else{try{r.call()}catch(q){c=q}e.call(r.prototype)}else{try{throw Error()}catch(q){c=q}e()}}catch(q){if(q&&c&&typeof q.stack=="string"){for(var f=q.stack.split(`
`),h=c.stack.split(`
`),w=f.length-1,A=h.length-1;1<=w&&0<=A&&f[w]!==h[A];)A--;for(;1<=w&&0<=A;w--,A--)if(f[w]!==h[A]){if(w!==1||A!==1)do if(w--,A--,0>A||f[w]!==h[A]){var M=`
`+f[w].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=w&&0<=A);break}}}finally{K=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?V(e):""}function ae(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=de(e.type,!1),e;case 11:return e=de(e.type.render,!1),e;case 1:return e=de(e.type,!0),e;default:return""}}function je(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case G:return"Portal";case ee:return"Profiler";case _:return"StrictMode";case Fe:return"Suspense";case ke:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case le:return(e.displayName||"Context")+".Consumer";case H:return(e._context.displayName||"Context")+".Provider";case ye:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xe:return r=e.displayName||null,r!==null?r:je(e.type)||"Memo";case O:r=e._payload,e=e._init;try{return je(e(r))}catch{}}return null}function Ne(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(r);case 8:return r===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Ae(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Re(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function We(e){var r=Re(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),c=""+e[r];if(!e.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,h=a.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return f.call(this)},set:function(w){c=""+w,h.call(this,w)}}),Object.defineProperty(e,r,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function gt(e){e._valueTracker||(e._valueTracker=We(e))}function vt(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),c="";return e&&(c=Re(e)?e.checked?"true":"false":e.value),e=c,e!==a?(r.setValue(e),!0):!1}function se(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function we(e,r){var a=r.checked;return I({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function ne(e,r){var a=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;a=Ae(r.value!=null?r.value:a),e._wrapperState={initialChecked:c,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Ie(e,r){r=r.checked,r!=null&&C(e,"checked",r,!1)}function ze(e,r){Ie(e,r);var a=Ae(r.value),c=r.type;if(a!=null)c==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(c==="submit"||c==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?yt(e,r.type,a):r.hasOwnProperty("defaultValue")&&yt(e,r.type,Ae(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function Bt(e,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,a||r===e.value||(e.value=r),e.defaultValue=r}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function yt(e,r,a){(r!=="number"||se(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var Ot=Array.isArray;function ie(e,r,a,c){if(e=e.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=r.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&c&&(e[a].defaultSelected=!0)}else{for(a=""+Ae(a),r=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,c&&(e[f].defaultSelected=!0);return}r!==null||e[f].disabled||(r=e[f])}r!==null&&(r.selected=!0)}}function ue(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(o(91));return I({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Q(e,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(o(92));if(Ot(a)){if(1<a.length)throw Error(o(93));a=a[0]}r=a}r==null&&(r=""),a=r}e._wrapperState={initialValue:Ae(a)}}function Be(e,r){var a=Ae(r.value),c=Ae(r.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),r.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),c!=null&&(e.defaultValue=""+c)}function Pe(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function bt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nr(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?bt(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qn,ts=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,c,f){MSApp.execUnsafeLocalFunction(function(){return e(r,a,c,f)})}:e})(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(qn=qn||document.createElement("div"),qn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=qn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function An(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var Tn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wi=["Webkit","ms","Moz","O"];Object.keys(Tn).forEach(function(e){Wi.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),Tn[r]=Tn[e]})});function P(e,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||Tn.hasOwnProperty(e)&&Tn[e]?(""+r).trim():r+"px"}function X(e,r){e=e.style;for(var a in r)if(r.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=P(a,r[a],c);a==="float"&&(a="cssFloat"),c?e.setProperty(a,f):e[a]=f}}var oe=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,r){if(r){if(oe[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(o(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(o(61))}if(r.style!=null&&typeof r.style!="object")throw Error(o(62))}}function Le(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oe=null;function Ve(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rt=null,Fr=null,Dn=null;function Cu(e){if(e=xo(e)){if(typeof Rt!="function")throw Error(o(280));var r=e.stateNode;r&&(r=Fa(r),Rt(e.stateNode,e.type,r))}}function Su(e){Fr?Dn?Dn.push(e):Dn=[e]:Fr=e}function Eu(){if(Fr){var e=Fr,r=Dn;if(Dn=Fr=null,Cu(e),r)for(e=0;e<r.length;e++)Cu(r[e])}}function Au(e,r){return e(r)}function Tu(){}var Hi=!1;function Du(e,r,a){if(Hi)return e(r,a);Hi=!0;try{return Au(e,r,a)}finally{Hi=!1,(Fr!==null||Dn!==null)&&(Tu(),Eu())}}function qs(e,r){var a=e.stateNode;if(a===null)return null;var c=Fa(a);if(c===null)return null;a=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,r,typeof a));return a}var Gi=!1;if(p)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){Gi=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch{Gi=!1}function G0(e,r,a,c,f,h,w,A,M){var q=Array.prototype.slice.call(arguments,3);try{r.apply(a,q)}catch(J){this.onError(J)}}var Ys=!1,ra=null,sa=!1,Ki=null,K0={onError:function(e){Ys=!0,ra=e}};function q0(e,r,a,c,f,h,w,A,M){Ys=!1,ra=null,G0.apply(K0,arguments)}function X0(e,r,a,c,f,h,w,A,M){if(q0.apply(this,arguments),Ys){if(Ys){var q=ra;Ys=!1,ra=null}else throw Error(o(198));sa||(sa=!0,Ki=q)}}function Cr(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function Pu(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function Bu(e){if(Cr(e)!==e)throw Error(o(188))}function Y0(e){var r=e.alternate;if(!r){if(r=Cr(e),r===null)throw Error(o(188));return r!==e?null:e}for(var a=e,c=r;;){var f=a.return;if(f===null)break;var h=f.alternate;if(h===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===a)return Bu(f),e;if(h===c)return Bu(f),r;h=h.sibling}throw Error(o(188))}if(a.return!==c.return)a=f,c=h;else{for(var w=!1,A=f.child;A;){if(A===a){w=!0,a=f,c=h;break}if(A===c){w=!0,c=f,a=h;break}A=A.sibling}if(!w){for(A=h.child;A;){if(A===a){w=!0,a=h,c=f;break}if(A===c){w=!0,c=h,a=f;break}A=A.sibling}if(!w)throw Error(o(189))}}if(a.alternate!==c)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:r}function Ru(e){return e=Y0(e),e!==null?Mu(e):null}function Mu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=Mu(e);if(r!==null)return r;e=e.sibling}return null}var Iu=s.unstable_scheduleCallback,_u=s.unstable_cancelCallback,Q0=s.unstable_shouldYield,Z0=s.unstable_requestPaint,lt=s.unstable_now,J0=s.unstable_getCurrentPriorityLevel,qi=s.unstable_ImmediatePriority,Ou=s.unstable_UserBlockingPriority,oa=s.unstable_NormalPriority,ev=s.unstable_LowPriority,Lu=s.unstable_IdlePriority,aa=null,yn=null;function tv(e){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(aa,e,void 0,(e.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:sv,nv=Math.log,rv=Math.LN2;function sv(e){return e>>>=0,e===0?32:31-(nv(e)/rv|0)|0}var ia=64,la=4194304;function Qs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ca(e,r){var a=e.pendingLanes;if(a===0)return 0;var c=0,f=e.suspendedLanes,h=e.pingedLanes,w=a&268435455;if(w!==0){var A=w&~f;A!==0?c=Qs(A):(h&=w,h!==0&&(c=Qs(h)))}else w=a&~f,w!==0?c=Qs(w):h!==0&&(c=Qs(h));if(c===0)return 0;if(r!==0&&r!==c&&(r&f)===0&&(f=c&-c,h=r&-r,f>=h||f===16&&(h&4194240)!==0))return r;if((c&4)!==0&&(c|=a&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=c;0<r;)a=31-ln(r),f=1<<a,c|=e[a],r&=~f;return c}function ov(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function av(e,r){for(var a=e.suspendedLanes,c=e.pingedLanes,f=e.expirationTimes,h=e.pendingLanes;0<h;){var w=31-ln(h),A=1<<w,M=f[w];M===-1?((A&a)===0||(A&c)!==0)&&(f[w]=ov(A,r)):M<=r&&(e.expiredLanes|=A),h&=~A}}function Xi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $u(){var e=ia;return ia<<=1,(ia&4194240)===0&&(ia=64),e}function Yi(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function Zs(e,r,a){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-ln(r),e[r]=a}function iv(e,r){var a=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var c=e.eventTimes;for(e=e.expirationTimes;0<a;){var f=31-ln(a),h=1<<f;r[f]=0,c[f]=-1,e[f]=-1,a&=~h}}function Qi(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var c=31-ln(a),f=1<<c;f&r|e[c]&r&&(e[c]|=r),a&=~f}}var He=0;function zu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Vu,Zi,Uu,Wu,Hu,Ji=!1,da=[],Xn=null,Yn=null,Qn=null,Js=new Map,eo=new Map,Zn=[],lv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gu(e,r){switch(e){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":Js.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":eo.delete(r.pointerId)}}function to(e,r,a,c,f,h){return e===null||e.nativeEvent!==h?(e={blockedOn:r,domEventName:a,eventSystemFlags:c,nativeEvent:h,targetContainers:[f]},r!==null&&(r=xo(r),r!==null&&Zi(r)),e):(e.eventSystemFlags|=c,r=e.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),e)}function cv(e,r,a,c,f){switch(r){case"focusin":return Xn=to(Xn,e,r,a,c,f),!0;case"dragenter":return Yn=to(Yn,e,r,a,c,f),!0;case"mouseover":return Qn=to(Qn,e,r,a,c,f),!0;case"pointerover":var h=f.pointerId;return Js.set(h,to(Js.get(h)||null,e,r,a,c,f)),!0;case"gotpointercapture":return h=f.pointerId,eo.set(h,to(eo.get(h)||null,e,r,a,c,f)),!0}return!1}function Ku(e){var r=Sr(e.target);if(r!==null){var a=Cr(r);if(a!==null){if(r=a.tag,r===13){if(r=Pu(a),r!==null){e.blockedOn=r,Hu(e.priority,function(){Uu(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ua(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=tl(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var c=new a.constructor(a.type,a);Oe=c,a.target.dispatchEvent(c),Oe=null}else return r=xo(a),r!==null&&Zi(r),e.blockedOn=a,!1;r.shift()}return!0}function qu(e,r,a){ua(e)&&a.delete(r)}function dv(){Ji=!1,Xn!==null&&ua(Xn)&&(Xn=null),Yn!==null&&ua(Yn)&&(Yn=null),Qn!==null&&ua(Qn)&&(Qn=null),Js.forEach(qu),eo.forEach(qu)}function no(e,r){e.blockedOn===r&&(e.blockedOn=null,Ji||(Ji=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,dv)))}function ro(e){function r(f){return no(f,e)}if(0<da.length){no(da[0],e);for(var a=1;a<da.length;a++){var c=da[a];c.blockedOn===e&&(c.blockedOn=null)}}for(Xn!==null&&no(Xn,e),Yn!==null&&no(Yn,e),Qn!==null&&no(Qn,e),Js.forEach(r),eo.forEach(r),a=0;a<Zn.length;a++)c=Zn[a],c.blockedOn===e&&(c.blockedOn=null);for(;0<Zn.length&&(a=Zn[0],a.blockedOn===null);)Ku(a),a.blockedOn===null&&Zn.shift()}var ns=L.ReactCurrentBatchConfig,fa=!0;function uv(e,r,a,c){var f=He,h=ns.transition;ns.transition=null;try{He=1,el(e,r,a,c)}finally{He=f,ns.transition=h}}function fv(e,r,a,c){var f=He,h=ns.transition;ns.transition=null;try{He=4,el(e,r,a,c)}finally{He=f,ns.transition=h}}function el(e,r,a,c){if(fa){var f=tl(e,r,a,c);if(f===null)vl(e,r,c,pa,a),Gu(e,c);else if(cv(f,e,r,a,c))c.stopPropagation();else if(Gu(e,c),r&4&&-1<lv.indexOf(e)){for(;f!==null;){var h=xo(f);if(h!==null&&Vu(h),h=tl(e,r,a,c),h===null&&vl(e,r,c,pa,a),h===f)break;f=h}f!==null&&c.stopPropagation()}else vl(e,r,c,null,a)}}var pa=null;function tl(e,r,a,c){if(pa=null,e=Ve(c),e=Sr(e),e!==null)if(r=Cr(e),r===null)e=null;else if(a=r.tag,a===13){if(e=Pu(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return pa=e,null}function Xu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(J0()){case qi:return 1;case Ou:return 4;case oa:case ev:return 16;case Lu:return 536870912;default:return 16}default:return 16}}var Jn=null,nl=null,ma=null;function Yu(){if(ma)return ma;var e,r=nl,a=r.length,c,f="value"in Jn?Jn.value:Jn.textContent,h=f.length;for(e=0;e<a&&r[e]===f[e];e++);var w=a-e;for(c=1;c<=w&&r[a-c]===f[h-c];c++);return ma=f.slice(e,1<c?1-c:void 0)}function ha(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function xa(){return!0}function Qu(){return!1}function Gt(e){function r(a,c,f,h,w){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=h,this.target=w,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(a=e[A],this[A]=a?a(h):h[A]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?xa:Qu,this.isPropagationStopped=Qu,this}return I(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xa)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xa)},persist:function(){},isPersistent:xa}),r}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rl=Gt(rs),so=I({},rs,{view:0,detail:0}),pv=Gt(so),sl,ol,oo,ga=I({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:il,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oo&&(oo&&e.type==="mousemove"?(sl=e.screenX-oo.screenX,ol=e.screenY-oo.screenY):ol=sl=0,oo=e),sl)},movementY:function(e){return"movementY"in e?e.movementY:ol}}),Zu=Gt(ga),mv=I({},ga,{dataTransfer:0}),hv=Gt(mv),xv=I({},so,{relatedTarget:0}),al=Gt(xv),gv=I({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),vv=Gt(gv),yv=I({},rs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bv=Gt(yv),jv=I({},rs,{data:0}),Ju=Gt(jv),wv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fv(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Nv[e])?!!r[e]:!1}function il(){return Fv}var Cv=I({},so,{key:function(e){if(e.key){var r=wv[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=ha(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:il,charCode:function(e){return e.type==="keypress"?ha(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ha(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sv=Gt(Cv),Ev=I({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ef=Gt(Ev),Av=I({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:il}),Tv=Gt(Av),Dv=I({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pv=Gt(Dv),Bv=I({},ga,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rv=Gt(Bv),Mv=[9,13,27,32],ll=p&&"CompositionEvent"in window,ao=null;p&&"documentMode"in document&&(ao=document.documentMode);var Iv=p&&"TextEvent"in window&&!ao,tf=p&&(!ll||ao&&8<ao&&11>=ao),nf=" ",rf=!1;function sf(e,r){switch(e){case"keyup":return Mv.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function of(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ss=!1;function _v(e,r){switch(e){case"compositionend":return of(r);case"keypress":return r.which!==32?null:(rf=!0,nf);case"textInput":return e=r.data,e===nf&&rf?null:e;default:return null}}function Ov(e,r){if(ss)return e==="compositionend"||!ll&&sf(e,r)?(e=Yu(),ma=nl=Jn=null,ss=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return tf&&r.locale!=="ko"?null:r.data;default:return null}}var Lv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function af(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Lv[e.type]:r==="textarea"}function lf(e,r,a,c){Su(c),r=wa(r,"onChange"),0<r.length&&(a=new rl("onChange","change",null,a,c),e.push({event:a,listeners:r}))}var io=null,lo=null;function $v(e){Cf(e,0)}function va(e){var r=cs(e);if(vt(r))return e}function zv(e,r){if(e==="change")return r}var cf=!1;if(p){var cl;if(p){var dl="oninput"in document;if(!dl){var df=document.createElement("div");df.setAttribute("oninput","return;"),dl=typeof df.oninput=="function"}cl=dl}else cl=!1;cf=cl&&(!document.documentMode||9<document.documentMode)}function uf(){io&&(io.detachEvent("onpropertychange",ff),lo=io=null)}function ff(e){if(e.propertyName==="value"&&va(lo)){var r=[];lf(r,lo,e,Ve(e)),Du($v,r)}}function Vv(e,r,a){e==="focusin"?(uf(),io=r,lo=a,io.attachEvent("onpropertychange",ff)):e==="focusout"&&uf()}function Uv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return va(lo)}function Wv(e,r){if(e==="click")return va(r)}function Hv(e,r){if(e==="input"||e==="change")return va(r)}function Gv(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var cn=typeof Object.is=="function"?Object.is:Gv;function co(e,r){if(cn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),c=Object.keys(r);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!m.call(r,f)||!cn(e[f],r[f]))return!1}return!0}function pf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mf(e,r){var a=pf(e);e=0;for(var c;a;){if(a.nodeType===3){if(c=e+a.textContent.length,e<=r&&c>=r)return{node:a,offset:r-e};e=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=pf(a)}}function hf(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?hf(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function xf(){for(var e=window,r=se();r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=se(e.document)}return r}function ul(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function Kv(e){var r=xf(),a=e.focusedElem,c=e.selectionRange;if(r!==a&&a&&a.ownerDocument&&hf(a.ownerDocument.documentElement,a)){if(c!==null&&ul(a)){if(r=c.start,e=c.end,e===void 0&&(e=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(e,a.value.length);else if(e=(r=a.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var f=a.textContent.length,h=Math.min(c.start,f);c=c.end===void 0?h:Math.min(c.end,f),!e.extend&&h>c&&(f=c,c=h,h=f),f=mf(a,h);var w=mf(a,c);f&&w&&(e.rangeCount!==1||e.anchorNode!==f.node||e.anchorOffset!==f.offset||e.focusNode!==w.node||e.focusOffset!==w.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),e.removeAllRanges(),h>c?(e.addRange(r),e.extend(w.node,w.offset)):(r.setEnd(w.node,w.offset),e.addRange(r)))}}for(r=[],e=a;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)e=r[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qv=p&&"documentMode"in document&&11>=document.documentMode,os=null,fl=null,uo=null,pl=!1;function gf(e,r,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pl||os==null||os!==se(c)||(c=os,"selectionStart"in c&&ul(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),uo&&co(uo,c)||(uo=c,c=wa(fl,"onSelect"),0<c.length&&(r=new rl("onSelect","select",null,r,a),e.push({event:r,listeners:c}),r.target=os)))}function ya(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var as={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionend:ya("Transition","TransitionEnd")},ml={},vf={};p&&(vf=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function ba(e){if(ml[e])return ml[e];if(!as[e])return e;var r=as[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in vf)return ml[e]=r[a];return e}var yf=ba("animationend"),bf=ba("animationiteration"),jf=ba("animationstart"),wf=ba("transitionend"),kf=new Map,Nf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function er(e,r){kf.set(e,r),u(r,[e])}for(var hl=0;hl<Nf.length;hl++){var xl=Nf[hl],Xv=xl.toLowerCase(),Yv=xl[0].toUpperCase()+xl.slice(1);er(Xv,"on"+Yv)}er(yf,"onAnimationEnd"),er(bf,"onAnimationIteration"),er(jf,"onAnimationStart"),er("dblclick","onDoubleClick"),er("focusin","onFocus"),er("focusout","onBlur"),er(wf,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qv=new Set("cancel close invalid load scroll toggle".split(" ").concat(fo));function Ff(e,r,a){var c=e.type||"unknown-event";e.currentTarget=a,X0(c,r,void 0,e),e.currentTarget=null}function Cf(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var c=e[a],f=c.event;c=c.listeners;e:{var h=void 0;if(r)for(var w=c.length-1;0<=w;w--){var A=c[w],M=A.instance,q=A.currentTarget;if(A=A.listener,M!==h&&f.isPropagationStopped())break e;Ff(f,A,q),h=M}else for(w=0;w<c.length;w++){if(A=c[w],M=A.instance,q=A.currentTarget,A=A.listener,M!==h&&f.isPropagationStopped())break e;Ff(f,A,q),h=M}}}if(sa)throw e=Ki,sa=!1,Ki=null,e}function Qe(e,r){var a=r[Nl];a===void 0&&(a=r[Nl]=new Set);var c=e+"__bubble";a.has(c)||(Sf(r,e,2,!1),a.add(c))}function gl(e,r,a){var c=0;r&&(c|=4),Sf(a,e,c,r)}var ja="_reactListening"+Math.random().toString(36).slice(2);function po(e){if(!e[ja]){e[ja]=!0,i.forEach(function(a){a!=="selectionchange"&&(Qv.has(a)||gl(a,!1,e),gl(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[ja]||(r[ja]=!0,gl("selectionchange",!1,r))}}function Sf(e,r,a,c){switch(Xu(r)){case 1:var f=uv;break;case 4:f=fv;break;default:f=el}a=f.bind(null,r,a,e),f=void 0,!Gi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?e.addEventListener(r,a,{capture:!0,passive:f}):e.addEventListener(r,a,!0):f!==void 0?e.addEventListener(r,a,{passive:f}):e.addEventListener(r,a,!1)}function vl(e,r,a,c,f){var h=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var A=c.stateNode.containerInfo;if(A===f||A.nodeType===8&&A.parentNode===f)break;if(w===4)for(w=c.return;w!==null;){var M=w.tag;if((M===3||M===4)&&(M=w.stateNode.containerInfo,M===f||M.nodeType===8&&M.parentNode===f))return;w=w.return}for(;A!==null;){if(w=Sr(A),w===null)return;if(M=w.tag,M===5||M===6){c=h=w;continue e}A=A.parentNode}}c=c.return}Du(function(){var q=h,J=Ve(a),te=[];e:{var Z=kf.get(e);if(Z!==void 0){var ce=rl,pe=e;switch(e){case"keypress":if(ha(a)===0)break e;case"keydown":case"keyup":ce=Sv;break;case"focusin":pe="focus",ce=al;break;case"focusout":pe="blur",ce=al;break;case"beforeblur":case"afterblur":ce=al;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Zu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=hv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=Tv;break;case yf:case bf:case jf:ce=vv;break;case wf:ce=Pv;break;case"scroll":ce=pv;break;case"wheel":ce=Rv;break;case"copy":case"cut":case"paste":ce=bv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=ef}var ve=(r&4)!==0,ct=!ve&&e==="scroll",U=ve?Z!==null?Z+"Capture":null:Z;ve=[];for(var z=q,W;z!==null;){W=z;var re=W.stateNode;if(W.tag===5&&re!==null&&(W=re,U!==null&&(re=qs(z,U),re!=null&&ve.push(mo(z,re,W)))),ct)break;z=z.return}0<ve.length&&(Z=new ce(Z,pe,null,a,J),te.push({event:Z,listeners:ve}))}}if((r&7)===0){e:{if(Z=e==="mouseover"||e==="pointerover",ce=e==="mouseout"||e==="pointerout",Z&&a!==Oe&&(pe=a.relatedTarget||a.fromElement)&&(Sr(pe)||pe[Pn]))break e;if((ce||Z)&&(Z=J.window===J?J:(Z=J.ownerDocument)?Z.defaultView||Z.parentWindow:window,ce?(pe=a.relatedTarget||a.toElement,ce=q,pe=pe?Sr(pe):null,pe!==null&&(ct=Cr(pe),pe!==ct||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ce=null,pe=q),ce!==pe)){if(ve=Zu,re="onMouseLeave",U="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(ve=ef,re="onPointerLeave",U="onPointerEnter",z="pointer"),ct=ce==null?Z:cs(ce),W=pe==null?Z:cs(pe),Z=new ve(re,z+"leave",ce,a,J),Z.target=ct,Z.relatedTarget=W,re=null,Sr(J)===q&&(ve=new ve(U,z+"enter",pe,a,J),ve.target=W,ve.relatedTarget=ct,re=ve),ct=re,ce&&pe)t:{for(ve=ce,U=pe,z=0,W=ve;W;W=is(W))z++;for(W=0,re=U;re;re=is(re))W++;for(;0<z-W;)ve=is(ve),z--;for(;0<W-z;)U=is(U),W--;for(;z--;){if(ve===U||U!==null&&ve===U.alternate)break t;ve=is(ve),U=is(U)}ve=null}else ve=null;ce!==null&&Ef(te,Z,ce,ve,!1),pe!==null&&ct!==null&&Ef(te,ct,pe,ve,!0)}}e:{if(Z=q?cs(q):window,ce=Z.nodeName&&Z.nodeName.toLowerCase(),ce==="select"||ce==="input"&&Z.type==="file")var be=zv;else if(af(Z))if(cf)be=Hv;else{be=Uv;var Se=Vv}else(ce=Z.nodeName)&&ce.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(be=Wv);if(be&&(be=be(e,q))){lf(te,be,a,J);break e}Se&&Se(e,Z,q),e==="focusout"&&(Se=Z._wrapperState)&&Se.controlled&&Z.type==="number"&&yt(Z,"number",Z.value)}switch(Se=q?cs(q):window,e){case"focusin":(af(Se)||Se.contentEditable==="true")&&(os=Se,fl=q,uo=null);break;case"focusout":uo=fl=os=null;break;case"mousedown":pl=!0;break;case"contextmenu":case"mouseup":case"dragend":pl=!1,gf(te,a,J);break;case"selectionchange":if(qv)break;case"keydown":case"keyup":gf(te,a,J)}var Ee;if(ll)e:{switch(e){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else ss?sf(e,a)&&(De="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(De="onCompositionStart");De&&(tf&&a.locale!=="ko"&&(ss||De!=="onCompositionStart"?De==="onCompositionEnd"&&ss&&(Ee=Yu()):(Jn=J,nl="value"in Jn?Jn.value:Jn.textContent,ss=!0)),Se=wa(q,De),0<Se.length&&(De=new Ju(De,e,null,a,J),te.push({event:De,listeners:Se}),Ee?De.data=Ee:(Ee=of(a),Ee!==null&&(De.data=Ee)))),(Ee=Iv?_v(e,a):Ov(e,a))&&(q=wa(q,"onBeforeInput"),0<q.length&&(J=new Ju("onBeforeInput","beforeinput",null,a,J),te.push({event:J,listeners:q}),J.data=Ee))}Cf(te,r)})}function mo(e,r,a){return{instance:e,listener:r,currentTarget:a}}function wa(e,r){for(var a=r+"Capture",c=[];e!==null;){var f=e,h=f.stateNode;f.tag===5&&h!==null&&(f=h,h=qs(e,a),h!=null&&c.unshift(mo(e,h,f)),h=qs(e,r),h!=null&&c.push(mo(e,h,f))),e=e.return}return c}function is(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ef(e,r,a,c,f){for(var h=r._reactName,w=[];a!==null&&a!==c;){var A=a,M=A.alternate,q=A.stateNode;if(M!==null&&M===c)break;A.tag===5&&q!==null&&(A=q,f?(M=qs(a,h),M!=null&&w.unshift(mo(a,M,A))):f||(M=qs(a,h),M!=null&&w.push(mo(a,M,A)))),a=a.return}w.length!==0&&e.push({event:r,listeners:w})}var Zv=/\r\n?/g,Jv=/\u0000|\uFFFD/g;function Af(e){return(typeof e=="string"?e:""+e).replace(Zv,`
`).replace(Jv,"")}function ka(e,r,a){if(r=Af(r),Af(e)!==r&&a)throw Error(o(425))}function Na(){}var yl=null,bl=null;function jl(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var wl=typeof setTimeout=="function"?setTimeout:void 0,ey=typeof clearTimeout=="function"?clearTimeout:void 0,Tf=typeof Promise=="function"?Promise:void 0,ty=typeof queueMicrotask=="function"?queueMicrotask:typeof Tf<"u"?function(e){return Tf.resolve(null).then(e).catch(ny)}:wl;function ny(e){setTimeout(function(){throw e})}function kl(e,r){var a=r,c=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){e.removeChild(f),ro(r);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);ro(r)}function tr(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function Df(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return e;r--}else a==="/$"&&r++}e=e.previousSibling}return null}var ls=Math.random().toString(36).slice(2),bn="__reactFiber$"+ls,ho="__reactProps$"+ls,Pn="__reactContainer$"+ls,Nl="__reactEvents$"+ls,ry="__reactListeners$"+ls,sy="__reactHandles$"+ls;function Sr(e){var r=e[bn];if(r)return r;for(var a=e.parentNode;a;){if(r=a[Pn]||a[bn]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=Df(e);e!==null;){if(a=e[bn])return a;e=Df(e)}return r}e=a,a=e.parentNode}return null}function xo(e){return e=e[bn]||e[Pn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function cs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function Fa(e){return e[ho]||null}var Fl=[],ds=-1;function nr(e){return{current:e}}function Ze(e){0>ds||(e.current=Fl[ds],Fl[ds]=null,ds--)}function Ye(e,r){ds++,Fl[ds]=e.current,e.current=r}var rr={},Et=nr(rr),Lt=nr(!1),Er=rr;function us(e,r){var a=e.type.contextTypes;if(!a)return rr;var c=e.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var f={},h;for(h in a)f[h]=r[h];return c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=f),f}function $t(e){return e=e.childContextTypes,e!=null}function Ca(){Ze(Lt),Ze(Et)}function Pf(e,r,a){if(Et.current!==rr)throw Error(o(168));Ye(Et,r),Ye(Lt,a)}function Bf(e,r,a){var c=e.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in r))throw Error(o(108,Ne(e)||"Unknown",f));return I({},a,c)}function Sa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rr,Er=Et.current,Ye(Et,e),Ye(Lt,Lt.current),!0}function Rf(e,r,a){var c=e.stateNode;if(!c)throw Error(o(169));a?(e=Bf(e,r,Er),c.__reactInternalMemoizedMergedChildContext=e,Ze(Lt),Ze(Et),Ye(Et,e)):Ze(Lt),Ye(Lt,a)}var Bn=null,Ea=!1,Cl=!1;function Mf(e){Bn===null?Bn=[e]:Bn.push(e)}function oy(e){Ea=!0,Mf(e)}function sr(){if(!Cl&&Bn!==null){Cl=!0;var e=0,r=He;try{var a=Bn;for(He=1;e<a.length;e++){var c=a[e];do c=c(!0);while(c!==null)}Bn=null,Ea=!1}catch(f){throw Bn!==null&&(Bn=Bn.slice(e+1)),Iu(qi,sr),f}finally{He=r,Cl=!1}}return null}var fs=[],ps=0,Aa=null,Ta=0,Qt=[],Zt=0,Ar=null,Rn=1,Mn="";function Tr(e,r){fs[ps++]=Ta,fs[ps++]=Aa,Aa=e,Ta=r}function If(e,r,a){Qt[Zt++]=Rn,Qt[Zt++]=Mn,Qt[Zt++]=Ar,Ar=e;var c=Rn;e=Mn;var f=32-ln(c)-1;c&=~(1<<f),a+=1;var h=32-ln(r)+f;if(30<h){var w=f-f%5;h=(c&(1<<w)-1).toString(32),c>>=w,f-=w,Rn=1<<32-ln(r)+f|a<<f|c,Mn=h+e}else Rn=1<<h|a<<f|c,Mn=e}function Sl(e){e.return!==null&&(Tr(e,1),If(e,1,0))}function El(e){for(;e===Aa;)Aa=fs[--ps],fs[ps]=null,Ta=fs[--ps],fs[ps]=null;for(;e===Ar;)Ar=Qt[--Zt],Qt[Zt]=null,Mn=Qt[--Zt],Qt[Zt]=null,Rn=Qt[--Zt],Qt[Zt]=null}var Kt=null,qt=null,Je=!1,dn=null;function _f(e,r){var a=nn(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=e,r=e.deletions,r===null?(e.deletions=[a],e.flags|=16):r.push(a)}function Of(e,r){switch(e.tag){case 5:var a=e.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,Kt=e,qt=tr(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,Kt=e,qt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=Ar!==null?{id:Rn,overflow:Mn}:null,e.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=nn(18,null,null,0),a.stateNode=r,a.return=e,e.child=a,Kt=e,qt=null,!0):!1;default:return!1}}function Al(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Tl(e){if(Je){var r=qt;if(r){var a=r;if(!Of(e,r)){if(Al(e))throw Error(o(418));r=tr(a.nextSibling);var c=Kt;r&&Of(e,r)?_f(c,a):(e.flags=e.flags&-4097|2,Je=!1,Kt=e)}}else{if(Al(e))throw Error(o(418));e.flags=e.flags&-4097|2,Je=!1,Kt=e}}}function Lf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Kt=e}function Da(e){if(e!==Kt)return!1;if(!Je)return Lf(e),Je=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!jl(e.type,e.memoizedProps)),r&&(r=qt)){if(Al(e))throw $f(),Error(o(418));for(;r;)_f(e,r),r=tr(r.nextSibling)}if(Lf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(r===0){qt=tr(e.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}e=e.nextSibling}qt=null}}else qt=Kt?tr(e.stateNode.nextSibling):null;return!0}function $f(){for(var e=qt;e;)e=tr(e.nextSibling)}function ms(){qt=Kt=null,Je=!1}function Dl(e){dn===null?dn=[e]:dn.push(e)}var ay=L.ReactCurrentBatchConfig;function go(e,r,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(o(309));var c=a.stateNode}if(!c)throw Error(o(147,e));var f=c,h=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===h?r.ref:(r=function(w){var A=f.refs;w===null?delete A[h]:A[h]=w},r._stringRef=h,r)}if(typeof e!="string")throw Error(o(284));if(!a._owner)throw Error(o(290,e))}return e}function Pa(e,r){throw e=Object.prototype.toString.call(r),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function zf(e){var r=e._init;return r(e._payload)}function Vf(e){function r(U,z){if(e){var W=U.deletions;W===null?(U.deletions=[z],U.flags|=16):W.push(z)}}function a(U,z){if(!e)return null;for(;z!==null;)r(U,z),z=z.sibling;return null}function c(U,z){for(U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function f(U,z){return U=fr(U,z),U.index=0,U.sibling=null,U}function h(U,z,W){return U.index=W,e?(W=U.alternate,W!==null?(W=W.index,W<z?(U.flags|=2,z):W):(U.flags|=2,z)):(U.flags|=1048576,z)}function w(U){return e&&U.alternate===null&&(U.flags|=2),U}function A(U,z,W,re){return z===null||z.tag!==6?(z=wc(W,U.mode,re),z.return=U,z):(z=f(z,W),z.return=U,z)}function M(U,z,W,re){var be=W.type;return be===$?J(U,z,W.props.children,re,W.key):z!==null&&(z.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===O&&zf(be)===z.type)?(re=f(z,W.props),re.ref=go(U,z,W),re.return=U,re):(re=ni(W.type,W.key,W.props,null,U.mode,re),re.ref=go(U,z,W),re.return=U,re)}function q(U,z,W,re){return z===null||z.tag!==4||z.stateNode.containerInfo!==W.containerInfo||z.stateNode.implementation!==W.implementation?(z=kc(W,U.mode,re),z.return=U,z):(z=f(z,W.children||[]),z.return=U,z)}function J(U,z,W,re,be){return z===null||z.tag!==7?(z=Or(W,U.mode,re,be),z.return=U,z):(z=f(z,W),z.return=U,z)}function te(U,z,W){if(typeof z=="string"&&z!==""||typeof z=="number")return z=wc(""+z,U.mode,W),z.return=U,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case B:return W=ni(z.type,z.key,z.props,null,U.mode,W),W.ref=go(U,null,z),W.return=U,W;case G:return z=kc(z,U.mode,W),z.return=U,z;case O:var re=z._init;return te(U,re(z._payload),W)}if(Ot(z)||k(z))return z=Or(z,U.mode,W,null),z.return=U,z;Pa(U,z)}return null}function Z(U,z,W,re){var be=z!==null?z.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return be!==null?null:A(U,z,""+W,re);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case B:return W.key===be?M(U,z,W,re):null;case G:return W.key===be?q(U,z,W,re):null;case O:return be=W._init,Z(U,z,be(W._payload),re)}if(Ot(W)||k(W))return be!==null?null:J(U,z,W,re,null);Pa(U,W)}return null}function ce(U,z,W,re,be){if(typeof re=="string"&&re!==""||typeof re=="number")return U=U.get(W)||null,A(z,U,""+re,be);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case B:return U=U.get(re.key===null?W:re.key)||null,M(z,U,re,be);case G:return U=U.get(re.key===null?W:re.key)||null,q(z,U,re,be);case O:var Se=re._init;return ce(U,z,W,Se(re._payload),be)}if(Ot(re)||k(re))return U=U.get(W)||null,J(z,U,re,be,null);Pa(z,re)}return null}function pe(U,z,W,re){for(var be=null,Se=null,Ee=z,De=z=0,kt=null;Ee!==null&&De<W.length;De++){Ee.index>De?(kt=Ee,Ee=null):kt=Ee.sibling;var Ue=Z(U,Ee,W[De],re);if(Ue===null){Ee===null&&(Ee=kt);break}e&&Ee&&Ue.alternate===null&&r(U,Ee),z=h(Ue,z,De),Se===null?be=Ue:Se.sibling=Ue,Se=Ue,Ee=kt}if(De===W.length)return a(U,Ee),Je&&Tr(U,De),be;if(Ee===null){for(;De<W.length;De++)Ee=te(U,W[De],re),Ee!==null&&(z=h(Ee,z,De),Se===null?be=Ee:Se.sibling=Ee,Se=Ee);return Je&&Tr(U,De),be}for(Ee=c(U,Ee);De<W.length;De++)kt=ce(Ee,U,De,W[De],re),kt!==null&&(e&&kt.alternate!==null&&Ee.delete(kt.key===null?De:kt.key),z=h(kt,z,De),Se===null?be=kt:Se.sibling=kt,Se=kt);return e&&Ee.forEach(function(pr){return r(U,pr)}),Je&&Tr(U,De),be}function ve(U,z,W,re){var be=k(W);if(typeof be!="function")throw Error(o(150));if(W=be.call(W),W==null)throw Error(o(151));for(var Se=be=null,Ee=z,De=z=0,kt=null,Ue=W.next();Ee!==null&&!Ue.done;De++,Ue=W.next()){Ee.index>De?(kt=Ee,Ee=null):kt=Ee.sibling;var pr=Z(U,Ee,Ue.value,re);if(pr===null){Ee===null&&(Ee=kt);break}e&&Ee&&pr.alternate===null&&r(U,Ee),z=h(pr,z,De),Se===null?be=pr:Se.sibling=pr,Se=pr,Ee=kt}if(Ue.done)return a(U,Ee),Je&&Tr(U,De),be;if(Ee===null){for(;!Ue.done;De++,Ue=W.next())Ue=te(U,Ue.value,re),Ue!==null&&(z=h(Ue,z,De),Se===null?be=Ue:Se.sibling=Ue,Se=Ue);return Je&&Tr(U,De),be}for(Ee=c(U,Ee);!Ue.done;De++,Ue=W.next())Ue=ce(Ee,U,De,Ue.value,re),Ue!==null&&(e&&Ue.alternate!==null&&Ee.delete(Ue.key===null?De:Ue.key),z=h(Ue,z,De),Se===null?be=Ue:Se.sibling=Ue,Se=Ue);return e&&Ee.forEach(function(Ly){return r(U,Ly)}),Je&&Tr(U,De),be}function ct(U,z,W,re){if(typeof W=="object"&&W!==null&&W.type===$&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case B:e:{for(var be=W.key,Se=z;Se!==null;){if(Se.key===be){if(be=W.type,be===$){if(Se.tag===7){a(U,Se.sibling),z=f(Se,W.props.children),z.return=U,U=z;break e}}else if(Se.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===O&&zf(be)===Se.type){a(U,Se.sibling),z=f(Se,W.props),z.ref=go(U,Se,W),z.return=U,U=z;break e}a(U,Se);break}else r(U,Se);Se=Se.sibling}W.type===$?(z=Or(W.props.children,U.mode,re,W.key),z.return=U,U=z):(re=ni(W.type,W.key,W.props,null,U.mode,re),re.ref=go(U,z,W),re.return=U,U=re)}return w(U);case G:e:{for(Se=W.key;z!==null;){if(z.key===Se)if(z.tag===4&&z.stateNode.containerInfo===W.containerInfo&&z.stateNode.implementation===W.implementation){a(U,z.sibling),z=f(z,W.children||[]),z.return=U,U=z;break e}else{a(U,z);break}else r(U,z);z=z.sibling}z=kc(W,U.mode,re),z.return=U,U=z}return w(U);case O:return Se=W._init,ct(U,z,Se(W._payload),re)}if(Ot(W))return pe(U,z,W,re);if(k(W))return ve(U,z,W,re);Pa(U,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,z!==null&&z.tag===6?(a(U,z.sibling),z=f(z,W),z.return=U,U=z):(a(U,z),z=wc(W,U.mode,re),z.return=U,U=z),w(U)):a(U,z)}return ct}var hs=Vf(!0),Uf=Vf(!1),Ba=nr(null),Ra=null,xs=null,Pl=null;function Bl(){Pl=xs=Ra=null}function Rl(e){var r=Ba.current;Ze(Ba),e._currentValue=r}function Ml(e,r,a){for(;e!==null;){var c=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),e===a)break;e=e.return}}function gs(e,r){Ra=e,Pl=xs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&r)!==0&&(zt=!0),e.firstContext=null)}function Jt(e){var r=e._currentValue;if(Pl!==e)if(e={context:e,memoizedValue:r,next:null},xs===null){if(Ra===null)throw Error(o(308));xs=e,Ra.dependencies={lanes:0,firstContext:e}}else xs=xs.next=e;return r}var Dr=null;function Il(e){Dr===null?Dr=[e]:Dr.push(e)}function Wf(e,r,a,c){var f=r.interleaved;return f===null?(a.next=a,Il(r)):(a.next=f.next,f.next=a),r.interleaved=a,In(e,c)}function In(e,r){e.lanes|=r;var a=e.alternate;for(a!==null&&(a.lanes|=r),a=e,e=e.return;e!==null;)e.childLanes|=r,a=e.alternate,a!==null&&(a.childLanes|=r),a=e,e=e.return;return a.tag===3?a.stateNode:null}var or=!1;function _l(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hf(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _n(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function ar(e,r,a){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,($e&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,In(e,a)}return f=c.interleaved,f===null?(r.next=r,Il(c)):(r.next=f.next,f.next=r),c.interleaved=r,In(e,a)}function Ma(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var c=r.lanes;c&=e.pendingLanes,a|=c,r.lanes=a,Qi(e,a)}}function Gf(e,r){var a=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};h===null?f=h=w:h=h.next=w,a=a.next}while(a!==null);h===null?f=h=r:h=h.next=r}else f=h=r;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:c.shared,effects:c.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}function Ia(e,r,a,c){var f=e.updateQueue;or=!1;var h=f.firstBaseUpdate,w=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var M=A,q=M.next;M.next=null,w===null?h=q:w.next=q,w=M;var J=e.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==w&&(A===null?J.firstBaseUpdate=q:A.next=q,J.lastBaseUpdate=M))}if(h!==null){var te=f.baseState;w=0,J=q=M=null,A=h;do{var Z=A.lane,ce=A.eventTime;if((c&Z)===Z){J!==null&&(J=J.next={eventTime:ce,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var pe=e,ve=A;switch(Z=r,ce=a,ve.tag){case 1:if(pe=ve.payload,typeof pe=="function"){te=pe.call(ce,te,Z);break e}te=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=ve.payload,Z=typeof pe=="function"?pe.call(ce,te,Z):pe,Z==null)break e;te=I({},te,Z);break e;case 2:or=!0}}A.callback!==null&&A.lane!==0&&(e.flags|=64,Z=f.effects,Z===null?f.effects=[A]:Z.push(A))}else ce={eventTime:ce,lane:Z,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?(q=J=ce,M=te):J=J.next=ce,w|=Z;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;Z=A,A=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);if(J===null&&(M=te),f.baseState=M,f.firstBaseUpdate=q,f.lastBaseUpdate=J,r=f.shared.interleaved,r!==null){f=r;do w|=f.lane,f=f.next;while(f!==r)}else h===null&&(f.shared.lanes=0);Rr|=w,e.lanes=w,e.memoizedState=te}}function Kf(e,r,a){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var c=e[r],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(o(191,f));f.call(c)}}}var vo={},jn=nr(vo),yo=nr(vo),bo=nr(vo);function Pr(e){if(e===vo)throw Error(o(174));return e}function Ol(e,r){switch(Ye(bo,r),Ye(yo,e),Ye(jn,vo),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Nr(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=Nr(r,e)}Ze(jn),Ye(jn,r)}function vs(){Ze(jn),Ze(yo),Ze(bo)}function qf(e){Pr(bo.current);var r=Pr(jn.current),a=Nr(r,e.type);r!==a&&(Ye(yo,e),Ye(jn,a))}function Ll(e){yo.current===e&&(Ze(jn),Ze(yo))}var tt=nr(0);function _a(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var $l=[];function zl(){for(var e=0;e<$l.length;e++)$l[e]._workInProgressVersionPrimary=null;$l.length=0}var Oa=L.ReactCurrentDispatcher,Vl=L.ReactCurrentBatchConfig,Br=0,nt=null,mt=null,jt=null,La=!1,jo=!1,wo=0,iy=0;function At(){throw Error(o(321))}function Ul(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!cn(e[a],r[a]))return!1;return!0}function Wl(e,r,a,c,f,h){if(Br=h,nt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Oa.current=e===null||e.memoizedState===null?uy:fy,e=a(c,f),jo){h=0;do{if(jo=!1,wo=0,25<=h)throw Error(o(301));h+=1,jt=mt=null,r.updateQueue=null,Oa.current=py,e=a(c,f)}while(jo)}if(Oa.current=Va,r=mt!==null&&mt.next!==null,Br=0,jt=mt=nt=null,La=!1,r)throw Error(o(300));return e}function Hl(){var e=wo!==0;return wo=0,e}function wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?nt.memoizedState=jt=e:jt=jt.next=e,jt}function en(){if(mt===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var r=jt===null?nt.memoizedState:jt.next;if(r!==null)jt=r,mt=e;else{if(e===null)throw Error(o(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},jt===null?nt.memoizedState=jt=e:jt=jt.next=e}return jt}function ko(e,r){return typeof r=="function"?r(e):r}function Gl(e){var r=en(),a=r.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var c=mt,f=c.baseQueue,h=a.pending;if(h!==null){if(f!==null){var w=f.next;f.next=h.next,h.next=w}c.baseQueue=f=h,a.pending=null}if(f!==null){h=f.next,c=c.baseState;var A=w=null,M=null,q=h;do{var J=q.lane;if((Br&J)===J)M!==null&&(M=M.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),c=q.hasEagerState?q.eagerState:e(c,q.action);else{var te={lane:J,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};M===null?(A=M=te,w=c):M=M.next=te,nt.lanes|=J,Rr|=J}q=q.next}while(q!==null&&q!==h);M===null?w=c:M.next=A,cn(c,r.memoizedState)||(zt=!0),r.memoizedState=c,r.baseState=w,r.baseQueue=M,a.lastRenderedState=c}if(e=a.interleaved,e!==null){f=e;do h=f.lane,nt.lanes|=h,Rr|=h,f=f.next;while(f!==e)}else f===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function Kl(e){var r=en(),a=r.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var c=a.dispatch,f=a.pending,h=r.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do h=e(h,w.action),w=w.next;while(w!==f);cn(h,r.memoizedState)||(zt=!0),r.memoizedState=h,r.baseQueue===null&&(r.baseState=h),a.lastRenderedState=h}return[h,c]}function Xf(){}function Yf(e,r){var a=nt,c=en(),f=r(),h=!cn(c.memoizedState,f);if(h&&(c.memoizedState=f,zt=!0),c=c.queue,ql(Jf.bind(null,a,c,e),[e]),c.getSnapshot!==r||h||jt!==null&&jt.memoizedState.tag&1){if(a.flags|=2048,No(9,Zf.bind(null,a,c,f,r),void 0,null),wt===null)throw Error(o(349));(Br&30)!==0||Qf(a,r,f)}return f}function Qf(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=nt.updateQueue,r===null?(r={lastEffect:null,stores:null},nt.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function Zf(e,r,a,c){r.value=a,r.getSnapshot=c,ep(r)&&tp(e)}function Jf(e,r,a){return a(function(){ep(r)&&tp(e)})}function ep(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!cn(e,a)}catch{return!0}}function tp(e){var r=In(e,1);r!==null&&mn(r,e,1,-1)}function np(e){var r=wn();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:e},r.queue=e,e=e.dispatch=dy.bind(null,nt,e),[r.memoizedState,e]}function No(e,r,a,c){return e={tag:e,create:r,destroy:a,deps:c,next:null},r=nt.updateQueue,r===null?(r={lastEffect:null,stores:null},nt.updateQueue=r,r.lastEffect=e.next=e):(a=r.lastEffect,a===null?r.lastEffect=e.next=e:(c=a.next,a.next=e,e.next=c,r.lastEffect=e)),e}function rp(){return en().memoizedState}function $a(e,r,a,c){var f=wn();nt.flags|=e,f.memoizedState=No(1|r,a,void 0,c===void 0?null:c)}function za(e,r,a,c){var f=en();c=c===void 0?null:c;var h=void 0;if(mt!==null){var w=mt.memoizedState;if(h=w.destroy,c!==null&&Ul(c,w.deps)){f.memoizedState=No(r,a,h,c);return}}nt.flags|=e,f.memoizedState=No(1|r,a,h,c)}function sp(e,r){return $a(8390656,8,e,r)}function ql(e,r){return za(2048,8,e,r)}function op(e,r){return za(4,2,e,r)}function ap(e,r){return za(4,4,e,r)}function ip(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function lp(e,r,a){return a=a!=null?a.concat([e]):null,za(4,4,ip.bind(null,r,e),a)}function Xl(){}function cp(e,r){var a=en();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&Ul(r,c[1])?c[0]:(a.memoizedState=[e,r],e)}function dp(e,r){var a=en();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&Ul(r,c[1])?c[0]:(e=e(),a.memoizedState=[e,r],e)}function up(e,r,a){return(Br&21)===0?(e.baseState&&(e.baseState=!1,zt=!0),e.memoizedState=a):(cn(a,r)||(a=$u(),nt.lanes|=a,Rr|=a,e.baseState=!0),r)}function ly(e,r){var a=He;He=a!==0&&4>a?a:4,e(!0);var c=Vl.transition;Vl.transition={};try{e(!1),r()}finally{He=a,Vl.transition=c}}function fp(){return en().memoizedState}function cy(e,r,a){var c=dr(e);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},pp(e))mp(r,a);else if(a=Wf(e,r,a,c),a!==null){var f=It();mn(a,e,c,f),hp(a,r,c)}}function dy(e,r,a){var c=dr(e),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(pp(e))mp(r,f);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=r.lastRenderedReducer,h!==null))try{var w=r.lastRenderedState,A=h(w,a);if(f.hasEagerState=!0,f.eagerState=A,cn(A,w)){var M=r.interleaved;M===null?(f.next=f,Il(r)):(f.next=M.next,M.next=f),r.interleaved=f;return}}catch{}finally{}a=Wf(e,r,f,c),a!==null&&(f=It(),mn(a,e,c,f),hp(a,r,c))}}function pp(e){var r=e.alternate;return e===nt||r!==null&&r===nt}function mp(e,r){jo=La=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function hp(e,r,a){if((a&4194240)!==0){var c=r.lanes;c&=e.pendingLanes,a|=c,r.lanes=a,Qi(e,a)}}var Va={readContext:Jt,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},uy={readContext:Jt,useCallback:function(e,r){return wn().memoizedState=[e,r===void 0?null:r],e},useContext:Jt,useEffect:sp,useImperativeHandle:function(e,r,a){return a=a!=null?a.concat([e]):null,$a(4194308,4,ip.bind(null,r,e),a)},useLayoutEffect:function(e,r){return $a(4194308,4,e,r)},useInsertionEffect:function(e,r){return $a(4,2,e,r)},useMemo:function(e,r){var a=wn();return r=r===void 0?null:r,e=e(),a.memoizedState=[e,r],e},useReducer:function(e,r,a){var c=wn();return r=a!==void 0?a(r):r,c.memoizedState=c.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},c.queue=e,e=e.dispatch=cy.bind(null,nt,e),[c.memoizedState,e]},useRef:function(e){var r=wn();return e={current:e},r.memoizedState=e},useState:np,useDebugValue:Xl,useDeferredValue:function(e){return wn().memoizedState=e},useTransition:function(){var e=np(!1),r=e[0];return e=ly.bind(null,e[1]),wn().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,a){var c=nt,f=wn();if(Je){if(a===void 0)throw Error(o(407));a=a()}else{if(a=r(),wt===null)throw Error(o(349));(Br&30)!==0||Qf(c,r,a)}f.memoizedState=a;var h={value:a,getSnapshot:r};return f.queue=h,sp(Jf.bind(null,c,h,e),[e]),c.flags|=2048,No(9,Zf.bind(null,c,h,a,r),void 0,null),a},useId:function(){var e=wn(),r=wt.identifierPrefix;if(Je){var a=Mn,c=Rn;a=(c&~(1<<32-ln(c)-1)).toString(32)+a,r=":"+r+"R"+a,a=wo++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=iy++,r=":"+r+"r"+a.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},fy={readContext:Jt,useCallback:cp,useContext:Jt,useEffect:ql,useImperativeHandle:lp,useInsertionEffect:op,useLayoutEffect:ap,useMemo:dp,useReducer:Gl,useRef:rp,useState:function(){return Gl(ko)},useDebugValue:Xl,useDeferredValue:function(e){var r=en();return up(r,mt.memoizedState,e)},useTransition:function(){var e=Gl(ko)[0],r=en().memoizedState;return[e,r]},useMutableSource:Xf,useSyncExternalStore:Yf,useId:fp,unstable_isNewReconciler:!1},py={readContext:Jt,useCallback:cp,useContext:Jt,useEffect:ql,useImperativeHandle:lp,useInsertionEffect:op,useLayoutEffect:ap,useMemo:dp,useReducer:Kl,useRef:rp,useState:function(){return Kl(ko)},useDebugValue:Xl,useDeferredValue:function(e){var r=en();return mt===null?r.memoizedState=e:up(r,mt.memoizedState,e)},useTransition:function(){var e=Kl(ko)[0],r=en().memoizedState;return[e,r]},useMutableSource:Xf,useSyncExternalStore:Yf,useId:fp,unstable_isNewReconciler:!1};function un(e,r){if(e&&e.defaultProps){r=I({},r),e=e.defaultProps;for(var a in e)r[a]===void 0&&(r[a]=e[a]);return r}return r}function Yl(e,r,a,c){r=e.memoizedState,a=a(c,r),a=a==null?r:I({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ua={isMounted:function(e){return(e=e._reactInternals)?Cr(e)===e:!1},enqueueSetState:function(e,r,a){e=e._reactInternals;var c=It(),f=dr(e),h=_n(c,f);h.payload=r,a!=null&&(h.callback=a),r=ar(e,h,f),r!==null&&(mn(r,e,f,c),Ma(r,e,f))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var c=It(),f=dr(e),h=_n(c,f);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=ar(e,h,f),r!==null&&(mn(r,e,f,c),Ma(r,e,f))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=It(),c=dr(e),f=_n(a,c);f.tag=2,r!=null&&(f.callback=r),r=ar(e,f,c),r!==null&&(mn(r,e,c,a),Ma(r,e,c))}};function xp(e,r,a,c,f,h,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,h,w):r.prototype&&r.prototype.isPureReactComponent?!co(a,c)||!co(f,h):!0}function gp(e,r,a){var c=!1,f=rr,h=r.contextType;return typeof h=="object"&&h!==null?h=Jt(h):(f=$t(r)?Er:Et.current,c=r.contextTypes,h=(c=c!=null)?us(e,f):rr),r=new r(a,h),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Ua,e.stateNode=r,r._reactInternals=e,c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=f,e.__reactInternalMemoizedMaskedChildContext=h),r}function vp(e,r,a,c){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,c),r.state!==e&&Ua.enqueueReplaceState(r,r.state,null)}function Ql(e,r,a,c){var f=e.stateNode;f.props=a,f.state=e.memoizedState,f.refs={},_l(e);var h=r.contextType;typeof h=="object"&&h!==null?f.context=Jt(h):(h=$t(r)?Er:Et.current,f.context=us(e,h)),f.state=e.memoizedState,h=r.getDerivedStateFromProps,typeof h=="function"&&(Yl(e,r,h,a),f.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&Ua.enqueueReplaceState(f,f.state,null),Ia(e,a,f,c),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308)}function ys(e,r){try{var a="",c=r;do a+=ae(c),c=c.return;while(c);var f=a}catch(h){f=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:r,stack:f,digest:null}}function Zl(e,r,a){return{value:e,source:null,stack:a??null,digest:r??null}}function Jl(e,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var my=typeof WeakMap=="function"?WeakMap:Map;function yp(e,r,a){a=_n(-1,a),a.tag=3,a.payload={element:null};var c=r.value;return a.callback=function(){Ya||(Ya=!0,mc=c),Jl(e,r)},a}function bp(e,r,a){a=_n(-1,a),a.tag=3;var c=e.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;a.payload=function(){return c(f)},a.callback=function(){Jl(e,r)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(a.callback=function(){Jl(e,r),typeof c!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var w=r.stack;this.componentDidCatch(r.value,{componentStack:w!==null?w:""})}),a}function jp(e,r,a){var c=e.pingCache;if(c===null){c=e.pingCache=new my;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(a)||(f.add(a),e=Ey.bind(null,e,r,a),r.then(e,e))}function wp(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function kp(e,r,a,c,f){return(e.mode&1)===0?(e===r?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=_n(-1,1),r.tag=2,ar(a,r,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=f,e)}var hy=L.ReactCurrentOwner,zt=!1;function Mt(e,r,a,c){r.child=e===null?Uf(r,null,a,c):hs(r,e.child,a,c)}function Np(e,r,a,c,f){a=a.render;var h=r.ref;return gs(r,f),c=Wl(e,r,a,c,h,f),a=Hl(),e!==null&&!zt?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~f,On(e,r,f)):(Je&&a&&Sl(r),r.flags|=1,Mt(e,r,c,f),r.child)}function Fp(e,r,a,c,f){if(e===null){var h=a.type;return typeof h=="function"&&!jc(h)&&h.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=h,Cp(e,r,h,c,f)):(e=ni(a.type,null,c,r,r.mode,f),e.ref=r.ref,e.return=r,r.child=e)}if(h=e.child,(e.lanes&f)===0){var w=h.memoizedProps;if(a=a.compare,a=a!==null?a:co,a(w,c)&&e.ref===r.ref)return On(e,r,f)}return r.flags|=1,e=fr(h,c),e.ref=r.ref,e.return=r,r.child=e}function Cp(e,r,a,c,f){if(e!==null){var h=e.memoizedProps;if(co(h,c)&&e.ref===r.ref)if(zt=!1,r.pendingProps=c=h,(e.lanes&f)!==0)(e.flags&131072)!==0&&(zt=!0);else return r.lanes=e.lanes,On(e,r,f)}return ec(e,r,a,c,f)}function Sp(e,r,a){var c=r.pendingProps,f=c.children,h=e!==null?e.memoizedState:null;if(c.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(js,Xt),Xt|=a;else{if((a&1073741824)===0)return e=h!==null?h.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,Ye(js,Xt),Xt|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=h!==null?h.baseLanes:a,Ye(js,Xt),Xt|=c}else h!==null?(c=h.baseLanes|a,r.memoizedState=null):c=a,Ye(js,Xt),Xt|=c;return Mt(e,r,f,a),r.child}function Ep(e,r){var a=r.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function ec(e,r,a,c,f){var h=$t(a)?Er:Et.current;return h=us(r,h),gs(r,f),a=Wl(e,r,a,c,h,f),c=Hl(),e!==null&&!zt?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~f,On(e,r,f)):(Je&&c&&Sl(r),r.flags|=1,Mt(e,r,a,f),r.child)}function Ap(e,r,a,c,f){if($t(a)){var h=!0;Sa(r)}else h=!1;if(gs(r,f),r.stateNode===null)Ha(e,r),gp(r,a,c),Ql(r,a,c,f),c=!0;else if(e===null){var w=r.stateNode,A=r.memoizedProps;w.props=A;var M=w.context,q=a.contextType;typeof q=="object"&&q!==null?q=Jt(q):(q=$t(a)?Er:Et.current,q=us(r,q));var J=a.getDerivedStateFromProps,te=typeof J=="function"||typeof w.getSnapshotBeforeUpdate=="function";te||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==c||M!==q)&&vp(r,w,c,q),or=!1;var Z=r.memoizedState;w.state=Z,Ia(r,c,w,f),M=r.memoizedState,A!==c||Z!==M||Lt.current||or?(typeof J=="function"&&(Yl(r,a,J,c),M=r.memoizedState),(A=or||xp(r,a,A,c,Z,M,q))?(te||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(r.flags|=4194308)):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=M),w.props=c,w.state=M,w.context=q,c=A):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{w=r.stateNode,Hf(e,r),A=r.memoizedProps,q=r.type===r.elementType?A:un(r.type,A),w.props=q,te=r.pendingProps,Z=w.context,M=a.contextType,typeof M=="object"&&M!==null?M=Jt(M):(M=$t(a)?Er:Et.current,M=us(r,M));var ce=a.getDerivedStateFromProps;(J=typeof ce=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==te||Z!==M)&&vp(r,w,c,M),or=!1,Z=r.memoizedState,w.state=Z,Ia(r,c,w,f);var pe=r.memoizedState;A!==te||Z!==pe||Lt.current||or?(typeof ce=="function"&&(Yl(r,a,ce,c),pe=r.memoizedState),(q=or||xp(r,a,q,c,Z,pe,M)||!1)?(J||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,pe,M),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,pe,M)),typeof w.componentDidUpdate=="function"&&(r.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof w.componentDidUpdate!="function"||A===e.memoizedProps&&Z===e.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&Z===e.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=pe),w.props=c,w.state=pe,w.context=M,c=q):(typeof w.componentDidUpdate!="function"||A===e.memoizedProps&&Z===e.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&Z===e.memoizedState||(r.flags|=1024),c=!1)}return tc(e,r,a,c,h,f)}function tc(e,r,a,c,f,h){Ep(e,r);var w=(r.flags&128)!==0;if(!c&&!w)return f&&Rf(r,a,!1),On(e,r,h);c=r.stateNode,hy.current=r;var A=w&&typeof a.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,e!==null&&w?(r.child=hs(r,e.child,null,h),r.child=hs(r,null,A,h)):Mt(e,r,A,h),r.memoizedState=c.state,f&&Rf(r,a,!0),r.child}function Tp(e){var r=e.stateNode;r.pendingContext?Pf(e,r.pendingContext,r.pendingContext!==r.context):r.context&&Pf(e,r.context,!1),Ol(e,r.containerInfo)}function Dp(e,r,a,c,f){return ms(),Dl(f),r.flags|=256,Mt(e,r,a,c),r.child}var nc={dehydrated:null,treeContext:null,retryLane:0};function rc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Pp(e,r,a){var c=r.pendingProps,f=tt.current,h=!1,w=(r.flags&128)!==0,A;if((A=w)||(A=e!==null&&e.memoizedState===null?!1:(f&2)!==0),A?(h=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(f|=1),Ye(tt,f&1),e===null)return Tl(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((r.mode&1)===0?r.lanes=1:e.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(w=c.children,e=c.fallback,h?(c=r.mode,h=r.child,w={mode:"hidden",children:w},(c&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=w):h=ri(w,c,0,null),e=Or(e,c,a,null),h.return=r,e.return=r,h.sibling=e,r.child=h,r.child.memoizedState=rc(a),r.memoizedState=nc,e):sc(r,w));if(f=e.memoizedState,f!==null&&(A=f.dehydrated,A!==null))return xy(e,r,w,c,A,f,a);if(h){h=c.fallback,w=r.mode,f=e.child,A=f.sibling;var M={mode:"hidden",children:c.children};return(w&1)===0&&r.child!==f?(c=r.child,c.childLanes=0,c.pendingProps=M,r.deletions=null):(c=fr(f,M),c.subtreeFlags=f.subtreeFlags&14680064),A!==null?h=fr(A,h):(h=Or(h,w,a,null),h.flags|=2),h.return=r,c.return=r,c.sibling=h,r.child=c,c=h,h=r.child,w=e.child.memoizedState,w=w===null?rc(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},h.memoizedState=w,h.childLanes=e.childLanes&~a,r.memoizedState=nc,c}return h=e.child,e=h.sibling,c=fr(h,{mode:"visible",children:c.children}),(r.mode&1)===0&&(c.lanes=a),c.return=r,c.sibling=null,e!==null&&(a=r.deletions,a===null?(r.deletions=[e],r.flags|=16):a.push(e)),r.child=c,r.memoizedState=null,c}function sc(e,r){return r=ri({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function Wa(e,r,a,c){return c!==null&&Dl(c),hs(r,e.child,null,a),e=sc(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function xy(e,r,a,c,f,h,w){if(a)return r.flags&256?(r.flags&=-257,c=Zl(Error(o(422))),Wa(e,r,w,c)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(h=c.fallback,f=r.mode,c=ri({mode:"visible",children:c.children},f,0,null),h=Or(h,f,w,null),h.flags|=2,c.return=r,h.return=r,c.sibling=h,r.child=c,(r.mode&1)!==0&&hs(r,e.child,null,w),r.child.memoizedState=rc(w),r.memoizedState=nc,h);if((r.mode&1)===0)return Wa(e,r,w,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var A=c.dgst;return c=A,h=Error(o(419)),c=Zl(h,c,void 0),Wa(e,r,w,c)}if(A=(w&e.childLanes)!==0,zt||A){if(c=wt,c!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|w))!==0?0:f,f!==0&&f!==h.retryLane&&(h.retryLane=f,In(e,f),mn(c,e,f,-1))}return bc(),c=Zl(Error(o(421))),Wa(e,r,w,c)}return f.data==="$?"?(r.flags|=128,r.child=e.child,r=Ay.bind(null,e),f._reactRetry=r,null):(e=h.treeContext,qt=tr(f.nextSibling),Kt=r,Je=!0,dn=null,e!==null&&(Qt[Zt++]=Rn,Qt[Zt++]=Mn,Qt[Zt++]=Ar,Rn=e.id,Mn=e.overflow,Ar=r),r=sc(r,c.children),r.flags|=4096,r)}function Bp(e,r,a){e.lanes|=r;var c=e.alternate;c!==null&&(c.lanes|=r),Ml(e.return,r,a)}function oc(e,r,a,c,f){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(h.isBackwards=r,h.rendering=null,h.renderingStartTime=0,h.last=c,h.tail=a,h.tailMode=f)}function Rp(e,r,a){var c=r.pendingProps,f=c.revealOrder,h=c.tail;if(Mt(e,r,c.children,a),c=tt.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bp(e,a,r);else if(e.tag===19)Bp(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}if(Ye(tt,c),(r.mode&1)===0)r.memoizedState=null;else switch(f){case"forwards":for(a=r.child,f=null;a!==null;)e=a.alternate,e!==null&&_a(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),oc(r,!1,f,a,h);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(e=f.alternate,e!==null&&_a(e)===null){r.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}oc(r,!0,a,null,h);break;case"together":oc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ha(e,r){(r.mode&1)===0&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function On(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),Rr|=r.lanes,(a&r.childLanes)===0)return null;if(e!==null&&r.child!==e.child)throw Error(o(153));if(r.child!==null){for(e=r.child,a=fr(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=fr(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function gy(e,r,a){switch(r.tag){case 3:Tp(r),ms();break;case 5:qf(r);break;case 1:$t(r.type)&&Sa(r);break;case 4:Ol(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,f=r.memoizedProps.value;Ye(Ba,c._currentValue),c._currentValue=f;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(Ye(tt,tt.current&1),r.flags|=128,null):(a&r.child.childLanes)!==0?Pp(e,r,a):(Ye(tt,tt.current&1),e=On(e,r,a),e!==null?e.sibling:null);Ye(tt,tt.current&1);break;case 19:if(c=(a&r.childLanes)!==0,(e.flags&128)!==0){if(c)return Rp(e,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ye(tt,tt.current),c)break;return null;case 22:case 23:return r.lanes=0,Sp(e,r,a)}return On(e,r,a)}var Mp,ac,Ip,_p;Mp=function(e,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},ac=function(){},Ip=function(e,r,a,c){var f=e.memoizedProps;if(f!==c){e=r.stateNode,Pr(jn.current);var h=null;switch(a){case"input":f=we(e,f),c=we(e,c),h=[];break;case"select":f=I({},f,{value:void 0}),c=I({},c,{value:void 0}),h=[];break;case"textarea":f=ue(e,f),c=ue(e,c),h=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(e.onclick=Na)}ge(a,c);var w;a=null;for(q in f)if(!c.hasOwnProperty(q)&&f.hasOwnProperty(q)&&f[q]!=null)if(q==="style"){var A=f[q];for(w in A)A.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(d.hasOwnProperty(q)?h||(h=[]):(h=h||[]).push(q,null));for(q in c){var M=c[q];if(A=f?.[q],c.hasOwnProperty(q)&&M!==A&&(M!=null||A!=null))if(q==="style")if(A){for(w in A)!A.hasOwnProperty(w)||M&&M.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in M)M.hasOwnProperty(w)&&A[w]!==M[w]&&(a||(a={}),a[w]=M[w])}else a||(h||(h=[]),h.push(q,a)),a=M;else q==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,A=A?A.__html:void 0,M!=null&&A!==M&&(h=h||[]).push(q,M)):q==="children"?typeof M!="string"&&typeof M!="number"||(h=h||[]).push(q,""+M):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(d.hasOwnProperty(q)?(M!=null&&q==="onScroll"&&Qe("scroll",e),h||A===M||(h=[])):(h=h||[]).push(q,M))}a&&(h=h||[]).push("style",a);var q=h;(r.updateQueue=q)&&(r.flags|=4)}},_p=function(e,r,a,c){a!==c&&(r.flags|=4)};function Fo(e,r){if(!Je)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Tt(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,c=0;if(r)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=c,e.childLanes=a,r}function vy(e,r,a){var c=r.pendingProps;switch(El(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(r),null;case 1:return $t(r.type)&&Ca(),Tt(r),null;case 3:return c=r.stateNode,vs(),Ze(Lt),Ze(Et),zl(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(Da(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,dn!==null&&(gc(dn),dn=null))),ac(e,r),Tt(r),null;case 5:Ll(r);var f=Pr(bo.current);if(a=r.type,e!==null&&r.stateNode!=null)Ip(e,r,a,c,f),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(o(166));return Tt(r),null}if(e=Pr(jn.current),Da(r)){c=r.stateNode,a=r.type;var h=r.memoizedProps;switch(c[bn]=r,c[ho]=h,e=(r.mode&1)!==0,a){case"dialog":Qe("cancel",c),Qe("close",c);break;case"iframe":case"object":case"embed":Qe("load",c);break;case"video":case"audio":for(f=0;f<fo.length;f++)Qe(fo[f],c);break;case"source":Qe("error",c);break;case"img":case"image":case"link":Qe("error",c),Qe("load",c);break;case"details":Qe("toggle",c);break;case"input":ne(c,h),Qe("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!h.multiple},Qe("invalid",c);break;case"textarea":Q(c,h),Qe("invalid",c)}ge(a,h),f=null;for(var w in h)if(h.hasOwnProperty(w)){var A=h[w];w==="children"?typeof A=="string"?c.textContent!==A&&(h.suppressHydrationWarning!==!0&&ka(c.textContent,A,e),f=["children",A]):typeof A=="number"&&c.textContent!==""+A&&(h.suppressHydrationWarning!==!0&&ka(c.textContent,A,e),f=["children",""+A]):d.hasOwnProperty(w)&&A!=null&&w==="onScroll"&&Qe("scroll",c)}switch(a){case"input":gt(c),Bt(c,h,!0);break;case"textarea":gt(c),Pe(c);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(c.onclick=Na)}c=f,r.updateQueue=c,c!==null&&(r.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=bt(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=w.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof c.is=="string"?e=w.createElement(a,{is:c.is}):(e=w.createElement(a),a==="select"&&(w=e,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):e=w.createElementNS(e,a),e[bn]=r,e[ho]=c,Mp(e,r,!1,!1),r.stateNode=e;e:{switch(w=Le(a,c),a){case"dialog":Qe("cancel",e),Qe("close",e),f=c;break;case"iframe":case"object":case"embed":Qe("load",e),f=c;break;case"video":case"audio":for(f=0;f<fo.length;f++)Qe(fo[f],e);f=c;break;case"source":Qe("error",e),f=c;break;case"img":case"image":case"link":Qe("error",e),Qe("load",e),f=c;break;case"details":Qe("toggle",e),f=c;break;case"input":ne(e,c),f=we(e,c),Qe("invalid",e);break;case"option":f=c;break;case"select":e._wrapperState={wasMultiple:!!c.multiple},f=I({},c,{value:void 0}),Qe("invalid",e);break;case"textarea":Q(e,c),f=ue(e,c),Qe("invalid",e);break;default:f=c}ge(a,f),A=f;for(h in A)if(A.hasOwnProperty(h)){var M=A[h];h==="style"?X(e,M):h==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&ts(e,M)):h==="children"?typeof M=="string"?(a!=="textarea"||M!=="")&&An(e,M):typeof M=="number"&&An(e,""+M):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(d.hasOwnProperty(h)?M!=null&&h==="onScroll"&&Qe("scroll",e):M!=null&&C(e,h,M,w))}switch(a){case"input":gt(e),Bt(e,c,!1);break;case"textarea":gt(e),Pe(e);break;case"option":c.value!=null&&e.setAttribute("value",""+Ae(c.value));break;case"select":e.multiple=!!c.multiple,h=c.value,h!=null?ie(e,!!c.multiple,h,!1):c.defaultValue!=null&&ie(e,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(e.onclick=Na)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Tt(r),null;case 6:if(e&&r.stateNode!=null)_p(e,r,e.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(o(166));if(a=Pr(bo.current),Pr(jn.current),Da(r)){if(c=r.stateNode,a=r.memoizedProps,c[bn]=r,(h=c.nodeValue!==a)&&(e=Kt,e!==null))switch(e.tag){case 3:ka(c.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ka(c.nodeValue,a,(e.mode&1)!==0)}h&&(r.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[bn]=r,r.stateNode=c}return Tt(r),null;case 13:if(Ze(tt),c=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Je&&qt!==null&&(r.mode&1)!==0&&(r.flags&128)===0)$f(),ms(),r.flags|=98560,h=!1;else if(h=Da(r),c!==null&&c.dehydrated!==null){if(e===null){if(!h)throw Error(o(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));h[bn]=r}else ms(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Tt(r),h=!1}else dn!==null&&(gc(dn),dn=null),h=!0;if(!h)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=a,r):(c=c!==null,c!==(e!==null&&e.memoizedState!==null)&&c&&(r.child.flags|=8192,(r.mode&1)!==0&&(e===null||(tt.current&1)!==0?ht===0&&(ht=3):bc())),r.updateQueue!==null&&(r.flags|=4),Tt(r),null);case 4:return vs(),ac(e,r),e===null&&po(r.stateNode.containerInfo),Tt(r),null;case 10:return Rl(r.type._context),Tt(r),null;case 17:return $t(r.type)&&Ca(),Tt(r),null;case 19:if(Ze(tt),h=r.memoizedState,h===null)return Tt(r),null;if(c=(r.flags&128)!==0,w=h.rendering,w===null)if(c)Fo(h,!1);else{if(ht!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(w=_a(e),w!==null){for(r.flags|=128,Fo(h,!1),c=w.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=a,a=r.child;a!==null;)h=a,e=c,h.flags&=14680066,w=h.alternate,w===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=w.childLanes,h.lanes=w.lanes,h.child=w.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=w.memoizedProps,h.memoizedState=w.memoizedState,h.updateQueue=w.updateQueue,h.type=w.type,e=w.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return Ye(tt,tt.current&1|2),r.child}e=e.sibling}h.tail!==null&&lt()>ws&&(r.flags|=128,c=!0,Fo(h,!1),r.lanes=4194304)}else{if(!c)if(e=_a(w),e!==null){if(r.flags|=128,c=!0,a=e.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),Fo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!w.alternate&&!Je)return Tt(r),null}else 2*lt()-h.renderingStartTime>ws&&a!==1073741824&&(r.flags|=128,c=!0,Fo(h,!1),r.lanes=4194304);h.isBackwards?(w.sibling=r.child,r.child=w):(a=h.last,a!==null?a.sibling=w:r.child=w,h.last=w)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=lt(),r.sibling=null,a=tt.current,Ye(tt,c?a&1|2:a&1),r):(Tt(r),null);case 22:case 23:return yc(),c=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==c&&(r.flags|=8192),c&&(r.mode&1)!==0?(Xt&1073741824)!==0&&(Tt(r),r.subtreeFlags&6&&(r.flags|=8192)):Tt(r),null;case 24:return null;case 25:return null}throw Error(o(156,r.tag))}function yy(e,r){switch(El(r),r.tag){case 1:return $t(r.type)&&Ca(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return vs(),Ze(Lt),Ze(Et),zl(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 5:return Ll(r),null;case 13:if(Ze(tt),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(o(340));ms()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return Ze(tt),null;case 4:return vs(),null;case 10:return Rl(r.type._context),null;case 22:case 23:return yc(),null;case 24:return null;default:return null}}var Ga=!1,Dt=!1,by=typeof WeakSet=="function"?WeakSet:Set,fe=null;function bs(e,r){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){ot(e,r,c)}else a.current=null}function ic(e,r,a){try{a()}catch(c){ot(e,r,c)}}var Op=!1;function jy(e,r){if(yl=fa,e=xf(),ul(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var w=0,A=-1,M=-1,q=0,J=0,te=e,Z=null;t:for(;;){for(var ce;te!==a||f!==0&&te.nodeType!==3||(A=w+f),te!==h||c!==0&&te.nodeType!==3||(M=w+c),te.nodeType===3&&(w+=te.nodeValue.length),(ce=te.firstChild)!==null;)Z=te,te=ce;for(;;){if(te===e)break t;if(Z===a&&++q===f&&(A=w),Z===h&&++J===c&&(M=w),(ce=te.nextSibling)!==null)break;te=Z,Z=te.parentNode}te=ce}a=A===-1||M===-1?null:{start:A,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(bl={focusedElem:e,selectionRange:a},fa=!1,fe=r;fe!==null;)if(r=fe,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,fe=e;else for(;fe!==null;){r=fe;try{var pe=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var ve=pe.memoizedProps,ct=pe.memoizedState,U=r.stateNode,z=U.getSnapshotBeforeUpdate(r.elementType===r.type?ve:un(r.type,ve),ct);U.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var W=r.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(re){ot(r,r.return,re)}if(e=r.sibling,e!==null){e.return=r.return,fe=e;break}fe=r.return}return pe=Op,Op=!1,pe}function Co(e,r,a){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&e)===e){var h=f.destroy;f.destroy=void 0,h!==void 0&&ic(r,a,h)}f=f.next}while(f!==c)}}function Ka(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var c=a.create;a.destroy=c()}a=a.next}while(a!==r)}}function lc(e){var r=e.ref;if(r!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof r=="function"?r(e):r.current=e}}function Lp(e){var r=e.alternate;r!==null&&(e.alternate=null,Lp(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[bn],delete r[ho],delete r[Nl],delete r[ry],delete r[sy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $p(e){return e.tag===5||e.tag===3||e.tag===4}function zp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$p(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cc(e,r,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(e,r):a.insertBefore(e,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(e,a)):(r=a,r.appendChild(e)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Na));else if(c!==4&&(e=e.child,e!==null))for(cc(e,r,a),e=e.sibling;e!==null;)cc(e,r,a),e=e.sibling}function dc(e,r,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(c!==4&&(e=e.child,e!==null))for(dc(e,r,a),e=e.sibling;e!==null;)dc(e,r,a),e=e.sibling}var Nt=null,fn=!1;function ir(e,r,a){for(a=a.child;a!==null;)Vp(e,r,a),a=a.sibling}function Vp(e,r,a){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(aa,a)}catch{}switch(a.tag){case 5:Dt||bs(a,r);case 6:var c=Nt,f=fn;Nt=null,ir(e,r,a),Nt=c,fn=f,Nt!==null&&(fn?(e=Nt,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):Nt.removeChild(a.stateNode));break;case 18:Nt!==null&&(fn?(e=Nt,a=a.stateNode,e.nodeType===8?kl(e.parentNode,a):e.nodeType===1&&kl(e,a),ro(e)):kl(Nt,a.stateNode));break;case 4:c=Nt,f=fn,Nt=a.stateNode.containerInfo,fn=!0,ir(e,r,a),Nt=c,fn=f;break;case 0:case 11:case 14:case 15:if(!Dt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var h=f,w=h.destroy;h=h.tag,w!==void 0&&((h&2)!==0||(h&4)!==0)&&ic(a,r,w),f=f.next}while(f!==c)}ir(e,r,a);break;case 1:if(!Dt&&(bs(a,r),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(A){ot(a,r,A)}ir(e,r,a);break;case 21:ir(e,r,a);break;case 22:a.mode&1?(Dt=(c=Dt)||a.memoizedState!==null,ir(e,r,a),Dt=c):ir(e,r,a);break;default:ir(e,r,a)}}function Up(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new by),r.forEach(function(c){var f=Ty.bind(null,e,c);a.has(c)||(a.add(c),c.then(f,f))})}}function pn(e,r){var a=r.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var h=e,w=r,A=w;e:for(;A!==null;){switch(A.tag){case 5:Nt=A.stateNode,fn=!1;break e;case 3:Nt=A.stateNode.containerInfo,fn=!0;break e;case 4:Nt=A.stateNode.containerInfo,fn=!0;break e}A=A.return}if(Nt===null)throw Error(o(160));Vp(h,w,f),Nt=null,fn=!1;var M=f.alternate;M!==null&&(M.return=null),f.return=null}catch(q){ot(f,r,q)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Wp(r,e),r=r.sibling}function Wp(e,r){var a=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pn(r,e),kn(e),c&4){try{Co(3,e,e.return),Ka(3,e)}catch(ve){ot(e,e.return,ve)}try{Co(5,e,e.return)}catch(ve){ot(e,e.return,ve)}}break;case 1:pn(r,e),kn(e),c&512&&a!==null&&bs(a,a.return);break;case 5:if(pn(r,e),kn(e),c&512&&a!==null&&bs(a,a.return),e.flags&32){var f=e.stateNode;try{An(f,"")}catch(ve){ot(e,e.return,ve)}}if(c&4&&(f=e.stateNode,f!=null)){var h=e.memoizedProps,w=a!==null?a.memoizedProps:h,A=e.type,M=e.updateQueue;if(e.updateQueue=null,M!==null)try{A==="input"&&h.type==="radio"&&h.name!=null&&Ie(f,h),Le(A,w);var q=Le(A,h);for(w=0;w<M.length;w+=2){var J=M[w],te=M[w+1];J==="style"?X(f,te):J==="dangerouslySetInnerHTML"?ts(f,te):J==="children"?An(f,te):C(f,J,te,q)}switch(A){case"input":ze(f,h);break;case"textarea":Be(f,h);break;case"select":var Z=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!h.multiple;var ce=h.value;ce!=null?ie(f,!!h.multiple,ce,!1):Z!==!!h.multiple&&(h.defaultValue!=null?ie(f,!!h.multiple,h.defaultValue,!0):ie(f,!!h.multiple,h.multiple?[]:"",!1))}f[ho]=h}catch(ve){ot(e,e.return,ve)}}break;case 6:if(pn(r,e),kn(e),c&4){if(e.stateNode===null)throw Error(o(162));f=e.stateNode,h=e.memoizedProps;try{f.nodeValue=h}catch(ve){ot(e,e.return,ve)}}break;case 3:if(pn(r,e),kn(e),c&4&&a!==null&&a.memoizedState.isDehydrated)try{ro(r.containerInfo)}catch(ve){ot(e,e.return,ve)}break;case 4:pn(r,e),kn(e);break;case 13:pn(r,e),kn(e),f=e.child,f.flags&8192&&(h=f.memoizedState!==null,f.stateNode.isHidden=h,!h||f.alternate!==null&&f.alternate.memoizedState!==null||(pc=lt())),c&4&&Up(e);break;case 22:if(J=a!==null&&a.memoizedState!==null,e.mode&1?(Dt=(q=Dt)||J,pn(r,e),Dt=q):pn(r,e),kn(e),c&8192){if(q=e.memoizedState!==null,(e.stateNode.isHidden=q)&&!J&&(e.mode&1)!==0)for(fe=e,J=e.child;J!==null;){for(te=fe=J;fe!==null;){switch(Z=fe,ce=Z.child,Z.tag){case 0:case 11:case 14:case 15:Co(4,Z,Z.return);break;case 1:bs(Z,Z.return);var pe=Z.stateNode;if(typeof pe.componentWillUnmount=="function"){c=Z,a=Z.return;try{r=c,pe.props=r.memoizedProps,pe.state=r.memoizedState,pe.componentWillUnmount()}catch(ve){ot(c,a,ve)}}break;case 5:bs(Z,Z.return);break;case 22:if(Z.memoizedState!==null){Kp(te);continue}}ce!==null?(ce.return=Z,fe=ce):Kp(te)}J=J.sibling}e:for(J=null,te=e;;){if(te.tag===5){if(J===null){J=te;try{f=te.stateNode,q?(h=f.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(A=te.stateNode,M=te.memoizedProps.style,w=M!=null&&M.hasOwnProperty("display")?M.display:null,A.style.display=P("display",w))}catch(ve){ot(e,e.return,ve)}}}else if(te.tag===6){if(J===null)try{te.stateNode.nodeValue=q?"":te.memoizedProps}catch(ve){ot(e,e.return,ve)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===e)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===e)break e;for(;te.sibling===null;){if(te.return===null||te.return===e)break e;J===te&&(J=null),te=te.return}J===te&&(J=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:pn(r,e),kn(e),c&4&&Up(e);break;case 21:break;default:pn(r,e),kn(e)}}function kn(e){var r=e.flags;if(r&2){try{e:{for(var a=e.return;a!==null;){if($p(a)){var c=a;break e}a=a.return}throw Error(o(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(An(f,""),c.flags&=-33);var h=zp(e);dc(e,h,f);break;case 3:case 4:var w=c.stateNode.containerInfo,A=zp(e);cc(e,A,w);break;default:throw Error(o(161))}}catch(M){ot(e,e.return,M)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function wy(e,r,a){fe=e,Hp(e)}function Hp(e,r,a){for(var c=(e.mode&1)!==0;fe!==null;){var f=fe,h=f.child;if(f.tag===22&&c){var w=f.memoizedState!==null||Ga;if(!w){var A=f.alternate,M=A!==null&&A.memoizedState!==null||Dt;A=Ga;var q=Dt;if(Ga=w,(Dt=M)&&!q)for(fe=f;fe!==null;)w=fe,M=w.child,w.tag===22&&w.memoizedState!==null?qp(f):M!==null?(M.return=w,fe=M):qp(f);for(;h!==null;)fe=h,Hp(h),h=h.sibling;fe=f,Ga=A,Dt=q}Gp(e)}else(f.subtreeFlags&8772)!==0&&h!==null?(h.return=f,fe=h):Gp(e)}}function Gp(e){for(;fe!==null;){var r=fe;if((r.flags&8772)!==0){var a=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Dt||Ka(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!Dt)if(a===null)c.componentDidMount();else{var f=r.elementType===r.type?a.memoizedProps:un(r.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var h=r.updateQueue;h!==null&&Kf(r,h,c);break;case 3:var w=r.updateQueue;if(w!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}Kf(r,w,a)}break;case 5:var A=r.stateNode;if(a===null&&r.flags&4){a=A;var M=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&a.focus();break;case"img":M.src&&(a.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var q=r.alternate;if(q!==null){var J=q.memoizedState;if(J!==null){var te=J.dehydrated;te!==null&&ro(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}Dt||r.flags&512&&lc(r)}catch(Z){ot(r,r.return,Z)}}if(r===e){fe=null;break}if(a=r.sibling,a!==null){a.return=r.return,fe=a;break}fe=r.return}}function Kp(e){for(;fe!==null;){var r=fe;if(r===e){fe=null;break}var a=r.sibling;if(a!==null){a.return=r.return,fe=a;break}fe=r.return}}function qp(e){for(;fe!==null;){var r=fe;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{Ka(4,r)}catch(M){ot(r,a,M)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var f=r.return;try{c.componentDidMount()}catch(M){ot(r,f,M)}}var h=r.return;try{lc(r)}catch(M){ot(r,h,M)}break;case 5:var w=r.return;try{lc(r)}catch(M){ot(r,w,M)}}}catch(M){ot(r,r.return,M)}if(r===e){fe=null;break}var A=r.sibling;if(A!==null){A.return=r.return,fe=A;break}fe=r.return}}var ky=Math.ceil,qa=L.ReactCurrentDispatcher,uc=L.ReactCurrentOwner,tn=L.ReactCurrentBatchConfig,$e=0,wt=null,ut=null,Ft=0,Xt=0,js=nr(0),ht=0,So=null,Rr=0,Xa=0,fc=0,Eo=null,Vt=null,pc=0,ws=1/0,Ln=null,Ya=!1,mc=null,lr=null,Qa=!1,cr=null,Za=0,Ao=0,hc=null,Ja=-1,ei=0;function It(){return($e&6)!==0?lt():Ja!==-1?Ja:Ja=lt()}function dr(e){return(e.mode&1)===0?1:($e&2)!==0&&Ft!==0?Ft&-Ft:ay.transition!==null?(ei===0&&(ei=$u()),ei):(e=He,e!==0||(e=window.event,e=e===void 0?16:Xu(e.type)),e)}function mn(e,r,a,c){if(50<Ao)throw Ao=0,hc=null,Error(o(185));Zs(e,a,c),(($e&2)===0||e!==wt)&&(e===wt&&(($e&2)===0&&(Xa|=a),ht===4&&ur(e,Ft)),Ut(e,c),a===1&&$e===0&&(r.mode&1)===0&&(ws=lt()+500,Ea&&sr()))}function Ut(e,r){var a=e.callbackNode;av(e,r);var c=ca(e,e===wt?Ft:0);if(c===0)a!==null&&_u(a),e.callbackNode=null,e.callbackPriority=0;else if(r=c&-c,e.callbackPriority!==r){if(a!=null&&_u(a),r===1)e.tag===0?oy(Yp.bind(null,e)):Mf(Yp.bind(null,e)),ty(function(){($e&6)===0&&sr()}),a=null;else{switch(zu(c)){case 1:a=qi;break;case 4:a=Ou;break;case 16:a=oa;break;case 536870912:a=Lu;break;default:a=oa}a=sm(a,Xp.bind(null,e))}e.callbackPriority=r,e.callbackNode=a}}function Xp(e,r){if(Ja=-1,ei=0,($e&6)!==0)throw Error(o(327));var a=e.callbackNode;if(ks()&&e.callbackNode!==a)return null;var c=ca(e,e===wt?Ft:0);if(c===0)return null;if((c&30)!==0||(c&e.expiredLanes)!==0||r)r=ti(e,c);else{r=c;var f=$e;$e|=2;var h=Zp();(wt!==e||Ft!==r)&&(Ln=null,ws=lt()+500,Ir(e,r));do try{Cy();break}catch(A){Qp(e,A)}while(!0);Bl(),qa.current=h,$e=f,ut!==null?r=0:(wt=null,Ft=0,r=ht)}if(r!==0){if(r===2&&(f=Xi(e),f!==0&&(c=f,r=xc(e,f))),r===1)throw a=So,Ir(e,0),ur(e,c),Ut(e,lt()),a;if(r===6)ur(e,c);else{if(f=e.current.alternate,(c&30)===0&&!Ny(f)&&(r=ti(e,c),r===2&&(h=Xi(e),h!==0&&(c=h,r=xc(e,h))),r===1))throw a=So,Ir(e,0),ur(e,c),Ut(e,lt()),a;switch(e.finishedWork=f,e.finishedLanes=c,r){case 0:case 1:throw Error(o(345));case 2:_r(e,Vt,Ln);break;case 3:if(ur(e,c),(c&130023424)===c&&(r=pc+500-lt(),10<r)){if(ca(e,0)!==0)break;if(f=e.suspendedLanes,(f&c)!==c){It(),e.pingedLanes|=e.suspendedLanes&f;break}e.timeoutHandle=wl(_r.bind(null,e,Vt,Ln),r);break}_r(e,Vt,Ln);break;case 4:if(ur(e,c),(c&4194240)===c)break;for(r=e.eventTimes,f=-1;0<c;){var w=31-ln(c);h=1<<w,w=r[w],w>f&&(f=w),c&=~h}if(c=f,c=lt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*ky(c/1960))-c,10<c){e.timeoutHandle=wl(_r.bind(null,e,Vt,Ln),c);break}_r(e,Vt,Ln);break;case 5:_r(e,Vt,Ln);break;default:throw Error(o(329))}}}return Ut(e,lt()),e.callbackNode===a?Xp.bind(null,e):null}function xc(e,r){var a=Eo;return e.current.memoizedState.isDehydrated&&(Ir(e,r).flags|=256),e=ti(e,r),e!==2&&(r=Vt,Vt=a,r!==null&&gc(r)),e}function gc(e){Vt===null?Vt=e:Vt.push.apply(Vt,e)}function Ny(e){for(var r=e;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],h=f.getSnapshot;f=f.value;try{if(!cn(h(),f))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ur(e,r){for(r&=~fc,r&=~Xa,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var a=31-ln(r),c=1<<a;e[a]=-1,r&=~c}}function Yp(e){if(($e&6)!==0)throw Error(o(327));ks();var r=ca(e,0);if((r&1)===0)return Ut(e,lt()),null;var a=ti(e,r);if(e.tag!==0&&a===2){var c=Xi(e);c!==0&&(r=c,a=xc(e,c))}if(a===1)throw a=So,Ir(e,0),ur(e,r),Ut(e,lt()),a;if(a===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,_r(e,Vt,Ln),Ut(e,lt()),null}function vc(e,r){var a=$e;$e|=1;try{return e(r)}finally{$e=a,$e===0&&(ws=lt()+500,Ea&&sr())}}function Mr(e){cr!==null&&cr.tag===0&&($e&6)===0&&ks();var r=$e;$e|=1;var a=tn.transition,c=He;try{if(tn.transition=null,He=1,e)return e()}finally{He=c,tn.transition=a,$e=r,($e&6)===0&&sr()}}function yc(){Xt=js.current,Ze(js)}function Ir(e,r){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,ey(a)),ut!==null)for(a=ut.return;a!==null;){var c=a;switch(El(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Ca();break;case 3:vs(),Ze(Lt),Ze(Et),zl();break;case 5:Ll(c);break;case 4:vs();break;case 13:Ze(tt);break;case 19:Ze(tt);break;case 10:Rl(c.type._context);break;case 22:case 23:yc()}a=a.return}if(wt=e,ut=e=fr(e.current,null),Ft=Xt=r,ht=0,So=null,fc=Xa=Rr=0,Vt=Eo=null,Dr!==null){for(r=0;r<Dr.length;r++)if(a=Dr[r],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,h=a.pending;if(h!==null){var w=h.next;h.next=f,c.next=w}a.pending=c}Dr=null}return e}function Qp(e,r){do{var a=ut;try{if(Bl(),Oa.current=Va,La){for(var c=nt.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}La=!1}if(Br=0,jt=mt=nt=null,jo=!1,wo=0,uc.current=null,a===null||a.return===null){ht=1,So=r,ut=null;break}e:{var h=e,w=a.return,A=a,M=r;if(r=Ft,A.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var q=M,J=A,te=J.tag;if((J.mode&1)===0&&(te===0||te===11||te===15)){var Z=J.alternate;Z?(J.updateQueue=Z.updateQueue,J.memoizedState=Z.memoizedState,J.lanes=Z.lanes):(J.updateQueue=null,J.memoizedState=null)}var ce=wp(w);if(ce!==null){ce.flags&=-257,kp(ce,w,A,h,r),ce.mode&1&&jp(h,q,r),r=ce,M=q;var pe=r.updateQueue;if(pe===null){var ve=new Set;ve.add(M),r.updateQueue=ve}else pe.add(M);break e}else{if((r&1)===0){jp(h,q,r),bc();break e}M=Error(o(426))}}else if(Je&&A.mode&1){var ct=wp(w);if(ct!==null){(ct.flags&65536)===0&&(ct.flags|=256),kp(ct,w,A,h,r),Dl(ys(M,A));break e}}h=M=ys(M,A),ht!==4&&(ht=2),Eo===null?Eo=[h]:Eo.push(h),h=w;do{switch(h.tag){case 3:h.flags|=65536,r&=-r,h.lanes|=r;var U=yp(h,M,r);Gf(h,U);break e;case 1:A=M;var z=h.type,W=h.stateNode;if((h.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(lr===null||!lr.has(W)))){h.flags|=65536,r&=-r,h.lanes|=r;var re=bp(h,A,r);Gf(h,re);break e}}h=h.return}while(h!==null)}em(a)}catch(be){r=be,ut===a&&a!==null&&(ut=a=a.return);continue}break}while(!0)}function Zp(){var e=qa.current;return qa.current=Va,e===null?Va:e}function bc(){(ht===0||ht===3||ht===2)&&(ht=4),wt===null||(Rr&268435455)===0&&(Xa&268435455)===0||ur(wt,Ft)}function ti(e,r){var a=$e;$e|=2;var c=Zp();(wt!==e||Ft!==r)&&(Ln=null,Ir(e,r));do try{Fy();break}catch(f){Qp(e,f)}while(!0);if(Bl(),$e=a,qa.current=c,ut!==null)throw Error(o(261));return wt=null,Ft=0,ht}function Fy(){for(;ut!==null;)Jp(ut)}function Cy(){for(;ut!==null&&!Q0();)Jp(ut)}function Jp(e){var r=rm(e.alternate,e,Xt);e.memoizedProps=e.pendingProps,r===null?em(e):ut=r,uc.current=null}function em(e){var r=e;do{var a=r.alternate;if(e=r.return,(r.flags&32768)===0){if(a=vy(a,r,Xt),a!==null){ut=a;return}}else{if(a=yy(a,r),a!==null){a.flags&=32767,ut=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ht=6,ut=null;return}}if(r=r.sibling,r!==null){ut=r;return}ut=r=e}while(r!==null);ht===0&&(ht=5)}function _r(e,r,a){var c=He,f=tn.transition;try{tn.transition=null,He=1,Sy(e,r,a,c)}finally{tn.transition=f,He=c}return null}function Sy(e,r,a,c){do ks();while(cr!==null);if(($e&6)!==0)throw Error(o(327));a=e.finishedWork;var f=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var h=a.lanes|a.childLanes;if(iv(e,h),e===wt&&(ut=wt=null,Ft=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Qa||(Qa=!0,sm(oa,function(){return ks(),null})),h=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||h){h=tn.transition,tn.transition=null;var w=He;He=1;var A=$e;$e|=4,uc.current=null,jy(e,a),Wp(a,e),Kv(bl),fa=!!yl,bl=yl=null,e.current=a,wy(a),Z0(),$e=A,He=w,tn.transition=h}else e.current=a;if(Qa&&(Qa=!1,cr=e,Za=f),h=e.pendingLanes,h===0&&(lr=null),tv(a.stateNode),Ut(e,lt()),r!==null)for(c=e.onRecoverableError,a=0;a<r.length;a++)f=r[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(Ya)throw Ya=!1,e=mc,mc=null,e;return(Za&1)!==0&&e.tag!==0&&ks(),h=e.pendingLanes,(h&1)!==0?e===hc?Ao++:(Ao=0,hc=e):Ao=0,sr(),null}function ks(){if(cr!==null){var e=zu(Za),r=tn.transition,a=He;try{if(tn.transition=null,He=16>e?16:e,cr===null)var c=!1;else{if(e=cr,cr=null,Za=0,($e&6)!==0)throw Error(o(331));var f=$e;for($e|=4,fe=e.current;fe!==null;){var h=fe,w=h.child;if((fe.flags&16)!==0){var A=h.deletions;if(A!==null){for(var M=0;M<A.length;M++){var q=A[M];for(fe=q;fe!==null;){var J=fe;switch(J.tag){case 0:case 11:case 15:Co(8,J,h)}var te=J.child;if(te!==null)te.return=J,fe=te;else for(;fe!==null;){J=fe;var Z=J.sibling,ce=J.return;if(Lp(J),J===q){fe=null;break}if(Z!==null){Z.return=ce,fe=Z;break}fe=ce}}}var pe=h.alternate;if(pe!==null){var ve=pe.child;if(ve!==null){pe.child=null;do{var ct=ve.sibling;ve.sibling=null,ve=ct}while(ve!==null)}}fe=h}}if((h.subtreeFlags&2064)!==0&&w!==null)w.return=h,fe=w;else e:for(;fe!==null;){if(h=fe,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:Co(9,h,h.return)}var U=h.sibling;if(U!==null){U.return=h.return,fe=U;break e}fe=h.return}}var z=e.current;for(fe=z;fe!==null;){w=fe;var W=w.child;if((w.subtreeFlags&2064)!==0&&W!==null)W.return=w,fe=W;else e:for(w=z;fe!==null;){if(A=fe,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:Ka(9,A)}}catch(be){ot(A,A.return,be)}if(A===w){fe=null;break e}var re=A.sibling;if(re!==null){re.return=A.return,fe=re;break e}fe=A.return}}if($e=f,sr(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(aa,e)}catch{}c=!0}return c}finally{He=a,tn.transition=r}}return!1}function tm(e,r,a){r=ys(a,r),r=yp(e,r,1),e=ar(e,r,1),r=It(),e!==null&&(Zs(e,1,r),Ut(e,r))}function ot(e,r,a){if(e.tag===3)tm(e,e,a);else for(;r!==null;){if(r.tag===3){tm(r,e,a);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(lr===null||!lr.has(c))){e=ys(a,e),e=bp(r,e,1),r=ar(r,e,1),e=It(),r!==null&&(Zs(r,1,e),Ut(r,e));break}}r=r.return}}function Ey(e,r,a){var c=e.pingCache;c!==null&&c.delete(r),r=It(),e.pingedLanes|=e.suspendedLanes&a,wt===e&&(Ft&a)===a&&(ht===4||ht===3&&(Ft&130023424)===Ft&&500>lt()-pc?Ir(e,0):fc|=a),Ut(e,r)}function nm(e,r){r===0&&((e.mode&1)===0?r=1:(r=la,la<<=1,(la&130023424)===0&&(la=4194304)));var a=It();e=In(e,r),e!==null&&(Zs(e,r,a),Ut(e,a))}function Ay(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),nm(e,a)}function Ty(e,r){var a=0;switch(e.tag){case 13:var c=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=e.stateNode;break;default:throw Error(o(314))}c!==null&&c.delete(r),nm(e,a)}var rm;rm=function(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps||Lt.current)zt=!0;else{if((e.lanes&a)===0&&(r.flags&128)===0)return zt=!1,gy(e,r,a);zt=(e.flags&131072)!==0}else zt=!1,Je&&(r.flags&1048576)!==0&&If(r,Ta,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;Ha(e,r),e=r.pendingProps;var f=us(r,Et.current);gs(r,a),f=Wl(null,r,c,e,f,a);var h=Hl();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,$t(c)?(h=!0,Sa(r)):h=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,_l(r),f.updater=Ua,r.stateNode=f,f._reactInternals=r,Ql(r,c,e,a),r=tc(null,r,c,!0,h,a)):(r.tag=0,Je&&h&&Sl(r),Mt(null,r,f,a),r=r.child),r;case 16:c=r.elementType;e:{switch(Ha(e,r),e=r.pendingProps,f=c._init,c=f(c._payload),r.type=c,f=r.tag=Py(c),e=un(c,e),f){case 0:r=ec(null,r,c,e,a);break e;case 1:r=Ap(null,r,c,e,a);break e;case 11:r=Np(null,r,c,e,a);break e;case 14:r=Fp(null,r,c,un(c.type,e),a);break e}throw Error(o(306,c,""))}return r;case 0:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:un(c,f),ec(e,r,c,f,a);case 1:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:un(c,f),Ap(e,r,c,f,a);case 3:e:{if(Tp(r),e===null)throw Error(o(387));c=r.pendingProps,h=r.memoizedState,f=h.element,Hf(e,r),Ia(r,c,null,a);var w=r.memoizedState;if(c=w.element,h.isDehydrated)if(h={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){f=ys(Error(o(423)),r),r=Dp(e,r,c,a,f);break e}else if(c!==f){f=ys(Error(o(424)),r),r=Dp(e,r,c,a,f);break e}else for(qt=tr(r.stateNode.containerInfo.firstChild),Kt=r,Je=!0,dn=null,a=Uf(r,null,c,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ms(),c===f){r=On(e,r,a);break e}Mt(e,r,c,a)}r=r.child}return r;case 5:return qf(r),e===null&&Tl(r),c=r.type,f=r.pendingProps,h=e!==null?e.memoizedProps:null,w=f.children,jl(c,f)?w=null:h!==null&&jl(c,h)&&(r.flags|=32),Ep(e,r),Mt(e,r,w,a),r.child;case 6:return e===null&&Tl(r),null;case 13:return Pp(e,r,a);case 4:return Ol(r,r.stateNode.containerInfo),c=r.pendingProps,e===null?r.child=hs(r,null,c,a):Mt(e,r,c,a),r.child;case 11:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:un(c,f),Np(e,r,c,f,a);case 7:return Mt(e,r,r.pendingProps,a),r.child;case 8:return Mt(e,r,r.pendingProps.children,a),r.child;case 12:return Mt(e,r,r.pendingProps.children,a),r.child;case 10:e:{if(c=r.type._context,f=r.pendingProps,h=r.memoizedProps,w=f.value,Ye(Ba,c._currentValue),c._currentValue=w,h!==null)if(cn(h.value,w)){if(h.children===f.children&&!Lt.current){r=On(e,r,a);break e}}else for(h=r.child,h!==null&&(h.return=r);h!==null;){var A=h.dependencies;if(A!==null){w=h.child;for(var M=A.firstContext;M!==null;){if(M.context===c){if(h.tag===1){M=_n(-1,a&-a),M.tag=2;var q=h.updateQueue;if(q!==null){q=q.shared;var J=q.pending;J===null?M.next=M:(M.next=J.next,J.next=M),q.pending=M}}h.lanes|=a,M=h.alternate,M!==null&&(M.lanes|=a),Ml(h.return,a,r),A.lanes|=a;break}M=M.next}}else if(h.tag===10)w=h.type===r.type?null:h.child;else if(h.tag===18){if(w=h.return,w===null)throw Error(o(341));w.lanes|=a,A=w.alternate,A!==null&&(A.lanes|=a),Ml(w,a,r),w=h.sibling}else w=h.child;if(w!==null)w.return=h;else for(w=h;w!==null;){if(w===r){w=null;break}if(h=w.sibling,h!==null){h.return=w.return,w=h;break}w=w.return}h=w}Mt(e,r,f.children,a),r=r.child}return r;case 9:return f=r.type,c=r.pendingProps.children,gs(r,a),f=Jt(f),c=c(f),r.flags|=1,Mt(e,r,c,a),r.child;case 14:return c=r.type,f=un(c,r.pendingProps),f=un(c.type,f),Fp(e,r,c,f,a);case 15:return Cp(e,r,r.type,r.pendingProps,a);case 17:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:un(c,f),Ha(e,r),r.tag=1,$t(c)?(e=!0,Sa(r)):e=!1,gs(r,a),gp(r,c,f),Ql(r,c,f,a),tc(null,r,c,!0,e,a);case 19:return Rp(e,r,a);case 22:return Sp(e,r,a)}throw Error(o(156,r.tag))};function sm(e,r){return Iu(e,r)}function Dy(e,r,a,c){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(e,r,a,c){return new Dy(e,r,a,c)}function jc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Py(e){if(typeof e=="function")return jc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ye)return 11;if(e===xe)return 14}return 2}function fr(e,r){var a=e.alternate;return a===null?(a=nn(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function ni(e,r,a,c,f,h){var w=2;if(c=e,typeof e=="function")jc(e)&&(w=1);else if(typeof e=="string")w=5;else e:switch(e){case $:return Or(a.children,f,h,r);case _:w=8,f|=8;break;case ee:return e=nn(12,a,r,f|2),e.elementType=ee,e.lanes=h,e;case Fe:return e=nn(13,a,r,f),e.elementType=Fe,e.lanes=h,e;case ke:return e=nn(19,a,r,f),e.elementType=ke,e.lanes=h,e;case Y:return ri(a,f,h,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:w=10;break e;case le:w=9;break e;case ye:w=11;break e;case xe:w=14;break e;case O:w=16,c=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return r=nn(w,a,r,f),r.elementType=e,r.type=c,r.lanes=h,r}function Or(e,r,a,c){return e=nn(7,e,c,r),e.lanes=a,e}function ri(e,r,a,c){return e=nn(22,e,c,r),e.elementType=Y,e.lanes=a,e.stateNode={isHidden:!1},e}function wc(e,r,a){return e=nn(6,e,null,r),e.lanes=a,e}function kc(e,r,a){return r=nn(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function By(e,r,a,c,f){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yi(0),this.expirationTimes=Yi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yi(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Nc(e,r,a,c,f,h,w,A,M){return e=new By(e,r,a,A,M),r===1?(r=1,h===!0&&(r|=8)):r=0,h=nn(3,null,null,r),e.current=h,h.stateNode=e,h.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},_l(h),e}function Ry(e,r,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:c==null?null:""+c,children:e,containerInfo:r,implementation:a}}function om(e){if(!e)return rr;e=e._reactInternals;e:{if(Cr(e)!==e||e.tag!==1)throw Error(o(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if($t(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(o(171))}if(e.tag===1){var a=e.type;if($t(a))return Bf(e,a,r)}return r}function am(e,r,a,c,f,h,w,A,M){return e=Nc(a,c,!0,e,f,h,w,A,M),e.context=om(null),a=e.current,c=It(),f=dr(a),h=_n(c,f),h.callback=r??null,ar(a,h,f),e.current.lanes=f,Zs(e,f,c),Ut(e,c),e}function si(e,r,a,c){var f=r.current,h=It(),w=dr(f);return a=om(a),r.context===null?r.context=a:r.pendingContext=a,r=_n(h,w),r.payload={element:e},c=c===void 0?null:c,c!==null&&(r.callback=c),e=ar(f,r,w),e!==null&&(mn(e,f,w,h),Ma(e,f,w)),w}function oi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function im(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function Fc(e,r){im(e,r),(e=e.alternate)&&im(e,r)}function My(){return null}var lm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cc(e){this._internalRoot=e}ai.prototype.render=Cc.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(o(409));si(e,r,null,null)},ai.prototype.unmount=Cc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;Mr(function(){si(null,e,null,null)}),r[Pn]=null}};function ai(e){this._internalRoot=e}ai.prototype.unstable_scheduleHydration=function(e){if(e){var r=Wu();e={blockedOn:null,target:e,priority:r};for(var a=0;a<Zn.length&&r!==0&&r<Zn[a].priority;a++);Zn.splice(a,0,e),a===0&&Ku(e)}};function Sc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ii(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cm(){}function Iy(e,r,a,c,f){if(f){if(typeof c=="function"){var h=c;c=function(){var q=oi(w);h.call(q)}}var w=am(r,c,e,0,null,!1,!1,"",cm);return e._reactRootContainer=w,e[Pn]=w.current,po(e.nodeType===8?e.parentNode:e),Mr(),w}for(;f=e.lastChild;)e.removeChild(f);if(typeof c=="function"){var A=c;c=function(){var q=oi(M);A.call(q)}}var M=Nc(e,0,!1,null,null,!1,!1,"",cm);return e._reactRootContainer=M,e[Pn]=M.current,po(e.nodeType===8?e.parentNode:e),Mr(function(){si(r,M,a,c)}),M}function li(e,r,a,c,f){var h=a._reactRootContainer;if(h){var w=h;if(typeof f=="function"){var A=f;f=function(){var M=oi(w);A.call(M)}}si(r,w,e,f)}else w=Iy(a,r,e,f,c);return oi(w)}Vu=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var a=Qs(r.pendingLanes);a!==0&&(Qi(r,a|1),Ut(r,lt()),($e&6)===0&&(ws=lt()+500,sr()))}break;case 13:Mr(function(){var c=In(e,1);if(c!==null){var f=It();mn(c,e,1,f)}}),Fc(e,1)}},Zi=function(e){if(e.tag===13){var r=In(e,134217728);if(r!==null){var a=It();mn(r,e,134217728,a)}Fc(e,134217728)}},Uu=function(e){if(e.tag===13){var r=dr(e),a=In(e,r);if(a!==null){var c=It();mn(a,e,r,c)}Fc(e,r)}},Wu=function(){return He},Hu=function(e,r){var a=He;try{return He=e,r()}finally{He=a}},Rt=function(e,r,a){switch(r){case"input":if(ze(e,a),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var c=a[r];if(c!==e&&c.form===e.form){var f=Fa(c);if(!f)throw Error(o(90));vt(c),ze(c,f)}}}break;case"textarea":Be(e,a);break;case"select":r=a.value,r!=null&&ie(e,!!a.multiple,r,!1)}},Au=vc,Tu=Mr;var _y={usingClientEntryPoint:!1,Events:[xo,cs,Fa,Su,Eu,vc]},To={findFiberByHostInstance:Sr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Oy={bundleType:To.bundleType,version:To.version,rendererPackageName:To.rendererPackageName,rendererConfig:To.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ru(e),e===null?null:e.stateNode},findFiberByHostInstance:To.findFiberByHostInstance||My,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ci=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ci.isDisabled&&ci.supportsFiber)try{aa=ci.inject(Oy),yn=ci}catch{}}return Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_y,Wt.createPortal=function(e,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sc(r))throw Error(o(200));return Ry(e,r,null,a)},Wt.createRoot=function(e,r){if(!Sc(e))throw Error(o(299));var a=!1,c="",f=lm;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=Nc(e,1,!1,null,null,a,!1,c,f),e[Pn]=r.current,po(e.nodeType===8?e.parentNode:e),new Cc(r)},Wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=Ru(r),e=e===null?null:e.stateNode,e},Wt.flushSync=function(e){return Mr(e)},Wt.hydrate=function(e,r,a){if(!ii(r))throw Error(o(200));return li(null,e,r,!0,a)},Wt.hydrateRoot=function(e,r,a){if(!Sc(e))throw Error(o(405));var c=a!=null&&a.hydratedSources||null,f=!1,h="",w=lm;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),r=am(r,null,e,1,a??null,f,!1,h,w),e[Pn]=r.current,po(e),c)for(e=0;e<c.length;e++)a=c[e],f=a._getVersion,f=f(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,f]:r.mutableSourceEagerHydrationData.push(a,f);return new ai(r)},Wt.render=function(e,r,a){if(!ii(r))throw Error(o(200));return li(null,e,r,!1,a)},Wt.unmountComponentAtNode=function(e){if(!ii(e))throw Error(o(40));return e._reactRootContainer?(Mr(function(){li(null,null,e,!1,function(){e._reactRootContainer=null,e[Pn]=null})}),!0):!1},Wt.unstable_batchedUpdates=vc,Wt.unstable_renderSubtreeIntoContainer=function(e,r,a,c){if(!ii(a))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return li(e,r,a,!1,c)},Wt.version="18.3.1-next-f1338f8080-20240426",Wt}var gm;function ax(){if(gm)return Tc.exports;gm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(s){console.error(s)}}return n(),Tc.exports=Gy(),Tc.exports}var vm;function Ky(){if(vm)return di;vm=1;var n=ax();return di.createRoot=n.createRoot,di.hydrateRoot=n.hydrateRoot,di}var qy=Ky();const Xy=Rd(qy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qy=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,o,i)=>i?i.toUpperCase():o.toLowerCase()),ym=n=>{const s=Qy(n);return s.charAt(0).toUpperCase()+s.slice(1)},ix=(...n)=>n.filter((s,o,i)=>!!s&&s.trim()!==""&&i.indexOf(s)===o).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:d="",children:u,iconNode:l,...p},m)=>b.createElement("svg",{ref:m,...Zy,width:s,height:s,stroke:n,strokeWidth:i?Number(o)*24/Number(s):o,className:ix("lucide",d),...p},[...l.map(([g,x])=>b.createElement(g,x)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(n,s)=>{const o=b.forwardRef(({className:i,...d},u)=>b.createElement(Jy,{ref:u,iconNode:s,className:ix(`lucide-${Yy(ym(n))}`,`lucide-${n}`,i),...d}));return o.displayName=ym(n),o};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Vn=Ce("arrow-left",e1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],n1=Ce("arrow-up-down",t1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Id=Ce("award",r1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ii=Ce("bell",s1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],a1=Ce("bell-ring",o1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],zs=Ce("box",i1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],c1=Ce("calendar",l1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],u1=Ce("check-check",d1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ei=Ce("check",f1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],lx=Ce("chevron-down",p1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],cx=Ce("chevron-right",m1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],x1=Ce("circle-alert",h1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dx=Ce("circle-check-big",g1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],y1=Ce("circle-dot",v1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],j1=Ce("circle-x",b1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Wr=Ce("clock",w1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],N1=Ce("coins",k1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],bm=Ce("crown",F1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ux=Ce("eye-off",C1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vs=Ce("eye",S1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],A1=Ce("file-text",E1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],Kr=Ce("gamepad-2",T1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]],P1=Ce("gem",D1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],_i=Ce("gift",B1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],M1=Ce("history",R1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Xr=Ce("house",I1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],O1=Ce("info",_1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],fx=Ce("medal",L1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],vr=Ce("menu",$1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],V1=Ce("message-circle",z1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["path",{d:"M5 12h14",key:"1ays0h"}]],W1=Ce("minus",U1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Vo=Ce("package",H1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],K1=Ce("palette",G1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],Yt=Ce("paperclip",q1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],jm=Ce("pen",X1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Un=Ce("plus",Y1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Z1=Ce("rotate-ccw",Q1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],e2=Ce("search",J1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],n2=Ce("settings",t2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ad=Ce("shield",r2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],wr=Ce("shopping-bag",s2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],id=Ce("shopping-cart",o2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Wn=Ce("square-check-big",a2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Uo=Ce("square-pen",i2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],_d=Ce("star",l2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],d2=Ce("swords",c2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],f2=Ce("target",u2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Wo=Ce("trash-2",p2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],st=Ce("trophy",m2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],x2=Ce("upload",h2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zn=Ce("user",g2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Yr=Ce("users",v2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],it=Ce("x",y2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Qr=Ce("zap",b2);function j2(n,s){const o=b.createContext(s),i=u=>{const{children:l,...p}=u,m=b.useMemo(()=>p,Object.values(p));return t.jsx(o.Provider,{value:m,children:l})};i.displayName=n+"Provider";function d(u){const l=b.useContext(o);if(l)return l;if(s!==void 0)return s;throw new Error(`\`${u}\` must be used within \`${n}\``)}return[i,d]}function px(n,s=[]){let o=[];function i(u,l){const p=b.createContext(l),m=o.length;o=[...o,l];const g=y=>{const{scope:v,children:F,...N}=y,j=v?.[n]?.[m]||p,S=b.useMemo(()=>N,Object.values(N));return t.jsx(j.Provider,{value:S,children:F})};g.displayName=u+"Provider";function x(y,v){const F=v?.[n]?.[m]||p,N=b.useContext(F);if(N)return N;if(l!==void 0)return l;throw new Error(`\`${y}\` must be used within \`${u}\``)}return[g,x]}const d=()=>{const u=o.map(l=>b.createContext(l));return function(p){const m=p?.[n]||u;return b.useMemo(()=>({[`__scope${n}`]:{...p,[n]:m}}),[p,m])}};return d.scopeName=n,[i,w2(d,...s)]}function w2(...n){const s=n[0];if(n.length===1)return s;const o=()=>{const i=n.map(d=>({useScope:d(),scopeName:d.scopeName}));return function(u){const l=i.reduce((p,{useScope:m,scopeName:g})=>{const y=m(u)[`__scope${g}`];return{...p,...y}},{});return b.useMemo(()=>({[`__scope${s.scopeName}`]:l}),[l])}};return o.scopeName=s.scopeName,o}function Os(n){const s=b.useRef(n);return b.useEffect(()=>{s.current=n}),b.useMemo(()=>(...o)=>s.current?.(...o),[])}var yr=globalThis?.document?b.useLayoutEffect:()=>{},Od=ax();const k2=Rd(Od);function wm(n,s){if(typeof n=="function")return n(s);n!=null&&(n.current=s)}function mx(...n){return s=>{let o=!1;const i=n.map(d=>{const u=wm(d,s);return!o&&typeof u=="function"&&(o=!0),u});if(o)return()=>{for(let d=0;d<i.length;d++){const u=i[d];typeof u=="function"?u():wm(n[d],null)}}}}function Zr(...n){return b.useCallback(mx(...n),n)}function Ld(n){const s=F2(n),o=b.forwardRef((i,d)=>{const{children:u,...l}=i,p=b.Children.toArray(u),m=p.find(S2);if(m){const g=m.props.children,x=p.map(y=>y===m?b.Children.count(g)>1?b.Children.only(null):b.isValidElement(g)?g.props.children:null:y);return t.jsx(s,{...l,ref:d,children:b.isValidElement(g)?b.cloneElement(g,void 0,x):null})}return t.jsx(s,{...l,ref:d,children:u})});return o.displayName=`${n}.Slot`,o}var N2=Ld("Slot");function F2(n){const s=b.forwardRef((o,i)=>{const{children:d,...u}=o;if(b.isValidElement(d)){const l=A2(d),p=E2(u,d.props);return d.type!==b.Fragment&&(p.ref=i?mx(i,l):l),b.cloneElement(d,p)}return b.Children.count(d)>1?b.Children.only(null):null});return s.displayName=`${n}.SlotClone`,s}var C2=Symbol("radix.slottable");function S2(n){return b.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===C2}function E2(n,s){const o={...s};for(const i in s){const d=n[i],u=s[i];/^on[A-Z]/.test(i)?d&&u?o[i]=(...p)=>{const m=u(...p);return d(...p),m}:d&&(o[i]=d):i==="style"?o[i]={...d,...u}:i==="className"&&(o[i]=[d,u].filter(Boolean).join(" "))}return{...n,...o}}function A2(n){let s=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,o=s&&"isReactWarning"in s&&s.isReactWarning;return o?n.ref:(s=Object.getOwnPropertyDescriptor(n,"ref")?.get,o=s&&"isReactWarning"in s&&s.isReactWarning,o?n.props.ref:n.props.ref||n.ref)}var T2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],an=T2.reduce((n,s)=>{const o=Ld(`Primitive.${s}`),i=b.forwardRef((d,u)=>{const{asChild:l,...p}=d,m=l?o:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(m,{...p,ref:u})});return i.displayName=`Primitive.${s}`,{...n,[s]:i}},{});function D2(n,s){n&&Od.flushSync(()=>n.dispatchEvent(s))}var Bc={exports:{}},Rc={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km;function P2(){if(km)return Rc;km=1;var n=Mi();function s(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}var o=typeof Object.is=="function"?Object.is:s,i=n.useState,d=n.useEffect,u=n.useLayoutEffect,l=n.useDebugValue;function p(y,v){var F=v(),N=i({inst:{value:F,getSnapshot:v}}),j=N[0].inst,S=N[1];return u(function(){j.value=F,j.getSnapshot=v,m(j)&&S({inst:j})},[y,F,v]),d(function(){return m(j)&&S({inst:j}),y(function(){m(j)&&S({inst:j})})},[y]),l(F),F}function m(y){var v=y.getSnapshot;y=y.value;try{var F=v();return!o(y,F)}catch{return!0}}function g(y,v){return v()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:p;return Rc.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:x,Rc}var Nm;function B2(){return Nm||(Nm=1,Bc.exports=P2()),Bc.exports}var R2=B2();function M2(){return R2.useSyncExternalStore(I2,()=>!0,()=>!1)}function I2(){return()=>{}}var $d="Avatar",[_2,zC]=px($d),[O2,hx]=_2($d),xx=b.forwardRef((n,s)=>{const{__scopeAvatar:o,...i}=n,[d,u]=b.useState("idle");return t.jsx(O2,{scope:o,imageLoadingStatus:d,onImageLoadingStatusChange:u,children:t.jsx(an.span,{...i,ref:s})})});xx.displayName=$d;var gx="AvatarImage",vx=b.forwardRef((n,s)=>{const{__scopeAvatar:o,src:i,onLoadingStatusChange:d=()=>{},...u}=n,l=hx(gx,o),p=L2(i,u),m=Os(g=>{d(g),l.onImageLoadingStatusChange(g)});return yr(()=>{p!=="idle"&&m(p)},[p,m]),p==="loaded"?t.jsx(an.img,{...u,ref:s,src:i}):null});vx.displayName=gx;var yx="AvatarFallback",bx=b.forwardRef((n,s)=>{const{__scopeAvatar:o,delayMs:i,...d}=n,u=hx(yx,o),[l,p]=b.useState(i===void 0);return b.useEffect(()=>{if(i!==void 0){const m=window.setTimeout(()=>p(!0),i);return()=>window.clearTimeout(m)}},[i]),l&&u.imageLoadingStatus!=="loaded"?t.jsx(an.span,{...d,ref:s}):null});bx.displayName=yx;function Fm(n,s){return n?s?(n.src!==s&&(n.src=s),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function L2(n,{referrerPolicy:s,crossOrigin:o}){const i=M2(),d=b.useRef(null),u=i?(d.current||(d.current=new window.Image),d.current):null,[l,p]=b.useState(()=>Fm(u,n));return yr(()=>{p(Fm(u,n))},[u,n]),yr(()=>{const m=y=>()=>{p(y)};if(!u)return;const g=m("loaded"),x=m("error");return u.addEventListener("load",g),u.addEventListener("error",x),s&&(u.referrerPolicy=s),typeof o=="string"&&(u.crossOrigin=o),()=>{u.removeEventListener("load",g),u.removeEventListener("error",x)}},[u,o,s]),l}var $2=xx,z2=vx,V2=bx;function jx(n){var s,o,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var d=n.length;for(s=0;s<d;s++)n[s]&&(o=jx(n[s]))&&(i&&(i+=" "),i+=o)}else for(o in n)n[o]&&(i&&(i+=" "),i+=o);return i}function wx(){for(var n,s,o=0,i="",d=arguments.length;o<d;o++)(n=arguments[o])&&(s=jx(n))&&(i&&(i+=" "),i+=s);return i}const zd="-",U2=n=>{const s=H2(n),{conflictingClassGroups:o,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:l=>{const p=l.split(zd);return p[0]===""&&p.length!==1&&p.shift(),kx(p,s)||W2(l)},getConflictingClassGroupIds:(l,p)=>{const m=o[l]||[];return p&&i[l]?[...m,...i[l]]:m}}},kx=(n,s)=>{if(n.length===0)return s.classGroupId;const o=n[0],i=s.nextPart.get(o),d=i?kx(n.slice(1),i):void 0;if(d)return d;if(s.validators.length===0)return;const u=n.join(zd);return s.validators.find(({validator:l})=>l(u))?.classGroupId},Cm=/^\[(.+)\]$/,W2=n=>{if(Cm.test(n)){const s=Cm.exec(n)[1],o=s?.substring(0,s.indexOf(":"));if(o)return"arbitrary.."+o}},H2=n=>{const{theme:s,classGroups:o}=n,i={nextPart:new Map,validators:[]};for(const d in o)ld(o[d],i,d,s);return i},ld=(n,s,o,i)=>{n.forEach(d=>{if(typeof d=="string"){const u=d===""?s:Sm(s,d);u.classGroupId=o;return}if(typeof d=="function"){if(G2(d)){ld(d(i),s,o,i);return}s.validators.push({validator:d,classGroupId:o});return}Object.entries(d).forEach(([u,l])=>{ld(l,Sm(s,u),o,i)})})},Sm=(n,s)=>{let o=n;return s.split(zd).forEach(i=>{o.nextPart.has(i)||o.nextPart.set(i,{nextPart:new Map,validators:[]}),o=o.nextPart.get(i)}),o},G2=n=>n.isThemeGetter,K2=n=>{if(n<1)return{get:()=>{},set:()=>{}};let s=0,o=new Map,i=new Map;const d=(u,l)=>{o.set(u,l),s++,s>n&&(s=0,i=o,o=new Map)};return{get(u){let l=o.get(u);if(l!==void 0)return l;if((l=i.get(u))!==void 0)return d(u,l),l},set(u,l){o.has(u)?o.set(u,l):d(u,l)}}},cd="!",dd=":",q2=dd.length,X2=n=>{const{prefix:s,experimentalParseClassName:o}=n;let i=d=>{const u=[];let l=0,p=0,m=0,g;for(let N=0;N<d.length;N++){let j=d[N];if(l===0&&p===0){if(j===dd){u.push(d.slice(m,N)),m=N+q2;continue}if(j==="/"){g=N;continue}}j==="["?l++:j==="]"?l--:j==="("?p++:j===")"&&p--}const x=u.length===0?d:d.substring(m),y=Y2(x),v=y!==x,F=g&&g>m?g-m:void 0;return{modifiers:u,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:F}};if(s){const d=s+dd,u=i;i=l=>l.startsWith(d)?u(l.substring(d.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(o){const d=i;i=u=>o({className:u,parseClassName:d})}return i},Y2=n=>n.endsWith(cd)?n.substring(0,n.length-1):n.startsWith(cd)?n.substring(1):n,Q2=n=>{const s=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const d=[];let u=[];return i.forEach(l=>{l[0]==="["||s[l]?(d.push(...u.sort(),l),u=[]):u.push(l)}),d.push(...u.sort()),d}},Z2=n=>({cache:K2(n.cacheSize),parseClassName:X2(n),sortModifiers:Q2(n),...U2(n)}),J2=/\s+/,eb=(n,s)=>{const{parseClassName:o,getClassGroupId:i,getConflictingClassGroupIds:d,sortModifiers:u}=s,l=[],p=n.trim().split(J2);let m="";for(let g=p.length-1;g>=0;g-=1){const x=p[g],{isExternal:y,modifiers:v,hasImportantModifier:F,baseClassName:N,maybePostfixModifierPosition:j}=o(x);if(y){m=x+(m.length>0?" "+m:m);continue}let S=!!j,D=i(S?N.substring(0,j):N);if(!D){if(!S){m=x+(m.length>0?" "+m:m);continue}if(D=i(N),!D){m=x+(m.length>0?" "+m:m);continue}S=!1}const T=u(v).join(":"),C=F?T+cd:T,L=C+D;if(l.includes(L))continue;l.push(L);const B=d(D,S);for(let G=0;G<B.length;++G){const $=B[G];l.push(C+$)}m=x+(m.length>0?" "+m:m)}return m};function tb(){let n=0,s,o,i="";for(;n<arguments.length;)(s=arguments[n++])&&(o=Nx(s))&&(i&&(i+=" "),i+=o);return i}const Nx=n=>{if(typeof n=="string")return n;let s,o="";for(let i=0;i<n.length;i++)n[i]&&(s=Nx(n[i]))&&(o&&(o+=" "),o+=s);return o};function nb(n,...s){let o,i,d,u=l;function l(m){const g=s.reduce((x,y)=>y(x),n());return o=Z2(g),i=o.cache.get,d=o.cache.set,u=p,p(m)}function p(m){const g=i(m);if(g)return g;const x=eb(m,o);return d(m,x),x}return function(){return u(tb.apply(null,arguments))}}const xt=n=>{const s=o=>o[n]||[];return s.isThemeGetter=!0,s},Fx=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Cx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,rb=/^\d+\/\d+$/,sb=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ob=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ab=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,ib=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lb=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ns=n=>rb.test(n),Me=n=>!!n&&!Number.isNaN(Number(n)),mr=n=>!!n&&Number.isInteger(Number(n)),Mc=n=>n.endsWith("%")&&Me(n.slice(0,-1)),$n=n=>sb.test(n),cb=()=>!0,db=n=>ob.test(n)&&!ab.test(n),Sx=()=>!1,ub=n=>ib.test(n),fb=n=>lb.test(n),pb=n=>!me(n)&&!he(n),mb=n=>Us(n,Tx,Sx),me=n=>Fx.test(n),Lr=n=>Us(n,Dx,db),Ic=n=>Us(n,yb,Me),Em=n=>Us(n,Ex,Sx),hb=n=>Us(n,Ax,fb),ui=n=>Us(n,Px,ub),he=n=>Cx.test(n),Po=n=>Ws(n,Dx),xb=n=>Ws(n,bb),Am=n=>Ws(n,Ex),gb=n=>Ws(n,Tx),vb=n=>Ws(n,Ax),fi=n=>Ws(n,Px,!0),Us=(n,s,o)=>{const i=Fx.exec(n);return i?i[1]?s(i[1]):o(i[2]):!1},Ws=(n,s,o=!1)=>{const i=Cx.exec(n);return i?i[1]?s(i[1]):o:!1},Ex=n=>n==="position"||n==="percentage",Ax=n=>n==="image"||n==="url",Tx=n=>n==="length"||n==="size"||n==="bg-size",Dx=n=>n==="length",yb=n=>n==="number",bb=n=>n==="family-name",Px=n=>n==="shadow",jb=()=>{const n=xt("color"),s=xt("font"),o=xt("text"),i=xt("font-weight"),d=xt("tracking"),u=xt("leading"),l=xt("breakpoint"),p=xt("container"),m=xt("spacing"),g=xt("radius"),x=xt("shadow"),y=xt("inset-shadow"),v=xt("text-shadow"),F=xt("drop-shadow"),N=xt("blur"),j=xt("perspective"),S=xt("aspect"),D=xt("ease"),T=xt("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],B=()=>[...L(),he,me],G=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto","contain","none"],_=()=>[he,me,m],ee=()=>[Ns,"full","auto",..._()],H=()=>[mr,"none","subgrid",he,me],le=()=>["auto",{span:["full",mr,he,me]},mr,he,me],ye=()=>[mr,"auto",he,me],Fe=()=>["auto","min","max","fr",he,me],ke=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],xe=()=>["start","end","center","stretch","center-safe","end-safe"],O=()=>["auto",..._()],Y=()=>[Ns,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",..._()],R=()=>[n,he,me],k=()=>[...L(),Am,Em,{position:[he,me]}],I=()=>["no-repeat",{repeat:["","x","y","space","round"]}],E=()=>["auto","cover","contain",gb,mb,{size:[he,me]}],V=()=>[Mc,Po,Lr],K=()=>["","none","full",g,he,me],de=()=>["",Me,Po,Lr],ae=()=>["solid","dashed","dotted","double"],je=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ne=()=>[Me,Mc,Am,Em],Ae=()=>["","none",N,he,me],Re=()=>["none",Me,he,me],We=()=>["none",Me,he,me],gt=()=>[Me,he,me],vt=()=>[Ns,"full",..._()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[$n],breakpoint:[$n],color:[cb],container:[$n],"drop-shadow":[$n],ease:["in","out","in-out"],font:[pb],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[$n],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[$n],shadow:[$n],spacing:["px",Me],text:[$n],"text-shadow":[$n],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ns,me,he,S]}],container:["container"],columns:[{columns:[Me,me,he,p]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:B()}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ee()}],"inset-x":[{"inset-x":ee()}],"inset-y":[{"inset-y":ee()}],start:[{start:ee()}],end:[{end:ee()}],top:[{top:ee()}],right:[{right:ee()}],bottom:[{bottom:ee()}],left:[{left:ee()}],visibility:["visible","invisible","collapse"],z:[{z:[mr,"auto",he,me]}],basis:[{basis:[Ns,"full","auto",p,..._()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Me,Ns,"auto","initial","none",me]}],grow:[{grow:["",Me,he,me]}],shrink:[{shrink:["",Me,he,me]}],order:[{order:[mr,"first","last","none",he,me]}],"grid-cols":[{"grid-cols":H()}],"col-start-end":[{col:le()}],"col-start":[{"col-start":ye()}],"col-end":[{"col-end":ye()}],"grid-rows":[{"grid-rows":H()}],"row-start-end":[{row:le()}],"row-start":[{"row-start":ye()}],"row-end":[{"row-end":ye()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Fe()}],"auto-rows":[{"auto-rows":Fe()}],gap:[{gap:_()}],"gap-x":[{"gap-x":_()}],"gap-y":[{"gap-y":_()}],"justify-content":[{justify:[...ke(),"normal"]}],"justify-items":[{"justify-items":[...xe(),"normal"]}],"justify-self":[{"justify-self":["auto",...xe()]}],"align-content":[{content:["normal",...ke()]}],"align-items":[{items:[...xe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...xe(),{baseline:["","last"]}]}],"place-content":[{"place-content":ke()}],"place-items":[{"place-items":[...xe(),"baseline"]}],"place-self":[{"place-self":["auto",...xe()]}],p:[{p:_()}],px:[{px:_()}],py:[{py:_()}],ps:[{ps:_()}],pe:[{pe:_()}],pt:[{pt:_()}],pr:[{pr:_()}],pb:[{pb:_()}],pl:[{pl:_()}],m:[{m:O()}],mx:[{mx:O()}],my:[{my:O()}],ms:[{ms:O()}],me:[{me:O()}],mt:[{mt:O()}],mr:[{mr:O()}],mb:[{mb:O()}],ml:[{ml:O()}],"space-x":[{"space-x":_()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":_()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],w:[{w:[p,"screen",...Y()]}],"min-w":[{"min-w":[p,"screen","none",...Y()]}],"max-w":[{"max-w":[p,"screen","none","prose",{screen:[l]},...Y()]}],h:[{h:["screen","lh",...Y()]}],"min-h":[{"min-h":["screen","lh","none",...Y()]}],"max-h":[{"max-h":["screen","lh",...Y()]}],"font-size":[{text:["base",o,Po,Lr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,he,Ic]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Mc,me]}],"font-family":[{font:[xb,me,s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[d,he,me]}],"line-clamp":[{"line-clamp":[Me,"none",he,Ic]}],leading:[{leading:[u,..._()]}],"list-image":[{"list-image":["none",he,me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",he,me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:R()}],"text-color":[{text:R()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[Me,"from-font","auto",he,Lr]}],"text-decoration-color":[{decoration:R()}],"underline-offset":[{"underline-offset":[Me,"auto",he,me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he,me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he,me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:k()}],"bg-repeat":[{bg:I()}],"bg-size":[{bg:E()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},mr,he,me],radial:["",he,me],conic:[mr,he,me]},vb,hb]}],"bg-color":[{bg:R()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:R()}],"gradient-via":[{via:R()}],"gradient-to":[{to:R()}],rounded:[{rounded:K()}],"rounded-s":[{"rounded-s":K()}],"rounded-e":[{"rounded-e":K()}],"rounded-t":[{"rounded-t":K()}],"rounded-r":[{"rounded-r":K()}],"rounded-b":[{"rounded-b":K()}],"rounded-l":[{"rounded-l":K()}],"rounded-ss":[{"rounded-ss":K()}],"rounded-se":[{"rounded-se":K()}],"rounded-ee":[{"rounded-ee":K()}],"rounded-es":[{"rounded-es":K()}],"rounded-tl":[{"rounded-tl":K()}],"rounded-tr":[{"rounded-tr":K()}],"rounded-br":[{"rounded-br":K()}],"rounded-bl":[{"rounded-bl":K()}],"border-w":[{border:de()}],"border-w-x":[{"border-x":de()}],"border-w-y":[{"border-y":de()}],"border-w-s":[{"border-s":de()}],"border-w-e":[{"border-e":de()}],"border-w-t":[{"border-t":de()}],"border-w-r":[{"border-r":de()}],"border-w-b":[{"border-b":de()}],"border-w-l":[{"border-l":de()}],"divide-x":[{"divide-x":de()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":de()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ae(),"hidden","none"]}],"divide-style":[{divide:[...ae(),"hidden","none"]}],"border-color":[{border:R()}],"border-color-x":[{"border-x":R()}],"border-color-y":[{"border-y":R()}],"border-color-s":[{"border-s":R()}],"border-color-e":[{"border-e":R()}],"border-color-t":[{"border-t":R()}],"border-color-r":[{"border-r":R()}],"border-color-b":[{"border-b":R()}],"border-color-l":[{"border-l":R()}],"divide-color":[{divide:R()}],"outline-style":[{outline:[...ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Me,he,me]}],"outline-w":[{outline:["",Me,Po,Lr]}],"outline-color":[{outline:R()}],shadow:[{shadow:["","none",x,fi,ui]}],"shadow-color":[{shadow:R()}],"inset-shadow":[{"inset-shadow":["none",y,fi,ui]}],"inset-shadow-color":[{"inset-shadow":R()}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:R()}],"ring-offset-w":[{"ring-offset":[Me,Lr]}],"ring-offset-color":[{"ring-offset":R()}],"inset-ring-w":[{"inset-ring":de()}],"inset-ring-color":[{"inset-ring":R()}],"text-shadow":[{"text-shadow":["none",v,fi,ui]}],"text-shadow-color":[{"text-shadow":R()}],opacity:[{opacity:[Me,he,me]}],"mix-blend":[{"mix-blend":[...je(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":je()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Me]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ne()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ne()}],"mask-image-linear-from-color":[{"mask-linear-from":R()}],"mask-image-linear-to-color":[{"mask-linear-to":R()}],"mask-image-t-from-pos":[{"mask-t-from":Ne()}],"mask-image-t-to-pos":[{"mask-t-to":Ne()}],"mask-image-t-from-color":[{"mask-t-from":R()}],"mask-image-t-to-color":[{"mask-t-to":R()}],"mask-image-r-from-pos":[{"mask-r-from":Ne()}],"mask-image-r-to-pos":[{"mask-r-to":Ne()}],"mask-image-r-from-color":[{"mask-r-from":R()}],"mask-image-r-to-color":[{"mask-r-to":R()}],"mask-image-b-from-pos":[{"mask-b-from":Ne()}],"mask-image-b-to-pos":[{"mask-b-to":Ne()}],"mask-image-b-from-color":[{"mask-b-from":R()}],"mask-image-b-to-color":[{"mask-b-to":R()}],"mask-image-l-from-pos":[{"mask-l-from":Ne()}],"mask-image-l-to-pos":[{"mask-l-to":Ne()}],"mask-image-l-from-color":[{"mask-l-from":R()}],"mask-image-l-to-color":[{"mask-l-to":R()}],"mask-image-x-from-pos":[{"mask-x-from":Ne()}],"mask-image-x-to-pos":[{"mask-x-to":Ne()}],"mask-image-x-from-color":[{"mask-x-from":R()}],"mask-image-x-to-color":[{"mask-x-to":R()}],"mask-image-y-from-pos":[{"mask-y-from":Ne()}],"mask-image-y-to-pos":[{"mask-y-to":Ne()}],"mask-image-y-from-color":[{"mask-y-from":R()}],"mask-image-y-to-color":[{"mask-y-to":R()}],"mask-image-radial":[{"mask-radial":[he,me]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ne()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ne()}],"mask-image-radial-from-color":[{"mask-radial-from":R()}],"mask-image-radial-to-color":[{"mask-radial-to":R()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":L()}],"mask-image-conic-pos":[{"mask-conic":[Me]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ne()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ne()}],"mask-image-conic-from-color":[{"mask-conic-from":R()}],"mask-image-conic-to-color":[{"mask-conic-to":R()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:k()}],"mask-repeat":[{mask:I()}],"mask-size":[{mask:E()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",he,me]}],filter:[{filter:["","none",he,me]}],blur:[{blur:Ae()}],brightness:[{brightness:[Me,he,me]}],contrast:[{contrast:[Me,he,me]}],"drop-shadow":[{"drop-shadow":["","none",F,fi,ui]}],"drop-shadow-color":[{"drop-shadow":R()}],grayscale:[{grayscale:["",Me,he,me]}],"hue-rotate":[{"hue-rotate":[Me,he,me]}],invert:[{invert:["",Me,he,me]}],saturate:[{saturate:[Me,he,me]}],sepia:[{sepia:["",Me,he,me]}],"backdrop-filter":[{"backdrop-filter":["","none",he,me]}],"backdrop-blur":[{"backdrop-blur":Ae()}],"backdrop-brightness":[{"backdrop-brightness":[Me,he,me]}],"backdrop-contrast":[{"backdrop-contrast":[Me,he,me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Me,he,me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Me,he,me]}],"backdrop-invert":[{"backdrop-invert":["",Me,he,me]}],"backdrop-opacity":[{"backdrop-opacity":[Me,he,me]}],"backdrop-saturate":[{"backdrop-saturate":[Me,he,me]}],"backdrop-sepia":[{"backdrop-sepia":["",Me,he,me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":_()}],"border-spacing-x":[{"border-spacing-x":_()}],"border-spacing-y":[{"border-spacing-y":_()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",he,me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Me,"initial",he,me]}],ease:[{ease:["linear","initial",D,he,me]}],delay:[{delay:[Me,he,me]}],animate:[{animate:["none",T,he,me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,he,me]}],"perspective-origin":[{"perspective-origin":B()}],rotate:[{rotate:Re()}],"rotate-x":[{"rotate-x":Re()}],"rotate-y":[{"rotate-y":Re()}],"rotate-z":[{"rotate-z":Re()}],scale:[{scale:We()}],"scale-x":[{"scale-x":We()}],"scale-y":[{"scale-y":We()}],"scale-z":[{"scale-z":We()}],"scale-3d":["scale-3d"],skew:[{skew:gt()}],"skew-x":[{"skew-x":gt()}],"skew-y":[{"skew-y":gt()}],transform:[{transform:[he,me,"","none","gpu","cpu"]}],"transform-origin":[{origin:B()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:vt()}],"translate-x":[{"translate-x":vt()}],"translate-y":[{"translate-y":vt()}],"translate-z":[{"translate-z":vt()}],"translate-none":["translate-none"],accent:[{accent:R()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:R()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he,me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he,me]}],fill:[{fill:["none",...R()]}],"stroke-w":[{stroke:[Me,Po,Lr,Ic]}],stroke:[{stroke:["none",...R()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},wb=nb(jb);function gn(...n){return wb(wx(n))}function Vd({className:n,...s}){return t.jsx($2,{"data-slot":"avatar",className:gn("relative flex size-10 shrink-0 overflow-hidden rounded-full",n),...s})}function Ud({className:n,...s}){return t.jsx(z2,{"data-slot":"avatar-image",className:gn("aspect-square size-full",n),...s})}function Wd({className:n,...s}){return t.jsx(V2,{"data-slot":"avatar-fallback",className:gn("bg-muted flex size-full items-center justify-center rounded-full",n),...s})}const kb=n=>{switch(n){case"achievement":return st;case"task":return f2;case"shop":return wr;case"battle":return d2;case"challenge":return _i;case"system":default:return x1}},Nb=n=>{switch(n){case"achievement":return"#FFD700";case"task":return"#2B82FF";case"shop":return"#34C759";case"battle":return"#FF9500";case"challenge":return"#AF52DE";case"system":default:return"#6B7280"}},Fb=n=>{const o=new Date().getTime()-n.getTime(),i=Math.floor(o/6e4),d=Math.floor(o/36e5),u=Math.floor(o/864e5);return i<1?"только что":i<60?`${i} мин назад`:d<24?`${d} ч назад`:u<7?`${u} д назад`:n.toLocaleDateString("ru-RU")};function Cb({notifications:n,onClose:s,onMarkAsRead:o,onMarkAllAsRead:i,onRemoveNotification:d,onClearAll:u,theme:l="light"}){const p=b.useRef(null);b.useEffect(()=>{const x=y=>{p.current&&!p.current.contains(y.target)&&s()};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[s]);const m=n.filter(x=>!x.read),g=[...n].sort((x,y)=>x.read!==y.read?x.read?1:-1:y.timestamp.getTime()-x.timestamp.getTime());return t.jsxs("div",{ref:p,className:"absolute top-10 right-0 w-80 max-h-96 overflow-hidden rounded-2xl z-50",style:{background:l==="dark"?"linear-gradient(145deg, rgba(8, 10, 14, 0.98) 0%, rgba(16, 20, 28, 0.98) 100%)":"linear-gradient(145deg, rgba(255, 255, 255, 0.98) 0%, rgba(248, 250, 252, 0.98) 100%)",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid rgba(0, 0, 0, 0.1)",boxShadow:l==="dark"?"0 16px 48px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(255, 255, 255, 0.05)":"0 16px 48px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(0, 0, 0, 0.05)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b",style:{borderColor:l==="dark"?"rgba(255, 255, 255, 0.06)":"rgba(0, 0, 0, 0.1)"},children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium",style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:"Уведомления"}),m.length>0&&t.jsxs("span",{className:"text-xs",style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:[m.length," новых"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[m.length>0&&t.jsx("button",{onClick:i,className:"p-1 rounded-lg hover:bg-surface-2 transition-colors",title:"Отметить все как прочитанные",children:t.jsx(u1,{style:{width:"16px",height:"16px",color:l==="dark"?"#A7B0BD":"#6B7280"}})}),t.jsx("button",{onClick:s,className:"p-1 rounded-lg hover:bg-surface-2 transition-colors",children:t.jsx(it,{style:{width:"16px",height:"16px",color:l==="dark"?"#A7B0BD":"#6B7280"}})})]})]}),t.jsx("div",{className:"max-h-80 overflow-y-auto",children:g.length===0?t.jsxs("div",{className:"p-8 text-center",style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:[t.jsx(Ii,{style:{width:"32px",height:"32px",color:l==="dark"?"#A7B0BD":"#6B7280",margin:"0 auto 8px"}}),t.jsx("p",{className:"text-sm",children:"Уведомлений нет"})]}):t.jsx("div",{className:"space-y-1 p-2",children:g.map(x=>{const y=kb(x.type),v=Nb(x.type);return t.jsx("div",{className:`p-3 rounded-xl transition-all cursor-pointer group ${x.read?"hover:bg-surface-2":"hover:bg-primary-muted"}`,style:{background:x.read?"transparent":l==="dark"?"rgba(43, 130, 255, 0.08)":"rgba(43, 130, 255, 0.05)",border:x.read?"1px solid transparent":l==="dark"?"1px solid rgba(43, 130, 255, 0.15)":"1px solid rgba(43, 130, 255, 0.1)"},onClick:()=>!x.read&&o(x.id),children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",style:{background:`${v}20`,border:`1px solid ${v}40`},children:t.jsx(y,{style:{width:"14px",height:"14px",color:v}})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsx("h4",{className:"text-sm font-medium truncate",style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:x.title}),t.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[!x.read&&t.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{background:"#2B82FF"}}),t.jsx("button",{onClick:F=>{F.stopPropagation(),d(x.id)},className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-destructive hover:text-destructive-foreground rounded transition-all",children:t.jsx(Wo,{style:{width:"12px",height:"12px"}})})]})]}),t.jsx("p",{className:"text-xs mt-1 leading-relaxed",style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:x.message}),t.jsx("span",{className:"text-xs mt-1 block",style:{color:l==="dark"?"#6B7280":"#9CA3AF"},children:Fb(x.timestamp)})]})]})},x.id)})})}),n.length>0&&t.jsx("div",{className:"p-3 border-t",style:{borderColor:l==="dark"?"rgba(255, 255, 255, 0.06)":"rgba(0, 0, 0, 0.1)"},children:t.jsx("button",{onClick:u,className:"w-full py-2 px-3 rounded-lg text-sm transition-colors hover:bg-destructive hover:text-destructive-foreground",style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:"Очистить все"})})]})}function Sb({notifications:n,unreadCount:s,onMarkAsRead:o,onMarkAllAsRead:i,onRemoveNotification:d,onClearAll:u,theme:l="light"}){const[p,m]=b.useState(!1),g=()=>{m(!p)};return t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:g,className:"apple-button transition-all hover:scale-105 relative",style:{width:"28px",height:"28px",minWidth:"28px",minHeight:"28px",display:"flex",alignItems:"center",justifyContent:"center",background:l==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"#FFFFFF",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.2)":"1px solid #E6E9EF",boxShadow:l==="dark"?"0 4px 15px rgba(255, 255, 255, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.06)"},children:[s>0?t.jsx(a1,{style:{width:"16px",height:"16px",color:l==="dark"?"#1A1A1A":"#6B7280"}}):t.jsx(Ii,{style:{width:"16px",height:"16px",color:l==="dark"?"#1A1A1A":"#6B7280"}}),s>0&&t.jsx("div",{className:"absolute -top-1 -right-1 min-w-[16px] h-4 flex items-center justify-center rounded-full text-xs font-medium",style:{background:"#FF3B30",color:"#FFFFFF",fontSize:"10px",padding:s>9?"0 4px":"0"},children:s>99?"99+":s})]}),p&&t.jsx(Cb,{notifications:n,onClose:()=>m(!1),onMarkAsRead:o,onMarkAllAsRead:i,onRemoveNotification:d,onClearAll:u,theme:l})]})}function Jr({onNavigate:n,currentPage:s,hideUserIcon:o=!1,onOpenSettings:i,user:d,profilePhoto:u,title:l,theme:p="light",notifications:m=[],onMarkNotificationAsRead:g,onMarkAllNotificationsAsRead:x,onRemoveNotification:y,onClearAllNotifications:v}){const F=()=>{n&&s!=="profile"&&n("profile")},N=d?d.name.split(" ").map(S=>S[0]).join(""):"U",j=m.filter(S=>!S.read).length;return t.jsx("div",{className:"relative z-50",children:t.jsxs("div",{className:"flex items-center justify-between p-4 max-w-md mx-auto",children:[!o&&!l&&t.jsxs("button",{onClick:F,className:"flex items-center gap-3 hover:scale-105 transition-transform",children:[t.jsxs("div",{className:"relative",children:[t.jsxs(Vd,{className:"w-10 h-10",style:{boxShadow:p==="dark"?"0 2px 8px rgba(0, 0, 0, 0.6)":"0 2px 8px rgba(0, 0, 0, 0.06)",border:p==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF"},children:[(u||d?.avatar)&&t.jsx(Ud,{src:u||d?.avatar,alt:d?.name||"Профиль"}),t.jsx(Wd,{style:{background:"linear-gradient(135deg, #2B82FF 0%, #1E40AF 100%)",color:"#FFFFFF"},children:N})]}),d?.isOnline&&t.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full",style:{border:p==="dark"?"2px solid #0B0D10":"2px solid #FFFFFF"}})]}),t.jsxs("div",{className:"flex flex-col items-start",children:[t.jsx("span",{className:"text-sm font-medium",style:{color:p==="dark"?"#E8ECF2":"#0F172A"},children:d?.name||"Пользователь"}),d&&"balance"in d&&t.jsx("div",{className:"flex items-center gap-1",children:t.jsx("span",{className:"text-xs",style:{color:p==="dark"?"#A7B0BD":"#6B7280"},children:d.id==="current-user"?"GRITHER":d.level>=20?"GLEB":d.level>=15?"SUPPORT":d.level>=12?"TEAMLEAD":"WORKER"})})]})]}),l&&t.jsx("div",{className:"flex-1 text-center",children:t.jsx("h1",{className:"text-lg font-medium",style:{color:p==="dark"?"#E8ECF2":"#0F172A"},children:l})}),(o||l)&&!l&&t.jsx("div",{}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Sb,{notifications:m,unreadCount:j,onMarkAsRead:g||(()=>{}),onMarkAllAsRead:x||(()=>{}),onRemoveNotification:y||(()=>{}),onClearAll:v||(()=>{}),theme:p}),t.jsx("button",{onClick:i,className:"apple-button transition-all hover:scale-105",style:{width:"28px",height:"28px",minWidth:"28px",minHeight:"28px",display:"flex",alignItems:"center",justifyContent:"center",background:p==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"#FFFFFF",border:p==="dark"?"1px solid rgba(255, 255, 255, 0.2)":"1px solid #E6E9EF",boxShadow:p==="dark"?"0 4px 15px rgba(255, 255, 255, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.06)"},children:t.jsx(n2,{style:{width:"16px",height:"16px",color:p==="dark"?"#1A1A1A":"#6B7280"}})})]})]})})}const Eb="/assets/282ed224b8d6681278187a87d172cc01e9522cbc-DnaRwhw0.png",Ab="/assets/8913ba3c8424dada0cd9697071e01ea367a29a23-CgcurG58.png";function Tb({theme:n="light"}){const s=n==="dark"?Eb:Ab;return t.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",style:{zIndex:10},children:[n==="dark"&&t.jsx("div",{className:"absolute",style:{width:"calc(100vw - 32px)",maxWidth:"680px",height:"clamp(204px, 238px, 272px)",background:"radial-gradient(ellipse, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.08) 40%, transparent 70%)",borderRadius:"50%",zIndex:-1,top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}),t.jsx("img",{src:s,alt:"GRITHER",className:"w-auto h-auto",style:{width:"clamp(340px, 95vw, 510px)",height:"auto"}})]})}function Db({theme:n="light"}){return t.jsx("div",{className:"hero-zone relative w-full",style:{height:"clamp(136px, 150px, 168px)",marginTop:"16px",marginBottom:"8px",overflow:"visible",background:"transparent",zIndex:15},children:t.jsx(Tb,{theme:n})})}function gr(n,s,{checkForDefaultPrevented:o=!0}={}){return function(d){if(n?.(d),o===!1||!d.defaultPrevented)return s?.(d)}}var Pb=ox[" useId ".trim().toString()]||(()=>{}),Bb=0;function _c(n){const[s,o]=b.useState(Pb());return yr(()=>{o(i=>i??String(Bb++))},[n]),n||(s?`radix-${s}`:"")}var Rb=ox[" useInsertionEffect ".trim().toString()]||yr;function Mb({prop:n,defaultProp:s,onChange:o=()=>{},caller:i}){const[d,u,l]=Ib({defaultProp:s,onChange:o}),p=n!==void 0,m=p?n:d;{const x=b.useRef(n!==void 0);b.useEffect(()=>{const y=x.current;y!==p&&console.warn(`${i} is changing from ${y?"controlled":"uncontrolled"} to ${p?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=p},[p,i])}const g=b.useCallback(x=>{if(p){const y=_b(x)?x(n):x;y!==n&&l.current?.(y)}else u(x)},[p,n,u,l]);return[m,g]}function Ib({defaultProp:n,onChange:s}){const[o,i]=b.useState(n),d=b.useRef(o),u=b.useRef(s);return Rb(()=>{u.current=s},[s]),b.useEffect(()=>{d.current!==o&&(u.current?.(o),d.current=o)},[o,d]),[o,i,u]}function _b(n){return typeof n=="function"}function Ob(n,s=globalThis?.document){const o=Os(n);b.useEffect(()=>{const i=d=>{d.key==="Escape"&&o(d)};return s.addEventListener("keydown",i,{capture:!0}),()=>s.removeEventListener("keydown",i,{capture:!0})},[o,s])}var Lb="DismissableLayer",ud="dismissableLayer.update",$b="dismissableLayer.pointerDownOutside",zb="dismissableLayer.focusOutside",Tm,Bx=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rx=b.forwardRef((n,s)=>{const{disableOutsidePointerEvents:o=!1,onEscapeKeyDown:i,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:l,onDismiss:p,...m}=n,g=b.useContext(Bx),[x,y]=b.useState(null),v=x?.ownerDocument??globalThis?.document,[,F]=b.useState({}),N=Zr(s,$=>y($)),j=Array.from(g.layers),[S]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),D=j.indexOf(S),T=x?j.indexOf(x):-1,C=g.layersWithOutsidePointerEventsDisabled.size>0,L=T>=D,B=Wb($=>{const _=$.target,ee=[...g.branches].some(H=>H.contains(_));!L||ee||(d?.($),l?.($),$.defaultPrevented||p?.())},v),G=Hb($=>{const _=$.target;[...g.branches].some(H=>H.contains(_))||(u?.($),l?.($),$.defaultPrevented||p?.())},v);return Ob($=>{T===g.layers.size-1&&(i?.($),!$.defaultPrevented&&p&&($.preventDefault(),p()))},v),b.useEffect(()=>{if(x)return o&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(Tm=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(x)),g.layers.add(x),Dm(),()=>{o&&g.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Tm)}},[x,v,o,g]),b.useEffect(()=>()=>{x&&(g.layers.delete(x),g.layersWithOutsidePointerEventsDisabled.delete(x),Dm())},[x,g]),b.useEffect(()=>{const $=()=>F({});return document.addEventListener(ud,$),()=>document.removeEventListener(ud,$)},[]),t.jsx(an.div,{...m,ref:N,style:{pointerEvents:C?L?"auto":"none":void 0,...n.style},onFocusCapture:gr(n.onFocusCapture,G.onFocusCapture),onBlurCapture:gr(n.onBlurCapture,G.onBlurCapture),onPointerDownCapture:gr(n.onPointerDownCapture,B.onPointerDownCapture)})});Rx.displayName=Lb;var Vb="DismissableLayerBranch",Ub=b.forwardRef((n,s)=>{const o=b.useContext(Bx),i=b.useRef(null),d=Zr(s,i);return b.useEffect(()=>{const u=i.current;if(u)return o.branches.add(u),()=>{o.branches.delete(u)}},[o.branches]),t.jsx(an.div,{...n,ref:d})});Ub.displayName=Vb;function Wb(n,s=globalThis?.document){const o=Os(n),i=b.useRef(!1),d=b.useRef(()=>{});return b.useEffect(()=>{const u=p=>{if(p.target&&!i.current){let m=function(){Mx($b,o,g,{discrete:!0})};const g={originalEvent:p};p.pointerType==="touch"?(s.removeEventListener("click",d.current),d.current=m,s.addEventListener("click",d.current,{once:!0})):m()}else s.removeEventListener("click",d.current);i.current=!1},l=window.setTimeout(()=>{s.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(l),s.removeEventListener("pointerdown",u),s.removeEventListener("click",d.current)}},[s,o]),{onPointerDownCapture:()=>i.current=!0}}function Hb(n,s=globalThis?.document){const o=Os(n),i=b.useRef(!1);return b.useEffect(()=>{const d=u=>{u.target&&!i.current&&Mx(zb,o,{originalEvent:u},{discrete:!1})};return s.addEventListener("focusin",d),()=>s.removeEventListener("focusin",d)},[s,o]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Dm(){const n=new CustomEvent(ud);document.dispatchEvent(n)}function Mx(n,s,o,{discrete:i}){const d=o.originalEvent.target,u=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:o});s&&d.addEventListener(n,s,{once:!0}),i?D2(d,u):d.dispatchEvent(u)}var Oc="focusScope.autoFocusOnMount",Lc="focusScope.autoFocusOnUnmount",Pm={bubbles:!1,cancelable:!0},Gb="FocusScope",Ix=b.forwardRef((n,s)=>{const{loop:o=!1,trapped:i=!1,onMountAutoFocus:d,onUnmountAutoFocus:u,...l}=n,[p,m]=b.useState(null),g=Os(d),x=Os(u),y=b.useRef(null),v=Zr(s,j=>m(j)),F=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(i){let j=function(C){if(F.paused||!p)return;const L=C.target;p.contains(L)?y.current=L:hr(y.current,{select:!0})},S=function(C){if(F.paused||!p)return;const L=C.relatedTarget;L!==null&&(p.contains(L)||hr(y.current,{select:!0}))},D=function(C){if(document.activeElement===document.body)for(const B of C)B.removedNodes.length>0&&hr(p)};document.addEventListener("focusin",j),document.addEventListener("focusout",S);const T=new MutationObserver(D);return p&&T.observe(p,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",S),T.disconnect()}}},[i,p,F.paused]),b.useEffect(()=>{if(p){Rm.add(F);const j=document.activeElement;if(!p.contains(j)){const D=new CustomEvent(Oc,Pm);p.addEventListener(Oc,g),p.dispatchEvent(D),D.defaultPrevented||(Kb(Zb(_x(p)),{select:!0}),document.activeElement===j&&hr(p))}return()=>{p.removeEventListener(Oc,g),setTimeout(()=>{const D=new CustomEvent(Lc,Pm);p.addEventListener(Lc,x),p.dispatchEvent(D),D.defaultPrevented||hr(j??document.body,{select:!0}),p.removeEventListener(Lc,x),Rm.remove(F)},0)}}},[p,g,x,F]);const N=b.useCallback(j=>{if(!o&&!i||F.paused)return;const S=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,D=document.activeElement;if(S&&D){const T=j.currentTarget,[C,L]=qb(T);C&&L?!j.shiftKey&&D===L?(j.preventDefault(),o&&hr(C,{select:!0})):j.shiftKey&&D===C&&(j.preventDefault(),o&&hr(L,{select:!0})):D===T&&j.preventDefault()}},[o,i,F.paused]);return t.jsx(an.div,{tabIndex:-1,...l,ref:v,onKeyDown:N})});Ix.displayName=Gb;function Kb(n,{select:s=!1}={}){const o=document.activeElement;for(const i of n)if(hr(i,{select:s}),document.activeElement!==o)return}function qb(n){const s=_x(n),o=Bm(s,n),i=Bm(s.reverse(),n);return[o,i]}function _x(n){const s=[],o=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const d=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||d?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)s.push(o.currentNode);return s}function Bm(n,s){for(const o of n)if(!Xb(o,{upTo:s}))return o}function Xb(n,{upTo:s}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(s!==void 0&&n===s)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function Yb(n){return n instanceof HTMLInputElement&&"select"in n}function hr(n,{select:s=!1}={}){if(n&&n.focus){const o=document.activeElement;n.focus({preventScroll:!0}),n!==o&&Yb(n)&&s&&n.select()}}var Rm=Qb();function Qb(){let n=[];return{add(s){const o=n[0];s!==o&&o?.pause(),n=Mm(n,s),n.unshift(s)},remove(s){n=Mm(n,s),n[0]?.resume()}}}function Mm(n,s){const o=[...n],i=o.indexOf(s);return i!==-1&&o.splice(i,1),o}function Zb(n){return n.filter(s=>s.tagName!=="A")}var Jb="Portal",Ox=b.forwardRef((n,s)=>{const{container:o,...i}=n,[d,u]=b.useState(!1);yr(()=>u(!0),[]);const l=o||d&&globalThis?.document?.body;return l?k2.createPortal(t.jsx(an.div,{...i,ref:s}),l):null});Ox.displayName=Jb;function ej(n,s){return b.useReducer((o,i)=>s[o][i]??o,n)}var Oi=n=>{const{present:s,children:o}=n,i=tj(s),d=typeof o=="function"?o({present:i.isPresent}):b.Children.only(o),u=Zr(i.ref,nj(d));return typeof o=="function"||i.isPresent?b.cloneElement(d,{ref:u}):null};Oi.displayName="Presence";function tj(n){const[s,o]=b.useState(),i=b.useRef(null),d=b.useRef(n),u=b.useRef("none"),l=n?"mounted":"unmounted",[p,m]=ej(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const g=pi(i.current);u.current=p==="mounted"?g:"none"},[p]),yr(()=>{const g=i.current,x=d.current;if(x!==n){const v=u.current,F=pi(g);n?m("MOUNT"):F==="none"||g?.display==="none"?m("UNMOUNT"):m(x&&v!==F?"ANIMATION_OUT":"UNMOUNT"),d.current=n}},[n,m]),yr(()=>{if(s){let g;const x=s.ownerDocument.defaultView??window,y=F=>{const j=pi(i.current).includes(CSS.escape(F.animationName));if(F.target===s&&j&&(m("ANIMATION_END"),!d.current)){const S=s.style.animationFillMode;s.style.animationFillMode="forwards",g=x.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=S)})}},v=F=>{F.target===s&&(u.current=pi(i.current))};return s.addEventListener("animationstart",v),s.addEventListener("animationcancel",y),s.addEventListener("animationend",y),()=>{x.clearTimeout(g),s.removeEventListener("animationstart",v),s.removeEventListener("animationcancel",y),s.removeEventListener("animationend",y)}}else m("ANIMATION_END")},[s,m]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:b.useCallback(g=>{i.current=g?getComputedStyle(g):null,o(g)},[])}}function pi(n){return n?.animationName||"none"}function nj(n){let s=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,o=s&&"isReactWarning"in s&&s.isReactWarning;return o?n.ref:(s=Object.getOwnPropertyDescriptor(n,"ref")?.get,o=s&&"isReactWarning"in s&&s.isReactWarning,o?n.props.ref:n.props.ref||n.ref)}var $c=0;function rj(){b.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??Im()),document.body.insertAdjacentElement("beforeend",n[1]??Im()),$c++,()=>{$c===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),$c--}},[])}function Im(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Fn=function(){return Fn=Object.assign||function(s){for(var o,i=1,d=arguments.length;i<d;i++){o=arguments[i];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(s[u]=o[u])}return s},Fn.apply(this,arguments)};function Lx(n,s){var o={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&s.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,i=Object.getOwnPropertySymbols(n);d<i.length;d++)s.indexOf(i[d])<0&&Object.prototype.propertyIsEnumerable.call(n,i[d])&&(o[i[d]]=n[i[d]]);return o}function sj(n,s,o){if(o||arguments.length===2)for(var i=0,d=s.length,u;i<d;i++)(u||!(i in s))&&(u||(u=Array.prototype.slice.call(s,0,i)),u[i]=s[i]);return n.concat(u||Array.prototype.slice.call(s))}var ji="right-scroll-bar-position",wi="width-before-scroll-bar",oj="with-scroll-bars-hidden",aj="--removed-body-scroll-bar-size";function zc(n,s){return typeof n=="function"?n(s):n&&(n.current=s),n}function ij(n,s){var o=b.useState(function(){return{value:n,callback:s,facade:{get current(){return o.value},set current(i){var d=o.value;d!==i&&(o.value=i,o.callback(i,d))}}}})[0];return o.callback=s,o.facade}var lj=typeof window<"u"?b.useLayoutEffect:b.useEffect,_m=new WeakMap;function cj(n,s){var o=ij(null,function(i){return n.forEach(function(d){return zc(d,i)})});return lj(function(){var i=_m.get(o);if(i){var d=new Set(i),u=new Set(n),l=o.current;d.forEach(function(p){u.has(p)||zc(p,null)}),u.forEach(function(p){d.has(p)||zc(p,l)})}_m.set(o,n)},[n]),o}function dj(n){return n}function uj(n,s){s===void 0&&(s=dj);var o=[],i=!1,d={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return o.length?o[o.length-1]:n},useMedium:function(u){var l=s(u,i);return o.push(l),function(){o=o.filter(function(p){return p!==l})}},assignSyncMedium:function(u){for(i=!0;o.length;){var l=o;o=[],l.forEach(u)}o={push:function(p){return u(p)},filter:function(){return o}}},assignMedium:function(u){i=!0;var l=[];if(o.length){var p=o;o=[],p.forEach(u),l=o}var m=function(){var x=l;l=[],x.forEach(u)},g=function(){return Promise.resolve().then(m)};g(),o={push:function(x){l.push(x),g()},filter:function(x){return l=l.filter(x),o}}}};return d}function fj(n){n===void 0&&(n={});var s=uj(null);return s.options=Fn({async:!0,ssr:!1},n),s}var $x=function(n){var s=n.sideCar,o=Lx(n,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=s.read();if(!i)throw new Error("Sidecar medium not found");return b.createElement(i,Fn({},o))};$x.isSideCarExport=!0;function pj(n,s){return n.useMedium(s),$x}var zx=fj(),Vc=function(){},Li=b.forwardRef(function(n,s){var o=b.useRef(null),i=b.useState({onScrollCapture:Vc,onWheelCapture:Vc,onTouchMoveCapture:Vc}),d=i[0],u=i[1],l=n.forwardProps,p=n.children,m=n.className,g=n.removeScrollBar,x=n.enabled,y=n.shards,v=n.sideCar,F=n.noRelative,N=n.noIsolation,j=n.inert,S=n.allowPinchZoom,D=n.as,T=D===void 0?"div":D,C=n.gapMode,L=Lx(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=v,G=cj([o,s]),$=Fn(Fn({},L),d);return b.createElement(b.Fragment,null,x&&b.createElement(B,{sideCar:zx,removeScrollBar:g,shards:y,noRelative:F,noIsolation:N,inert:j,setCallbacks:u,allowPinchZoom:!!S,lockRef:o,gapMode:C}),l?b.cloneElement(b.Children.only(p),Fn(Fn({},$),{ref:G})):b.createElement(T,Fn({},$,{className:m,ref:G}),p))});Li.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Li.classNames={fullWidth:wi,zeroRight:ji};var mj=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hj(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var s=mj();return s&&n.setAttribute("nonce",s),n}function xj(n,s){n.styleSheet?n.styleSheet.cssText=s:n.appendChild(document.createTextNode(s))}function gj(n){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(n)}var vj=function(){var n=0,s=null;return{add:function(o){n==0&&(s=hj())&&(xj(s,o),gj(s)),n++},remove:function(){n--,!n&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},yj=function(){var n=vj();return function(s,o){b.useEffect(function(){return n.add(s),function(){n.remove()}},[s&&o])}},Vx=function(){var n=yj(),s=function(o){var i=o.styles,d=o.dynamic;return n(i,d),null};return s},bj={left:0,top:0,right:0,gap:0},Uc=function(n){return parseInt(n||"",10)||0},jj=function(n){var s=window.getComputedStyle(document.body),o=s[n==="padding"?"paddingLeft":"marginLeft"],i=s[n==="padding"?"paddingTop":"marginTop"],d=s[n==="padding"?"paddingRight":"marginRight"];return[Uc(o),Uc(i),Uc(d)]},wj=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return bj;var s=jj(n),o=document.documentElement.clientWidth,i=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,i-o+s[2]-s[0])}},kj=Vx(),Is="data-scroll-locked",Nj=function(n,s,o,i){var d=n.left,u=n.top,l=n.right,p=n.gap;return o===void 0&&(o="margin"),`
  .`.concat(oj,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(p,"px ").concat(i,`;
  }
  body[`).concat(Is,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(i,";"),o==="margin"&&`
    padding-left: `.concat(d,`px;
    padding-top: `).concat(u,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(p,"px ").concat(i,`;
    `),o==="padding"&&"padding-right: ".concat(p,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ji,` {
    right: `).concat(p,"px ").concat(i,`;
  }
  
  .`).concat(wi,` {
    margin-right: `).concat(p,"px ").concat(i,`;
  }
  
  .`).concat(ji," .").concat(ji,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(wi," .").concat(wi,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Is,`] {
    `).concat(aj,": ").concat(p,`px;
  }
`)},Om=function(){var n=parseInt(document.body.getAttribute(Is)||"0",10);return isFinite(n)?n:0},Fj=function(){b.useEffect(function(){return document.body.setAttribute(Is,(Om()+1).toString()),function(){var n=Om()-1;n<=0?document.body.removeAttribute(Is):document.body.setAttribute(Is,n.toString())}},[])},Cj=function(n){var s=n.noRelative,o=n.noImportant,i=n.gapMode,d=i===void 0?"margin":i;Fj();var u=b.useMemo(function(){return wj(d)},[d]);return b.createElement(kj,{styles:Nj(u,!s,d,o?"":"!important")})},fd=!1;if(typeof window<"u")try{var mi=Object.defineProperty({},"passive",{get:function(){return fd=!0,!0}});window.addEventListener("test",mi,mi),window.removeEventListener("test",mi,mi)}catch{fd=!1}var Fs=fd?{passive:!1}:!1,Sj=function(n){return n.tagName==="TEXTAREA"},Ux=function(n,s){if(!(n instanceof Element))return!1;var o=window.getComputedStyle(n);return o[s]!=="hidden"&&!(o.overflowY===o.overflowX&&!Sj(n)&&o[s]==="visible")},Ej=function(n){return Ux(n,"overflowY")},Aj=function(n){return Ux(n,"overflowX")},Lm=function(n,s){var o=s.ownerDocument,i=s;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var d=Wx(n,i);if(d){var u=Hx(n,i),l=u[1],p=u[2];if(l>p)return!0}i=i.parentNode}while(i&&i!==o.body);return!1},Tj=function(n){var s=n.scrollTop,o=n.scrollHeight,i=n.clientHeight;return[s,o,i]},Dj=function(n){var s=n.scrollLeft,o=n.scrollWidth,i=n.clientWidth;return[s,o,i]},Wx=function(n,s){return n==="v"?Ej(s):Aj(s)},Hx=function(n,s){return n==="v"?Tj(s):Dj(s)},Pj=function(n,s){return n==="h"&&s==="rtl"?-1:1},Bj=function(n,s,o,i,d){var u=Pj(n,window.getComputedStyle(s).direction),l=u*i,p=o.target,m=s.contains(p),g=!1,x=l>0,y=0,v=0;do{if(!p)break;var F=Hx(n,p),N=F[0],j=F[1],S=F[2],D=j-S-u*N;(N||D)&&Wx(n,p)&&(y+=D,v+=N);var T=p.parentNode;p=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!m&&p!==document.body||m&&(s.contains(p)||s===p));return(x&&Math.abs(y)<1||!x&&Math.abs(v)<1)&&(g=!0),g},hi=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},$m=function(n){return[n.deltaX,n.deltaY]},zm=function(n){return n&&"current"in n?n.current:n},Rj=function(n,s){return n[0]===s[0]&&n[1]===s[1]},Mj=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},Ij=0,Cs=[];function _j(n){var s=b.useRef([]),o=b.useRef([0,0]),i=b.useRef(),d=b.useState(Ij++)[0],u=b.useState(Vx)[0],l=b.useRef(n);b.useEffect(function(){l.current=n},[n]),b.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(d));var j=sj([n.lockRef.current],(n.shards||[]).map(zm),!0).filter(Boolean);return j.forEach(function(S){return S.classList.add("allow-interactivity-".concat(d))}),function(){document.body.classList.remove("block-interactivity-".concat(d)),j.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(d))})}}},[n.inert,n.lockRef.current,n.shards]);var p=b.useCallback(function(j,S){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!l.current.allowPinchZoom;var D=hi(j),T=o.current,C="deltaX"in j?j.deltaX:T[0]-D[0],L="deltaY"in j?j.deltaY:T[1]-D[1],B,G=j.target,$=Math.abs(C)>Math.abs(L)?"h":"v";if("touches"in j&&$==="h"&&G.type==="range")return!1;var _=Lm($,G);if(!_)return!0;if(_?B=$:(B=$==="v"?"h":"v",_=Lm($,G)),!_)return!1;if(!i.current&&"changedTouches"in j&&(C||L)&&(i.current=B),!B)return!0;var ee=i.current||B;return Bj(ee,S,j,ee==="h"?C:L)},[]),m=b.useCallback(function(j){var S=j;if(!(!Cs.length||Cs[Cs.length-1]!==u)){var D="deltaY"in S?$m(S):hi(S),T=s.current.filter(function(B){return B.name===S.type&&(B.target===S.target||S.target===B.shadowParent)&&Rj(B.delta,D)})[0];if(T&&T.should){S.cancelable&&S.preventDefault();return}if(!T){var C=(l.current.shards||[]).map(zm).filter(Boolean).filter(function(B){return B.contains(S.target)}),L=C.length>0?p(S,C[0]):!l.current.noIsolation;L&&S.cancelable&&S.preventDefault()}}},[]),g=b.useCallback(function(j,S,D,T){var C={name:j,delta:S,target:D,should:T,shadowParent:Oj(D)};s.current.push(C),setTimeout(function(){s.current=s.current.filter(function(L){return L!==C})},1)},[]),x=b.useCallback(function(j){o.current=hi(j),i.current=void 0},[]),y=b.useCallback(function(j){g(j.type,$m(j),j.target,p(j,n.lockRef.current))},[]),v=b.useCallback(function(j){g(j.type,hi(j),j.target,p(j,n.lockRef.current))},[]);b.useEffect(function(){return Cs.push(u),n.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:v}),document.addEventListener("wheel",m,Fs),document.addEventListener("touchmove",m,Fs),document.addEventListener("touchstart",x,Fs),function(){Cs=Cs.filter(function(j){return j!==u}),document.removeEventListener("wheel",m,Fs),document.removeEventListener("touchmove",m,Fs),document.removeEventListener("touchstart",x,Fs)}},[]);var F=n.removeScrollBar,N=n.inert;return b.createElement(b.Fragment,null,N?b.createElement(u,{styles:Mj(d)}):null,F?b.createElement(Cj,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function Oj(n){for(var s=null;n!==null;)n instanceof ShadowRoot&&(s=n.host,n=n.host),n=n.parentNode;return s}const Lj=pj(zx,_j);var Gx=b.forwardRef(function(n,s){return b.createElement(Li,Fn({},n,{ref:s,sideCar:Lj}))});Gx.classNames=Li.classNames;var $j=function(n){if(typeof document>"u")return null;var s=Array.isArray(n)?n[0]:n;return s.ownerDocument.body},Ss=new WeakMap,xi=new WeakMap,gi={},Wc=0,Kx=function(n){return n&&(n.host||Kx(n.parentNode))},zj=function(n,s){return s.map(function(o){if(n.contains(o))return o;var i=Kx(o);return i&&n.contains(i)?i:(console.error("aria-hidden",o,"in not contained inside",n,". Doing nothing"),null)}).filter(function(o){return!!o})},Vj=function(n,s,o,i){var d=zj(s,Array.isArray(n)?n:[n]);gi[o]||(gi[o]=new WeakMap);var u=gi[o],l=[],p=new Set,m=new Set(d),g=function(y){!y||p.has(y)||(p.add(y),g(y.parentNode))};d.forEach(g);var x=function(y){!y||m.has(y)||Array.prototype.forEach.call(y.children,function(v){if(p.has(v))x(v);else try{var F=v.getAttribute(i),N=F!==null&&F!=="false",j=(Ss.get(v)||0)+1,S=(u.get(v)||0)+1;Ss.set(v,j),u.set(v,S),l.push(v),j===1&&N&&xi.set(v,!0),S===1&&v.setAttribute(o,"true"),N||v.setAttribute(i,"true")}catch(D){console.error("aria-hidden: cannot operate on ",v,D)}})};return x(s),p.clear(),Wc++,function(){l.forEach(function(y){var v=Ss.get(y)-1,F=u.get(y)-1;Ss.set(y,v),u.set(y,F),v||(xi.has(y)||y.removeAttribute(i),xi.delete(y)),F||y.removeAttribute(o)}),Wc--,Wc||(Ss=new WeakMap,Ss=new WeakMap,xi=new WeakMap,gi={})}},Uj=function(n,s,o){o===void 0&&(o="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),d=$j(n);return d?(i.push.apply(i,Array.from(d.querySelectorAll("[aria-live], script"))),Vj(i,d,o,"aria-hidden")):function(){return null}},$i="Dialog",[qx,VC]=px($i),[Wj,vn]=qx($i),Xx=n=>{const{__scopeDialog:s,children:o,open:i,defaultOpen:d,onOpenChange:u,modal:l=!0}=n,p=b.useRef(null),m=b.useRef(null),[g,x]=Mb({prop:i,defaultProp:d??!1,onChange:u,caller:$i});return t.jsx(Wj,{scope:s,triggerRef:p,contentRef:m,contentId:_c(),titleId:_c(),descriptionId:_c(),open:g,onOpenChange:x,onOpenToggle:b.useCallback(()=>x(y=>!y),[x]),modal:l,children:o})};Xx.displayName=$i;var Yx="DialogTrigger",Hj=b.forwardRef((n,s)=>{const{__scopeDialog:o,...i}=n,d=vn(Yx,o),u=Zr(s,d.triggerRef);return t.jsx(an.button,{type:"button","aria-haspopup":"dialog","aria-expanded":d.open,"aria-controls":d.contentId,"data-state":Kd(d.open),...i,ref:u,onClick:gr(n.onClick,d.onOpenToggle)})});Hj.displayName=Yx;var Hd="DialogPortal",[Gj,Qx]=qx(Hd,{forceMount:void 0}),Zx=n=>{const{__scopeDialog:s,forceMount:o,children:i,container:d}=n,u=vn(Hd,s);return t.jsx(Gj,{scope:s,forceMount:o,children:b.Children.map(i,l=>t.jsx(Oi,{present:o||u.open,children:t.jsx(Ox,{asChild:!0,container:d,children:l})}))})};Zx.displayName=Hd;var Ai="DialogOverlay",Jx=b.forwardRef((n,s)=>{const o=Qx(Ai,n.__scopeDialog),{forceMount:i=o.forceMount,...d}=n,u=vn(Ai,n.__scopeDialog);return u.modal?t.jsx(Oi,{present:i||u.open,children:t.jsx(qj,{...d,ref:s})}):null});Jx.displayName=Ai;var Kj=Ld("DialogOverlay.RemoveScroll"),qj=b.forwardRef((n,s)=>{const{__scopeDialog:o,...i}=n,d=vn(Ai,o);return t.jsx(Gx,{as:Kj,allowPinchZoom:!0,shards:[d.contentRef],children:t.jsx(an.div,{"data-state":Kd(d.open),...i,ref:s,style:{pointerEvents:"auto",...i.style}})})}),qr="DialogContent",eg=b.forwardRef((n,s)=>{const o=Qx(qr,n.__scopeDialog),{forceMount:i=o.forceMount,...d}=n,u=vn(qr,n.__scopeDialog);return t.jsx(Oi,{present:i||u.open,children:u.modal?t.jsx(Xj,{...d,ref:s}):t.jsx(Yj,{...d,ref:s})})});eg.displayName=qr;var Xj=b.forwardRef((n,s)=>{const o=vn(qr,n.__scopeDialog),i=b.useRef(null),d=Zr(s,o.contentRef,i);return b.useEffect(()=>{const u=i.current;if(u)return Uj(u)},[]),t.jsx(tg,{...n,ref:d,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:gr(n.onCloseAutoFocus,u=>{u.preventDefault(),o.triggerRef.current?.focus()}),onPointerDownOutside:gr(n.onPointerDownOutside,u=>{const l=u.detail.originalEvent,p=l.button===0&&l.ctrlKey===!0;(l.button===2||p)&&u.preventDefault()}),onFocusOutside:gr(n.onFocusOutside,u=>u.preventDefault())})}),Yj=b.forwardRef((n,s)=>{const o=vn(qr,n.__scopeDialog),i=b.useRef(!1),d=b.useRef(!1);return t.jsx(tg,{...n,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:u=>{n.onCloseAutoFocus?.(u),u.defaultPrevented||(i.current||o.triggerRef.current?.focus(),u.preventDefault()),i.current=!1,d.current=!1},onInteractOutside:u=>{n.onInteractOutside?.(u),u.defaultPrevented||(i.current=!0,u.detail.originalEvent.type==="pointerdown"&&(d.current=!0));const l=u.target;o.triggerRef.current?.contains(l)&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&d.current&&u.preventDefault()}})}),tg=b.forwardRef((n,s)=>{const{__scopeDialog:o,trapFocus:i,onOpenAutoFocus:d,onCloseAutoFocus:u,...l}=n,p=vn(qr,o),m=b.useRef(null),g=Zr(s,m);return rj(),t.jsxs(t.Fragment,{children:[t.jsx(Ix,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:d,onUnmountAutoFocus:u,children:t.jsx(Rx,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":Kd(p.open),...l,ref:g,onDismiss:()=>p.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(Zj,{titleId:p.titleId}),t.jsx(ew,{contentRef:m,descriptionId:p.descriptionId})]})]})}),Gd="DialogTitle",ng=b.forwardRef((n,s)=>{const{__scopeDialog:o,...i}=n,d=vn(Gd,o);return t.jsx(an.h2,{id:d.titleId,...i,ref:s})});ng.displayName=Gd;var rg="DialogDescription",sg=b.forwardRef((n,s)=>{const{__scopeDialog:o,...i}=n,d=vn(rg,o);return t.jsx(an.p,{id:d.descriptionId,...i,ref:s})});sg.displayName=rg;var og="DialogClose",Qj=b.forwardRef((n,s)=>{const{__scopeDialog:o,...i}=n,d=vn(og,o);return t.jsx(an.button,{type:"button",...i,ref:s,onClick:gr(n.onClick,()=>d.onOpenChange(!1))})});Qj.displayName=og;function Kd(n){return n?"open":"closed"}var ag="DialogTitleWarning",[UC,ig]=j2(ag,{contentName:qr,titleName:Gd,docsSlug:"dialog"}),Zj=({titleId:n})=>{const s=ig(ag),o=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return b.useEffect(()=>{n&&(document.getElementById(n)||console.error(o))},[o,n]),null},Jj="DialogDescriptionWarning",ew=({contentRef:n,descriptionId:s})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ig(Jj).contentName}}.`;return b.useEffect(()=>{const d=n.current?.getAttribute("aria-describedby");s&&d&&(document.getElementById(s)||console.warn(i))},[i,n,s]),null},tw=Xx,nw=Zx,lg=Jx,cg=eg,rw=ng,sw=sg;function Ke({...n}){return t.jsx(tw,{"data-slot":"dialog",...n})}function ow({...n}){return t.jsx(nw,{"data-slot":"dialog-portal",...n})}const dg=b.forwardRef(({className:n,...s},o)=>t.jsx(lg,{ref:o,"data-slot":"dialog-overlay",className:gn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-40 modal-backdrop-light dark:modal-backdrop-dark",n),...s}));dg.displayName=lg.displayName;const Ge=b.forwardRef(({className:n,children:s,...o},i)=>t.jsxs(ow,{"data-slot":"dialog-portal",children:[t.jsx(dg,{}),t.jsx(cg,{ref:i,"data-slot":"dialog-content",className:gn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] duration-200 sm:max-w-lg",n),style:{backgroundColor:"var(--card)",opacity:"1",borderRadius:"16px",border:"1px solid var(--border)",boxShadow:"0 16px 48px rgba(0, 0, 0, 0.25)",padding:"16px",gap:"12px",minWidth:"280px",maxHeight:"80vh",overflow:"hidden",backdropFilter:"none",WebkitBackdropFilter:"none"},...o,children:s})]}));Ge.displayName=cg.displayName;function Ho({className:n,...s}){return t.jsx("div",{"data-slot":"dialog-header",className:gn("flex flex-col gap-2 text-center sm:text-left",n),...s})}function qe({className:n,...s}){return t.jsx(rw,{"data-slot":"dialog-title",className:gn("text-lg leading-none font-semibold",n),...s})}function Xe({className:n,...s}){return t.jsx(sw,{"data-slot":"dialog-description",className:gn("text-muted-foreground text-sm",n),...s})}function aw({achievements:n=[],theme:s="light"}){const[o,i]=b.useState(!1),d=n.filter(g=>{const x=g.requirements.current/g.requirements.target*100;return x>0&&x<100}).sort((g,x)=>{const y=g.requirements.current/g.requirements.target*100;return x.requirements.current/x.requirements.target*100-y}),u=d.slice(0,3),l=d,p=(g,x)=>Math.round(g/x*100),m=(g,x)=>{const y=`w-4 h-4 ${x==="legendary"?"text-yellow-500":x==="epic"?"text-purple-500":x==="rare"?"text-blue-500":"text-primary"}`;switch(g){case"trophy":return t.jsx(st,{className:y});case"star":return t.jsx(_d,{className:y});case"award":return t.jsx(Id,{className:y});case"medal":return t.jsx(fx,{className:y});default:return t.jsx(st,{className:y})}};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:s==="dark"?"dark":"",style:{backgroundColor:s==="dark"?"#161A22":"#FFFFFF",borderRadius:"20px",border:s==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF",boxShadow:s==="dark"?"0 8px 24px rgba(0, 0, 0, 0.6)":"0 8px 24px rgba(0, 0, 0, 0.10)"},children:[t.jsxs("div",{className:"flex items-center justify-between p-4 pb-0",children:[t.jsx("div",{className:"w-8 h-8"}),t.jsx("h3",{className:"font-medium flex-1 text-center",style:{color:s==="dark"?"#E8ECF2":"#0F172A"},children:"Ваши достижения"}),t.jsx("button",{onClick:()=>i(!0),className:"p-2 rounded-full transition-all hover:scale-105",style:{backgroundColor:s==="dark"?"#0F1116":"#FFFFFF",border:s==="dark"?"1px solid #2A2F36":"1px solid #E6E9EF",color:s==="dark"?"#FFFFFF":"#0F172A"},children:t.jsx(Vs,{className:"w-4 h-4"})})]}),t.jsx("div",{className:"p-4 pt-3",children:t.jsx("div",{className:"space-y-3",children:u.length>0?u.map(g=>{const x=p(g.requirements.current,g.requirements.target);return t.jsxs("div",{className:"relative overflow-hidden",style:{backgroundColor:"#FFFFFF",borderRadius:"16px",padding:"16px",border:"1px solid #E6E9EF",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.10)"},children:[t.jsx("div",{className:"absolute inset-0 transition-all duration-300",style:{width:`${x}%`,backgroundColor:"rgba(43, 130, 255, 0.10)",borderRadius:"16px"}}),t.jsxs("div",{className:"relative flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-xl flex items-center justify-center",style:{backgroundColor:g.rarity==="legendary"?"rgba(255, 193, 7, 0.20)":g.rarity==="epic"?"rgba(156, 39, 176, 0.20)":g.rarity==="rare"?"rgba(33, 150, 243, 0.20)":"rgba(43, 130, 255, 0.20)"},children:m(g.icon,g.rarity)}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium text-sm mb-1",style:{color:"#0F172A"},children:g.title}),t.jsx("div",{className:"text-xs",style:{color:"#6B7280"},children:g.description})]})]}),t.jsxs("div",{className:"text-sm font-medium ml-2",style:{color:"#2B82FF"},children:[x,"%"]})]})]},g.id)}):t.jsx("div",{className:"flex items-center justify-center min-h-[60px]",children:t.jsx("p",{className:"text-center opacity-70",style:{color:"#6B7280"},children:"Нет достижений в процессе выполнения"})})})})]}),t.jsx(Ke,{open:o,onOpenChange:i,children:t.jsx(Ge,{className:"glass-card rounded-3xl border-2 border-border apple-shadow w-[90vw] max-w-md p-0 max-h-[80vh] flex flex-col [&>button]:hidden",children:t.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[t.jsxs("div",{className:"relative mb-6",children:[t.jsx("button",{onClick:()=>i(!1),className:"absolute left-0 top-0 apple-button p-2 rounded-full hover:scale-105 transition-transform",children:t.jsx(Vn,{className:"w-4 h-4 text-foreground/70"})}),t.jsx(qe,{className:"text-lg font-medium text-foreground text-center",children:"Ваши достижения"})]}),t.jsx(Xe,{className:"sr-only",children:"Просмотр ваших текущих достижений и прогресса"}),t.jsx("div",{className:"flex-1 overflow-y-auto space-y-3",children:l.length>0?l.map(g=>{const x=p(g.requirements.current,g.requirements.target);return t.jsxs("div",{className:"relative glass-card rounded-2xl p-4 apple-shadow overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-20 rounded-2xl transition-all duration-300",style:{width:`${x}%`,background:"linear-gradient(90deg, rgba(0, 122, 255, 0.2) 0%, rgba(0, 122, 255, 0.1) 100%)"}}),t.jsxs("div",{className:"relative flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-8 h-8 ${g.rarity==="legendary"?"bg-yellow-500/20":g.rarity==="epic"?"bg-purple-500/20":g.rarity==="rare"?"bg-blue-500/20":"bg-primary/20"} rounded-xl flex items-center justify-center`,children:m(g.icon,g.rarity)}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium text-foreground text-sm mb-1",children:g.title}),t.jsx("div",{className:"text-xs text-muted-foreground",children:g.description}),t.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[g.requirements.current,"/",g.requirements.target]})]})]}),t.jsxs("div",{className:"text-sm font-medium text-primary ml-2",children:[x,"%"]})]})]},g.id)}):t.jsx("div",{className:"flex items-center justify-center min-h-[120px]",children:t.jsx("p",{className:"text-muted-foreground text-center",children:"Нет достижений в процессе выполнения"})})})]})})})]})}function iw({achievements:n=[],theme:s="light"}){const[o,i]=b.useState(!1),[d,u]=b.useState(!1),[l,p]=b.useState([]),m=n.filter(N=>N.requirements.current/N.requirements.target*100>=100),g=(N,j)=>{const S="w-6 h-6 text-white";switch(N){case"trophy":return t.jsx(st,{className:S});case"star":return t.jsx(_d,{className:S});case"award":return t.jsx(Id,{className:S});case"medal":return t.jsx(fx,{className:S});default:return t.jsx(st,{className:S})}},x=Array(5).fill(null).map((N,j)=>m[j]||null),y=()=>{u(!d),d||p(m.slice(0,5).map(N=>N.id))},v=()=>{u(!1),console.log("Выбранные достижения:",l)},F=N=>{d&&p(j=>j.includes(N)?j.filter(S=>S!==N):j.length<5?[...j,N]:j)};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:s==="dark"?"dark":"",style:{backgroundColor:s==="dark"?"#161A22":"#FFFFFF",borderRadius:"20px",border:s==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF",boxShadow:s==="dark"?"0 8px 24px rgba(0, 0, 0, 0.6)":"0 8px 24px rgba(0, 0, 0, 0.10)"},children:[t.jsxs("div",{className:"flex items-center justify-between p-4 pb-0",children:[t.jsx("div",{className:"w-8 h-8"}),t.jsx("h3",{className:"font-medium flex-1 text-center",style:{color:s==="dark"?"#E8ECF2":"#0F172A"},children:"Ачивки"}),t.jsx("button",{onClick:()=>i(!0),className:"p-2 rounded-full transition-all hover:scale-105",style:{backgroundColor:s==="dark"?"#0F1116":"#FFFFFF",border:s==="dark"?"1px solid #2A2F36":"1px solid #E6E9EF",color:s==="dark"?"#FFFFFF":"#0F172A"},children:t.jsx(Vs,{className:"w-4 h-4"})})]}),t.jsx("div",{className:"p-4 pt-3",children:t.jsx("div",{className:"flex justify-center gap-3",children:x.map((N,j)=>t.jsx("div",{className:"flex items-center justify-center",children:N?t.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{background:N.rarity==="legendary"?"linear-gradient(135deg, #fbbf24 0%, #d97706 100%)":N.rarity==="epic"?"linear-gradient(135deg, #a855f7 0%, #7c3aed 100%)":N.rarity==="rare"?"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)":"linear-gradient(135deg, #2B82FF 0%, #1E40AF 100%)",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.10)",border:"2px solid rgba(255, 255, 255, 0.20)"},children:g(N.icon,N.rarity)}):t.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center border-2 border-dashed",style:{backgroundColor:s==="dark"?"rgba(167, 176, 189, 0.10)":"rgba(107, 114, 128, 0.10)",borderColor:s==="dark"?"rgba(167, 176, 189, 0.30)":"rgba(107, 114, 128, 0.30)"},children:t.jsx(st,{style:{width:"20px",height:"20px",color:s==="dark"?"rgba(167, 176, 189, 0.40)":"rgba(107, 114, 128, 0.40)"}})})},j))})})]}),t.jsx(Ke,{open:o,onOpenChange:N=>{i(N),N||(u(!1),p([]))},children:t.jsx(Ge,{className:"glass-card rounded-3xl border-2 border-border apple-shadow w-[90vw] max-w-md p-0 max-h-[80vh] flex flex-col [&>button]:hidden",children:t.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[t.jsxs("div",{className:"relative mb-6",children:[t.jsx("button",{onClick:()=>{i(!1),u(!1),p([])},className:"absolute left-0 top-0 apple-button p-2 rounded-full hover:scale-105 transition-transform",children:t.jsx(Vn,{className:"w-4 h-4 text-foreground/70"})}),t.jsx(qe,{className:"text-lg font-medium text-foreground text-center",children:"Полученные ачивки"}),!d&&t.jsx("button",{onClick:y,className:"absolute top-0 right-0 apple-button p-2 rounded-full hover:scale-105 transition-transform",children:t.jsx(vr,{className:"w-4 h-4 text-foreground/70"})}),d&&t.jsx("button",{onClick:v,className:"absolute top-0 right-0 apple-button p-2 rounded-full hover:scale-105 transition-transform",children:t.jsx(Ei,{className:"w-4 h-4 text-foreground/70"})})]}),t.jsx(Xe,{className:"sr-only",children:"Просмотр всех полученных достижений"}),d&&t.jsxs("div",{className:"mb-4 p-3 glass-card rounded-xl border border-primary/30",children:[t.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Выберите до 5 достижений для отображения на главной странице"}),t.jsxs("p",{className:"text-xs text-center text-primary mt-1",children:["Выбрано: ",l.length,"/5"]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:t.jsx("div",{className:"grid grid-cols-4 gap-4",children:m.length>0?m.map(N=>{const j=l.includes(N.id),S=l.length<5||j;return t.jsxs("div",{className:`flex flex-col items-center gap-2 transition-all duration-200 ${d?S?"hover:scale-[0.98] cursor-pointer":"opacity-50 cursor-not-allowed":"hover:scale-[0.98]"}`,onClick:()=>d&&S&&F(N.id),children:[t.jsxs("div",{className:`relative w-16 h-16 ${N.rarity==="legendary"?"bg-gradient-to-br from-yellow-400 to-yellow-600":N.rarity==="epic"?"bg-gradient-to-br from-purple-400 to-purple-600":N.rarity==="rare"?"bg-gradient-to-br from-blue-400 to-blue-600":"bg-gradient-to-br from-primary to-blue-600"} rounded-full flex items-center justify-center apple-shadow border-2 ${j?"border-primary":"border-white/20"}`,children:[g(N.icon,N.rarity),d&&j&&t.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-primary rounded-full flex items-center justify-center border-2 border-white",children:t.jsx(Ei,{className:"w-3 h-3 text-white"})})]}),t.jsx("div",{className:"text-xs font-medium text-foreground text-center line-clamp-2",children:N.title})]},N.id)}):t.jsx("div",{className:"col-span-4 flex items-center justify-center min-h-[120px]",children:t.jsx("p",{className:"text-muted-foreground text-center",children:"Нет полученных достижений"})})})})]})})})]})}const ug="/assets/acaa4cccbfaf8eeee6ecbbe8f29c92d03b701371-Ds2R4XAy.png";function lw({isOpen:n,onClose:s,level:o=0,experience:i=0,maxExperience:d=100,theme:u="light"}){if(!n)return null;const l=0,p=0,m=100,g=0,x=0,y=v=>{v.target===v.currentTarget&&s()};return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:u==="dark"?"rgba(0, 0, 0, 0.45)":"rgba(0, 0, 0, 0.35)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},onClick:y,children:t.jsxs("div",{className:"mx-4",style:{width:"auto",minWidth:"320px",maxWidth:"360px",backgroundColor:u==="dark"?"#161A22":"#FFFFFF",borderRadius:"16px",padding:"16px",display:"flex",flexDirection:"column",gap:"12px",boxShadow:"0 16px 48px rgba(0, 0, 0, 0.25)",opacity:1},onClick:v=>v.stopPropagation(),children:[t.jsx("div",{className:"flex items-center justify-center",style:{height:"40px",minHeight:"40px"},children:t.jsx("h2",{className:"font-semibold text-center",style:{fontSize:"18px",color:u==="dark"?"#E8ECF2":"#0F172A",margin:0,whiteSpace:"nowrap"},children:"Ваш текущий опыт"})}),t.jsxs("div",{className:"flex flex-col",style:{gap:"12px"},children:[t.jsxs("div",{style:{height:"48px",position:"relative",overflow:"visible"},children:[t.jsx("div",{style:{position:"absolute",left:"-12px",top:"35%",transform:"translateY(-50%)",width:"32px",height:"32px",zIndex:10,display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[t.jsx(_d,{className:"w-8 h-8 fill-current",style:{color:u==="dark"?"#E8ECF2":"#0F172A"}}),t.jsx("span",{className:"absolute font-bold",style:{fontSize:"12px",color:"#FFFFFF"},children:p})]})}),t.jsx("div",{style:{width:"100%",height:"16px",backgroundColor:u==="dark"?"#0F1116":"#ECEFF3",borderRadius:"12px",border:`1px solid ${u==="dark"?"#2A2F36":"#E6E9EF"}`,position:"relative",top:"8px"},children:t.jsx("div",{className:"transition-all duration-500",style:{width:`${x}%`,height:"16px",background:u==="dark"?"#2B82FF":"linear-gradient(90deg, #2B82FF 0%, #62A6FF 100%)",borderRadius:"12px"}})}),t.jsx("div",{className:"text-center",style:{position:"absolute",bottom:"0",left:"0",right:"0"},children:t.jsxs("span",{className:"font-semibold",style:{fontSize:"14px",color:u==="dark"?"#E8ECF2":"#0F172A",whiteSpace:"nowrap"},children:[l.toLocaleString(),"/",m.toLocaleString()]})})]}),t.jsx("div",{className:"flex justify-center",children:t.jsxs("div",{className:"flex items-center",style:{height:"40px",borderRadius:"999px",padding:"0 16px",gap:"8px",backgroundColor:u==="dark"?"#1C2029":"#F3F5F8",border:`1px solid ${u==="dark"?"rgba(255, 255, 255, 0.06)":"#E6E9EF"}`},children:[t.jsx("span",{className:"font-semibold",style:{fontSize:"14px",color:u==="dark"?"#E8ECF2":"#0F172A",whiteSpace:"nowrap"},children:"Награда за уровень:"}),t.jsxs("span",{className:"font-semibold",style:{fontSize:"14px",color:u==="dark"?"#E8ECF2":"#0F172A",whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:"4px"},children:[g,t.jsx("img",{src:ug,alt:"G-coin",style:{width:"14px",height:"14px"}})]})]})})]})]})})}function fg({level:n=0,experience:s=0,maxExperience:o=100,showStatus:i=!0,theme:d="light"}){const[u,l]=b.useState(!1);return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"glass-card rounded-3xl p-4",children:[t.jsxs("div",{className:"flex items-center mb-4 px-1",children:[i&&t.jsx("span",{className:"text-sm flex-1 text-muted-foreground opacity-50",children:"Статус: —"}),t.jsx("button",{onClick:()=>l(!0),className:"text-sm flex-1 text-center transition-colors cursor-pointer text-muted-foreground opacity-50",children:"XP: —"}),t.jsx("span",{className:`text-sm font-medium text-muted-foreground opacity-50 ${i?"flex-1 text-right":"ml-auto"}`,children:"lvl —"})]}),t.jsx("div",{className:"w-full rounded-full h-3",style:{backgroundColor:d==="dark"?"#0F1116":"#ECEFF3",border:`1px solid ${d==="dark"?"#2A2F36":"#E6E9EF"}`},children:t.jsx("div",{className:"h-3 rounded-full transition-all duration-500 opacity-50",style:{width:"0%",background:d==="dark"?"#2B82FF":"linear-gradient(90deg, #2B82FF 0%, #62A6FF 100%)"}})})]}),t.jsx(lw,{isOpen:u,onClose:()=>l(!1),level:n,experience:s,maxExperience:o,theme:d})]})}function cw({battles:n,invitations:s,onShowAllBattles:o,onCreateBattle:i,theme:d="light"}){const u=n.filter(m=>m.status==="active"),l=s.filter(m=>m.status==="pending"),p=u.length+l.length;return t.jsxs("div",{className:"cursor-pointer transition-all hover:scale-[0.98] active:scale-[0.96]",onClick:o,style:{backgroundColor:d==="dark"?"#161A22":"#FFFFFF",borderRadius:"20px",border:d==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF",boxShadow:d==="dark"?"0 8px 24px rgba(0, 0, 0, 0.6)":"0 8px 24px rgba(0, 0, 0, 0.10)",position:"relative"},children:[t.jsxs("div",{className:"relative p-4 pb-0",children:[t.jsx("button",{onClick:m=>{m.stopPropagation(),i()},className:"absolute top-4 right-4 w-7 h-7 rounded-full flex items-center justify-center transition-all hover:scale-105",style:{background:d==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"#FFFFFF",border:d==="dark"?"1px solid rgba(255, 255, 255, 0.2)":"1px solid #E6E9EF",boxShadow:d==="dark"?"0 4px 15px rgba(255, 255, 255, 0.2)":"0 2px 8px rgba(0, 0, 0, 0.06)",zIndex:30},children:t.jsx(Un,{style:{width:"14px",height:"14px",color:d==="dark"?"#1A1A1A":"#6B7280"}})}),t.jsx("div",{className:"text-center",style:{marginTop:"-2px"},children:t.jsx("h3",{className:"font-medium",style:{color:d==="dark"?"#E8ECF2":"#0F172A",fontSize:"18px",lineHeight:"23.62px"},children:"Баттлы"})})]}),t.jsxs("div",{className:"space-y-3 px-4 pb-4",style:{marginTop:"16px"},children:[u.length>0&&t.jsxs("div",{children:[t.jsx("div",{className:"text-xs font-medium mb-2",style:{color:d==="dark"?"#A7B0BD":"#6B7280"},children:"Активные баттлы"}),t.jsxs("div",{className:"space-y-2",children:[u.slice(0,2).map(m=>t.jsx("div",{className:"flex items-center py-2 px-3 rounded-xl",style:{background:d==="dark"?"rgba(43, 130, 255, 0.1)":"rgba(43, 130, 255, 0.05)",border:d==="dark"?"1px solid rgba(43, 130, 255, 0.2)":"1px solid rgba(43, 130, 255, 0.15)"},children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xs font-medium",style:{color:d==="dark"?"#E8ECF2":"#0F172A"},children:m.challengerName}),t.jsx("span",{className:"text-xs",style:{color:d==="dark"?"#A7B0BD":"#6B7280"},children:"VS"}),t.jsx("span",{className:"text-xs font-medium",style:{color:d==="dark"?"#E8ECF2":"#0F172A"},children:m.opponentName})]})},m.id)),u.length>2&&t.jsxs("div",{className:"text-xs text-center py-1",style:{color:d==="dark"?"#A7B0BD":"#6B7280"},children:["+",u.length-2," еще"]})]})]}),l.length>0&&t.jsxs("div",{children:[t.jsx("div",{className:"text-xs font-medium mb-2",style:{color:d==="dark"?"#A7B0BD":"#6B7280"},children:"Приглашения"}),t.jsxs("div",{className:"space-y-2",children:[l.slice(0,2).map(m=>t.jsx("div",{className:"flex items-center py-2 px-3 rounded-xl",style:{background:d==="dark"?"rgba(255, 159, 10, 0.1)":"rgba(255, 159, 10, 0.05)",border:d==="dark"?"1px solid rgba(255, 159, 10, 0.2)":"1px solid rgba(255, 159, 10, 0.15)"},children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xs font-medium",style:{color:d==="dark"?"#E8ECF2":"#0F172A"},children:m.challengerName}),t.jsx("span",{className:"text-xs",style:{color:d==="dark"?"#A7B0BD":"#6B7280"},children:"вызывает"})]})},m.id)),l.length>2&&t.jsxs("div",{className:"text-xs text-center py-1",style:{color:d==="dark"?"#A7B0BD":"#6B7280"},children:["+",l.length-2," еще"]})]})]}),p===0&&t.jsxs("div",{className:"text-center py-6",children:[t.jsx("div",{className:"text-2xl mb-2",style:{color:d==="dark"?"#A7B0BD":"#6B7280"},children:"⚔️"}),t.jsx("p",{className:"text-xs",style:{color:d==="dark"?"#A7B0BD":"#6B7280"},children:"Нет активных баттлов"}),t.jsx("p",{className:"text-xs mt-1",style:{color:d==="dark"?"#6B7280":"#9CA3AF"},children:"Нажмите + чтобы создать вызов"})]}),p>0&&t.jsxs("div",{className:"text-xs text-center pt-2 border-t",style:{color:d==="dark"?"#A7B0BD":"#6B7280",borderColor:d==="dark"?"rgba(255, 255, 255, 0.06)":"rgba(0, 0, 0, 0.1)"},children:["Всего: ",p," ",p===1?"баттл":"баттлов"]})]})]})}function dw({leaderboard:n=[],onNavigate:s,theme:o="light"}){const[i,d]=b.useState("level"),[u,l]=b.useState(!1),[p,m]=b.useState("level"),g=n.length>0?n.map((C,L)=>({id:L+1,name:C.user.name||"Placeholder",team:`Team ${C.user.teamId||Math.floor(Math.random()*6)+1}`,level:C.user.level||Math.floor(Math.random()*20)+1,balance:`${C.user.balance||Math.floor(Math.random()*1e4)+1e3}g`,achievements:C.user.achievementsCount||Math.floor(Math.random()*50)+1,avatar:C.user.avatar||""})):[{id:1,name:"Анна Иванова",team:"Team 1",level:15,balance:"5400g",achievements:32,avatar:""},{id:2,name:"Петр Петров",team:"Team 2",level:12,balance:"8200g",achievements:28,avatar:""},{id:3,name:"Мария Сидорова",team:"Team 3",level:18,balance:"3600g",achievements:45,avatar:""}],[x,y]=b.useState(!1),v=()=>{y(!0),setTimeout(()=>y(!1),200);const C=["level","achievements","balance"],B=(C.indexOf(i)+1)%C.length,G=C[B];d(G),console.log(`Сортировка изменена с "${S(i)}" на "${S(G)}"`)},F=()=>{const C=["level","achievements","balance"],B=(C.indexOf(p)+1)%C.length;m(C[B])},N=()=>{l(!0)},j=C=>{console.log(`Открыть профиль пользователя ${C}`)},S=C=>{switch(C){case"level":return"По уровню";case"achievements":return"По ачивкам";case"balance":return"По балансу";default:return"По уровню"}},D=(C,L)=>[...C].sort((B,G)=>{switch(L){case"level":return G.level-B.level;case"achievements":return G.achievements-B.achievements;case"balance":const $=parseFloat(B.balance.replace(/[^\d.-]/g,""))||0;return(parseFloat(G.balance.replace(/[^\d.-]/g,""))||0)-$;default:return G.level-B.level}}),T=D(g,p);return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:`${o==="dark"?"dark":""} cursor-pointer transition-all hover:scale-[1.02] hover:shadow-lg active:scale-[0.98]`,onClick:C=>{C.preventDefault(),C.stopPropagation(),console.log("LEADERBOARD CARD CLICKED!"),N()},style:{backgroundColor:o==="dark"?"#161A22":"#FFFFFF",borderRadius:"20px",border:o==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF",boxShadow:o==="dark"?"0 8px 24px rgba(0, 0, 0, 0.6)":"0 8px 24px rgba(0, 0, 0, 0.10)",position:"relative"},children:[t.jsxs("div",{className:"relative p-4 pb-0",children:[t.jsx("button",{onClick:C=>{C.preventDefault(),C.stopPropagation(),console.log("SORT BUTTON CLICKED!"),v()},className:`absolute top-4 right-4 w-7 h-7 rounded-full transition-all hover:scale-105 active:scale-95 flex items-center justify-center ${x?"animate-pulse":""}`,style:{background:o==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"#FFFFFF",border:o==="dark"?"1px solid rgba(255, 255, 255, 0.2)":"1px solid #E6E9EF",color:o==="dark"?"#1A1A1A":"#0F172A",boxShadow:o==="dark"?"0 4px 15px rgba(255, 255, 255, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.06)",animation:x?"pulse 0.2s ease-in-out":"none",zIndex:60,cursor:"pointer"},title:`Сортировка: ${S(i)} (нажмите для изменения)`,children:t.jsx(vr,{className:"w-4 h-4"})}),t.jsxs("div",{className:"text-center",children:[t.jsx("h3",{className:"font-medium",style:{color:o==="dark"?"#E8ECF2":"#0F172A",fontSize:"18px",lineHeight:"23.62px"},children:"Рейтинг"}),t.jsx("p",{className:"text-xs opacity-60 mt-1",style:{color:o==="dark"?"#A7B0BD":"#6B7280"},children:S(i)})]})]}),t.jsx("div",{className:"p-4 pt-3",children:t.jsx("div",{className:"flex items-center justify-center min-h-[50px]",children:g.length>0?t.jsx("div",{className:"w-full space-y-1",children:D(g,i).slice(0,3).map((C,L)=>t.jsxs("div",{className:"flex items-center gap-2 text-xs transition-all duration-200 hover:scale-[1.02]",style:{animation:"fadeIn 0.3s ease-in-out"},children:[t.jsxs("span",{className:"font-medium w-4",style:{color:o==="dark"?"#E8ECF2":"#0F172A"},children:[L+1,"."]}),t.jsx("span",{className:"truncate flex-1",style:{color:o==="dark"?"#E8ECF2":"#0F172A"},children:C.name}),t.jsxs("span",{className:"text-xs font-medium",style:{color:o==="dark"?"#A7B0BD":"#6B7280"},children:[i==="level"&&`Ур.${C.level}`,i==="achievements"&&`${C.achievements}★`,i==="balance"&&C.balance]})]},`${C.id}-${i}`))}):t.jsx("p",{className:"text-sm text-center opacity-70",style:{color:o==="dark"?"#A7B0BD":"#6B7280"},children:"Список лидеров отсутствует"})})})]}),t.jsx(Ke,{open:u,onOpenChange:l,children:t.jsxs(Ge,{className:"w-[90vw] max-w-md max-h-[80vh] overflow-hidden rounded-3xl p-0 [&>button]:hidden flex flex-col",style:{background:o==="dark"?"linear-gradient(145deg, rgba(8, 10, 14, 0.98) 0%, rgba(16, 20, 28, 0.98) 100%)":"linear-gradient(145deg, rgba(255, 255, 255, 0.98) 0%, rgba(248, 250, 252, 0.98) 100%)",border:o==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid rgba(0, 0, 0, 0.1)",boxShadow:o==="dark"?"0 16px 48px rgba(0, 0, 0, 0.8)":"0 16px 48px rgba(0, 0, 0, 0.15)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},children:[t.jsx(qe,{className:"sr-only",children:"Рейтинг пользователей"}),t.jsx(Xe,{className:"sr-only",children:"Полный список участников с возможностью сортировки по уровню, достижениям и балансу"}),t.jsxs("div",{className:"flex items-center justify-between p-6 border-b shrink-0",style:{borderColor:o==="dark"?"rgba(255, 255, 255, 0.06)":"rgba(0, 0, 0, 0.1)"},children:[t.jsx("h2",{className:"text-lg font-medium",style:{color:o==="dark"?"#E8ECF2":"#0F172A"},children:"Рейтинг"}),t.jsx("button",{onClick:()=>l(!1),className:"w-8 h-8 rounded-full flex items-center justify-center transition-all hover:scale-105",style:{background:o==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"#FFFFFF",border:o==="dark"?"1px solid rgba(255, 255, 255, 0.2)":"1px solid #E6E9EF",boxShadow:o==="dark"?"0 4px 15px rgba(255, 255, 255, 0.2)":"0 2px 8px rgba(0, 0, 0, 0.06)"},children:t.jsx(it,{style:{width:"16px",height:"16px",color:o==="dark"?"#1A1A1A":"#6B7280"}})})]}),t.jsxs("div",{className:"flex items-center justify-between p-6 border-b shrink-0",style:{borderColor:o==="dark"?"rgba(255, 255, 255, 0.06)":"rgba(0, 0, 0, 0.1)"},children:[t.jsxs("span",{className:"text-sm font-medium",style:{color:o==="dark"?"#E8ECF2":"#0F172A"},children:["Сортировка: ",S(p)]}),t.jsx("button",{onClick:F,className:"py-2 px-4 rounded-xl text-sm font-medium transition-all hover:scale-105",style:{background:o==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"#2B82FF",color:o==="dark"?"#1A1A1A":"#FFFFFF",border:o==="dark"?"1px solid rgba(255, 255, 255, 0.2)":"1px solid #2B82FF",boxShadow:o==="dark"?"0 4px 15px rgba(255, 255, 255, 0.2)":"0 2px 8px rgba(0, 0, 0, 0.06)"},children:"Изменить"})]}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:t.jsxs("div",{className:"p-6 space-y-3",children:[T.map((C,L)=>t.jsx("div",{className:"p-4 rounded-2xl border transition-all hover:scale-[1.01] cursor-pointer",style:{background:o==="dark"?"rgba(43, 130, 255, 0.1)":"rgba(43, 130, 255, 0.05)",borderColor:o==="dark"?"rgba(43, 130, 255, 0.2)":"rgba(43, 130, 255, 0.15)"},onClick:()=>j(C.id),children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium",style:{background:o==="dark"?"rgba(43, 130, 255, 0.2)":"rgba(43, 130, 255, 0.15)",color:"#2B82FF"},children:L+1}),t.jsxs(Vd,{className:"w-8 h-8",children:[t.jsx(Ud,{src:C.avatar}),t.jsx(Wd,{className:"text-sm font-medium",style:{background:o==="dark"?"#2A3340":"#E6E9EF",color:o==="dark"?"#E8ECF2":"#0F172A"},children:C.name.charAt(0)})]}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",style:{color:o==="dark"?"#E8ECF2":"#0F172A"},children:C.name}),t.jsx("div",{className:"text-sm",style:{color:o==="dark"?"#A7B0BD":"#6B7280"},children:C.team})]})]}),t.jsxs("div",{className:"text-sm font-medium",style:{color:"#2B82FF"},children:[p==="level"&&`Ур.${C.level}`,p==="achievements"&&`${C.achievements}★`,p==="balance"&&C.balance]})]})},C.id)),T.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-4xl mb-4",style:{color:o==="dark"?"#A7B0BD":"#6B7280"},children:"🏆"}),t.jsx("p",{className:"text-sm",style:{color:o==="dark"?"#A7B0BD":"#6B7280"},children:"Рейтинг пуст"}),t.jsx("p",{className:"text-xs mt-1",style:{color:o==="dark"?"#6B7280":"#9CA3AF"},children:"Участники появятся здесь"})]})]})})]})})]})}function es({onNavigate:n,currentPage:s,theme:o="light"}){const[i,d]=b.useState(!1);b.useEffect(()=>{d(!0)},[]);const u=[{icon:Xr,page:"home"},{icon:st,page:"achievements"},{icon:Wn,page:"tasks"},{icon:_i,page:"cases"},{icon:id,page:"shop"}],l=t.jsx("div",{style:{position:"fixed",bottom:"24px",left:"50%",transform:"translateX(-50%)",zIndex:50,isolation:"isolate"},children:t.jsx("div",{className:"flex items-center gap-2",style:{backgroundColor:o==="dark"?"#12151B":"#F3F5F8",borderRadius:"24px",padding:"8px"},children:u.map((p,m)=>{const g=p.icon,x=s===p.page;return t.jsxs("button",{onClick:()=>n(p.page),className:"relative flex items-center justify-center transition-all duration-200",style:{minWidth:"44px",minHeight:"44px",borderRadius:"50%"},children:[x&&t.jsx("div",{className:"absolute rounded-full",style:{width:"36px",height:"36px",backgroundColor:o==="dark"?"rgba(43, 130, 255, 0.12)":"rgba(43, 130, 255, 0.10)"}}),t.jsx(g,{className:"relative z-10 transition-colors duration-200",style:{width:"26px",height:"26px",color:x?"#2B82FF":o==="dark"?"#A7B0BD":"#6B7280"}})]},m)})})});return i?Od.createPortal(l,document.body):null}function uw({isOpen:n,onClose:s,battles:o,invitations:i,onAcceptInvitation:d,onDeclineInvitation:u,theme:l="light"}){const[p,m]=b.useState("current"),g=o.filter(v=>v.status==="active"),x=o.filter(v=>v.status==="completed"),y=i.filter(v=>v.status==="pending");return t.jsx(Ke,{open:n,onOpenChange:s,children:t.jsxs(Ge,{className:"w-[90vw] max-w-md max-h-[80vh] overflow-hidden rounded-3xl p-0 [&>button]:hidden flex flex-col",style:{background:l==="dark"?"linear-gradient(145deg, rgba(8, 10, 14, 0.98) 0%, rgba(16, 20, 28, 0.98) 100%)":"linear-gradient(145deg, rgba(255, 255, 255, 0.98) 0%, rgba(248, 250, 252, 0.98) 100%)",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid rgba(0, 0, 0, 0.1)",boxShadow:l==="dark"?"0 16px 48px rgba(0, 0, 0, 0.8)":"0 16px 48px rgba(0, 0, 0, 0.15)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},children:[t.jsx(qe,{className:"sr-only",children:"Все активные баттлы и приглашения"}),t.jsx(Xe,{className:"sr-only",children:"Просмотр всех активных баттлов, приглашений на баттл, истории завершенных баттлов и возможность принять или отклонить входящие вызовы"}),t.jsxs("div",{className:"flex items-center justify-between p-6 border-b shrink-0",style:{borderColor:l==="dark"?"rgba(255, 255, 255, 0.06)":"rgba(0, 0, 0, 0.1)"},children:[t.jsx("h2",{className:"text-lg font-medium",style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:"Баттлы"}),t.jsx("button",{onClick:s,className:"w-8 h-8 rounded-full flex items-center justify-center transition-all hover:scale-105",style:{background:l==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"#FFFFFF",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.2)":"1px solid #E6E9EF",boxShadow:l==="dark"?"0 4px 15px rgba(255, 255, 255, 0.2)":"0 2px 8px rgba(0, 0, 0, 0.06)"},children:t.jsx(it,{style:{width:"16px",height:"16px",color:l==="dark"?"#1A1A1A":"#6B7280"}})})]}),t.jsxs("div",{className:"flex p-3 gap-2 border-b shrink-0",style:{borderColor:l==="dark"?"rgba(255, 255, 255, 0.06)":"rgba(0, 0, 0, 0.1)"},children:[t.jsxs("button",{onClick:()=>m("current"),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium transition-all ${p==="current"?"tab-button":""}`,style:{background:p==="current"?l==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"#2B82FF":l==="dark"?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.03)",color:p==="current"?l==="dark"?"#1A1A1A":"#FFFFFF":l==="dark"?"#A7B0BD":"#6B7280",border:p==="current"?l==="dark"?"1px solid rgba(255, 255, 255, 0.2)":"1px solid #2B82FF":"1px solid transparent"},children:["Активные (",g.length+y.length,")"]}),t.jsxs("button",{onClick:()=>m("history"),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium transition-all ${p==="history"?"tab-button":""}`,style:{background:p==="history"?l==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"#2B82FF":l==="dark"?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.03)",color:p==="history"?l==="dark"?"#1A1A1A":"#FFFFFF":l==="dark"?"#A7B0BD":"#6B7280",border:p==="history"?l==="dark"?"1px solid rgba(255, 255, 255, 0.2)":"1px solid #2B82FF":"1px solid transparent"},children:["История (",x.length,")"]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto",children:[p==="current"&&t.jsxs("div",{className:"p-6 space-y-4",children:[y.length>0&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("h3",{className:"text-sm font-medium",style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:["Входящие приглашения (",y.length,")"]}),y.map(v=>t.jsxs("div",{className:"p-4 rounded-2xl border",style:{background:l==="dark"?"rgba(255, 159, 10, 0.1)":"rgba(255, 159, 10, 0.05)",borderColor:l==="dark"?"rgba(255, 159, 10, 0.2)":"rgba(255, 159, 10, 0.15)"},children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"px-3 py-1 bg-surface-2 rounded-full text-sm font-medium",style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:v.challengerName}),t.jsx("span",{className:"text-xs",style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:"вызывает вас"})]}),t.jsxs("div",{className:"text-sm font-medium",style:{color:"#FF9500"},children:[v.stake,"g"]})]}),t.jsxs("div",{className:"flex gap-2 mt-3",children:[t.jsx("button",{onClick:()=>d?.(v.id),className:"flex-1 py-2 px-3 rounded-xl text-sm font-medium text-white transition-all hover:scale-[0.98]",style:{background:"#34C759"},children:"Принять"}),t.jsx("button",{onClick:()=>u?.(v.id),className:"flex-1 py-2 px-3 rounded-xl text-sm font-medium transition-all hover:scale-[0.98]",style:{background:l==="dark"?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.05)",color:l==="dark"?"#E8ECF2":"#0F172A"},children:"Отклонить"})]})]},v.id))]}),g.length>0&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("h3",{className:"text-sm font-medium",style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:["Активные баттлы (",g.length,")"]}),g.map(v=>t.jsxs("div",{className:"p-4 rounded-2xl border",style:{background:l==="dark"?"rgba(43, 130, 255, 0.1)":"rgba(43, 130, 255, 0.05)",borderColor:l==="dark"?"rgba(43, 130, 255, 0.2)":"rgba(43, 130, 255, 0.15)"},children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"px-3 py-1 bg-surface-2 rounded-full text-sm font-medium",style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:v.challengerName}),t.jsx("span",{className:"text-xs",style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:"VS"}),t.jsx("span",{className:"px-3 py-1 bg-surface-2 rounded-full text-sm font-medium",style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:v.opponentName})]}),t.jsxs("div",{className:"text-sm font-medium",style:{color:"#2B82FF"},children:[v.stake,"g"]})]}),t.jsxs("div",{className:"text-xs mt-2",style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:["Начат: ",v.startedAt.toLocaleDateString("ru-RU")]})]},v.id))]}),g.length===0&&y.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-4xl mb-4",style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:"⚔️"}),t.jsx("p",{className:"text-sm",style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:"Нет активных баттлов"}),t.jsx("p",{className:"text-xs mt-1",style:{color:l==="dark"?"#6B7280":"#9CA3AF"},children:"Создайте вызов коллеге!"})]})]}),p==="history"&&t.jsx("div",{className:"p-6 space-y-4",children:x.length>0?t.jsx("div",{className:"space-y-3",children:x.map(v=>t.jsxs("div",{className:"p-4 rounded-2xl border",style:{background:l==="dark"?"rgba(52, 199, 89, 0.15)":"rgba(52, 199, 89, 0.08)",borderColor:l==="dark"?"rgba(52, 199, 89, 0.3)":"rgba(52, 199, 89, 0.2)"},children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium text-white",style:{background:v.winnerId===v.challengerId?"#30D158":"#FF453A"},children:v.challengerName}),t.jsx("span",{className:"text-xs",style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:"VS"}),t.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium text-white",style:{background:v.winnerId===v.opponentId?"#30D158":"#FF453A"},children:v.opponentName})]}),t.jsxs("div",{className:"text-sm font-medium",style:{color:"#30D158"},children:[v.stake,"g"]})]}),t.jsxs("div",{className:"flex items-center justify-between mt-3",children:[t.jsxs("div",{className:"text-xs",style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:["Завершен: ",v.completedAt?.toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"})||"Недавно"]}),t.jsxs("div",{className:"text-xs font-medium",style:{color:"#30D158"},children:["Победитель: ",v.winnerName||(v.winnerId===v.challengerId?v.challengerName:v.opponentName)]})]})]},v.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-4xl mb-4",style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:"📖"}),t.jsx("p",{className:"text-sm",style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:"История пуста"}),t.jsx("p",{className:"text-xs mt-1",style:{color:l==="dark"?"#6B7280":"#9CA3AF"},children:"Завершённые баттлы появятся здесь"})]})})]})]})})}function fw({isOpen:n,onClose:s,users:o,currentUserId:i,onCreateInvitation:d,theme:u="light"}){const[l,p]=b.useState(null),[m,g]=b.useState(""),[x,y]=b.useState(""),v=o.filter(N=>N.id!==i&&N.name.toLowerCase().includes(x.toLowerCase())),F=()=>{if(!l||!m.trim())return;const N=parseInt(m);if(isNaN(N)||N<=0)return;const S=o.find(D=>D.id===i)?.name||"Неизвестный пользователь";d({challengerId:i,challengerName:S,opponentId:l.id,opponentName:l.name,stake:N,message:`${S} вызывает вас на баттл на ${N} коинов!`}),p(null),g(""),y(""),s()};return t.jsx(Ke,{open:n,onOpenChange:s,children:t.jsxs(Ge,{className:"w-[90vw] max-w-md max-h-[80vh] overflow-hidden rounded-3xl p-0 [&>button]:hidden",style:{background:u==="dark"?"linear-gradient(145deg, rgba(8, 10, 14, 0.98) 0%, rgba(16, 20, 28, 0.98) 100%)":"linear-gradient(145deg, rgba(255, 255, 255, 0.98) 0%, rgba(248, 250, 252, 0.98) 100%)",border:u==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid rgba(0, 0, 0, 0.1)",boxShadow:u==="dark"?"0 16px 48px rgba(0, 0, 0, 0.8)":"0 16px 48px rgba(0, 0, 0, 0.15)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},children:[t.jsx(qe,{className:"sr-only",children:"Создать вызов на баттл"}),t.jsx(Xe,{className:"sr-only",children:"Выберите соперника для баттла, установите ставку и отправьте приглашение на соревнование"}),t.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:u==="dark"?"rgba(255, 255, 255, 0.06)":"rgba(0, 0, 0, 0.1)"},children:[t.jsx("h2",{className:"text-lg font-medium",style:{color:u==="dark"?"#E8ECF2":"#0F172A"},children:"Создать вызов"}),t.jsx("button",{onClick:s,className:"w-8 h-8 rounded-full flex items-center justify-center transition-all hover:scale-105",style:{background:u==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"#FFFFFF",border:u==="dark"?"1px solid rgba(255, 255, 255, 0.2)":"1px solid #E6E9EF",boxShadow:u==="dark"?"0 4px 15px rgba(255, 255, 255, 0.2)":"0 2px 8px rgba(0, 0, 0, 0.06)"},children:t.jsx(it,{style:{width:"16px",height:"16px",color:u==="dark"?"#1A1A1A":"#6B7280"}})})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",style:{color:u==="dark"?"#E8ECF2":"#0F172A"},children:"Выберите соперника"}),t.jsxs("div",{className:"relative",children:[t.jsx(e2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4",style:{color:u==="dark"?"#A7B0BD":"#6B7280"}}),t.jsx("input",{type:"text",placeholder:"Поиск по имени...",value:x,onChange:N=>y(N.target.value),className:"w-full pl-10 pr-4 py-3 rounded-2xl border text-sm",style:{background:u==="dark"?"rgba(255, 255, 255, 0.05)":"#FFFFFF",borderColor:u==="dark"?"rgba(255, 255, 255, 0.1)":"#E6E9EF",color:u==="dark"?"#E8ECF2":"#0F172A"}})]})]}),t.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[v.map(N=>t.jsx("button",{onClick:()=>p(N),className:`w-full p-3 rounded-2xl border text-left transition-all hover:scale-[0.98] ${l?.id===N.id?"ring-2":""}`,style:{background:l?.id===N.id?u==="dark"?"rgba(43, 130, 255, 0.15)":"rgba(43, 130, 255, 0.1)":u==="dark"?"rgba(255, 255, 255, 0.05)":"#FFFFFF",borderColor:l?.id===N.id?"#2B82FF":u==="dark"?"rgba(255, 255, 255, 0.1)":"#E6E9EF",ringColor:"#2B82FF"},children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs font-medium",style:{background:"linear-gradient(135deg, #2B82FF 0%, #1E40AF 100%)",color:"#FFFFFF"},children:N.name.charAt(0)}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium",style:{color:u==="dark"?"#E8ECF2":"#0F172A"},children:N.name}),t.jsxs("div",{className:"text-xs",style:{color:u==="dark"?"#A7B0BD":"#6B7280"},children:["Уровень ",N.level," • Рейтинг ",N.rating]})]})]}),N.isOnline&&t.jsx("div",{className:"w-2 h-2 rounded-full",style:{background:"#34C759"}})]})},N.id)),v.length===0&&t.jsx("div",{className:"text-center py-8 text-sm",style:{color:u==="dark"?"#A7B0BD":"#6B7280"},children:x?"Пользователи не найдены":"Нет доступных пользователей"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",style:{color:u==="dark"?"#E8ECF2":"#0F172A"},children:"Ставка (коины)"}),t.jsx("input",{type:"number",placeholder:"500",value:m,onChange:N=>g(N.target.value),min:"1",className:"w-full px-4 py-3 rounded-2xl border text-sm",style:{background:u==="dark"?"rgba(255, 255, 255, 0.05)":"#FFFFFF",borderColor:u==="dark"?"rgba(255, 255, 255, 0.1)":"#E6E9EF",color:u==="dark"?"#E8ECF2":"#0F172A"}})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{onClick:s,className:"flex-1 py-3 px-4 rounded-2xl text-sm font-medium transition-all hover:scale-[0.98]",style:{background:u==="dark"?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.05)",color:u==="dark"?"#E8ECF2":"#0F172A"},children:"Отменить"}),t.jsx("button",{onClick:F,disabled:!l||!m.trim()||parseInt(m)<=0,className:"flex-1 py-3 px-4 rounded-2xl text-sm font-medium text-white transition-all hover:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",style:{background:l&&m.trim()&&parseInt(m)>0?"#2B82FF":"#9CA3AF"},children:"Вызвать на баттл"})]})]})]})})}function pw({onNavigate:n,currentPage:s,onOpenSettings:o,achievements:i,profilePhoto:d,personalBattles:u,setPersonalBattles:l,theme:p="light",notifications:m=[],onMarkNotificationAsRead:g,onMarkAllNotificationsAsRead:x,onRemoveNotification:y,onClearAllNotifications:v,addNotification:F,battles:N=[],battleInvitations:j=[],users:S=[],leaderboard:D=[],onCreateBattleInvitation:T,onAcceptBattleInvitation:C,onDeclineBattleInvitation:L,onCompleteBattle:B,currentUser:G}){const $={id:G?.id||"placeholder",name:G?.name||"Пользователь",username:"@user",level:G?.level||0,experience:0,maxExperience:100,balance:G?.balance||0},[_,ee]=b.useState(!1),[H,le]=b.useState(!1);return t.jsxs("div",{className:`min-h-screen ${p==="dark"?"dark":""}`,style:{background:p==="dark"?"radial-gradient(circle at center, #12151B 0%, #0B0D10 100%)":"linear-gradient(135deg, #F5F7FA 0%, #FFFFFF 100%)",color:p==="dark"?"#E8ECF2":"#0F172A"},children:[t.jsx(Jr,{onNavigate:n,currentPage:s,onOpenSettings:o,user:$,profilePhoto:d,theme:p,notifications:m,onMarkNotificationAsRead:g,onMarkAllNotificationsAsRead:x,onRemoveNotification:y,onClearAllNotifications:v}),t.jsx(Db,{theme:p}),t.jsx("div",{className:"max-w-md mx-auto px-4 pb-32",style:{marginTop:"0px"},children:t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[t.jsx(aw,{achievements:i,theme:p}),t.jsx(fg,{level:G.level,experience:G.experience,maxExperience:G.maxExperience,theme:p}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(cw,{battles:N,invitations:j,onShowAllBattles:()=>ee(!0),onCreateBattle:()=>le(!0),theme:p}),t.jsx(dw,{leaderboard:D,onNavigate:n,theme:p})]}),t.jsx(iw,{achievements:i,theme:p})]})}),t.jsx(es,{onNavigate:n,currentPage:s,theme:p}),t.jsx(uw,{isOpen:_,onClose:()=>ee(!1),battles:N,invitations:j,onAcceptInvitation:C,onDeclineInvitation:L,theme:p}),t.jsx(fw,{isOpen:H,onClose:()=>le(!1),users:S,currentUserId:"current-user",onCreateInvitation:ye=>{T&&T(ye),le(!1)},theme:p})]})}class As{static instance;webApp=null;isInitialized=!1;constructor(){this.init()}static getInstance(){return As.instance||(As.instance=new As),As.instance}init(){typeof window<"u"&&window.Telegram?.WebApp?(this.webApp=window.Telegram.WebApp,this.webApp.ready(),this.webApp.expand(),this.isInitialized=!0,console.log("Telegram Web App initialized:",{version:this.webApp.version,platform:this.webApp.platform,colorScheme:this.webApp.colorScheme,user:this.webApp.initDataUnsafe?.user}),this.setupTheme()):console.log("Telegram Web App not available - running in browser mode")}setupTheme(){if(!this.webApp)return;const s=this.webApp.colorScheme==="dark";document.documentElement.classList.toggle("dark",s);const o=this.webApp.themeParams;o.bg_color&&document.documentElement.style.setProperty("--tg-bg-color",o.bg_color),o.text_color&&document.documentElement.style.setProperty("--tg-text-color",o.text_color)}isAvailable(){return this.isInitialized&&this.webApp!==null}getUser(){return this.webApp&&this.webApp.initDataUnsafe?.user||null}getInitData(){return this.webApp&&this.webApp.initData||""}getColorScheme(){return this.webApp?this.webApp.colorScheme:"dark"}showMainButton(s,o){this.webApp&&(this.webApp.MainButton.setText(s),this.webApp.MainButton.onClick(o),this.webApp.MainButton.show())}hideMainButton(){this.webApp&&this.webApp.MainButton.hide()}showBackButton(s){this.webApp&&(this.webApp.BackButton.onClick(s),this.webApp.BackButton.show())}hideBackButton(){this.webApp&&this.webApp.BackButton.hide()}impactFeedback(s="medium"){this.webApp&&this.webApp.HapticFeedback.impactOccurred(s)}notificationFeedback(s){this.webApp&&this.webApp.HapticFeedback.notificationOccurred(s)}selectionFeedback(){this.webApp&&this.webApp.HapticFeedback.selectionChanged()}showAlert(s){return new Promise(o=>{if(!this.webApp){alert(s),o();return}this.webApp.showAlert(s,()=>o())})}showConfirm(s){return new Promise(o=>{if(!this.webApp){o(confirm(s));return}this.webApp.showConfirm(s,i=>o(i))})}sendData(s){this.webApp&&this.webApp.sendData(JSON.stringify(s))}close(){this.webApp&&this.webApp.close()}isMobile(){return this.webApp?["android","ios"].includes(this.webApp.platform):/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)}getPlatform(){return this.webApp?this.webApp.platform:"web"}getViewportHeight(){return this.webApp?this.webApp.viewportHeight:window.innerHeight}getStableViewportHeight(){return this.webApp?this.webApp.viewportStableHeight:window.innerHeight}}const mw=()=>{const n=As.getInstance();return{webApp:n.isAvailable()?n:null,user:n.getUser(),colorScheme:n.getColorScheme(),isAvailable:n.isAvailable(),showMainButton:n.showMainButton.bind(n),hideMainButton:n.hideMainButton.bind(n),showBackButton:n.showBackButton.bind(n),hideBackButton:n.hideBackButton.bind(n),impactFeedback:n.impactFeedback.bind(n),notificationFeedback:n.notificationFeedback.bind(n),selectionFeedback:n.selectionFeedback.bind(n),showAlert:n.showAlert.bind(n),showConfirm:n.showConfirm.bind(n),sendData:n.sendData.bind(n),close:n.close.bind(n),isMobile:n.isMobile(),platform:n.getPlatform(),viewportHeight:n.getViewportHeight(),stableViewportHeight:n.getStableViewportHeight(),initData:n.getInitData()}};function hw({isVisible:n,onClick:s,theme:o="light"}){return n?t.jsx("div",{className:"fixed inset-0 z-40",style:{background:o==="light"?"rgba(0, 0, 0, 0.35)":"rgba(0, 0, 0, 0.45)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},onClick:s||(()=>{})}):null}function pt({isOpen:n,onClose:s,title:o,children:i,actions:d,theme:u="light",size:l="auto"}){return b.useEffect(()=>{if(!n)return;const p=m=>{m.key==="Escape"&&s&&s()};return document.addEventListener("keydown",p),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",p),document.body.style.overflow="unset"}},[n,s]),n?t.jsxs(t.Fragment,{children:[t.jsx(hw,{isVisible:n,onClick:s,theme:u}),t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:s||(()=>{}),children:t.jsxs("div",{className:"relative w-full max-w-[90%]",onClick:p=>p.stopPropagation(),style:{backgroundColor:u==="light"?"#FFFFFF":"#161A22",opacity:"1",borderRadius:"16px",border:`1px solid ${u==="light"?"#E6E9EF":"rgba(255, 255, 255, 0.06)"}`,boxShadow:u==="light"?"0 16px 48px rgba(0, 0, 0, 0.25)":"0 16px 48px rgba(0, 0, 0, 0.6)",padding:"16px",minWidth:"280px",maxHeight:"80vh",overflow:"hidden",backdropFilter:"none",WebkitBackdropFilter:"none"},children:[o&&t.jsxs("div",{className:"flex items-center justify-between",style:{marginBottom:"12px"},children:[t.jsx("h3",{className:"font-medium flex-1 text-center",style:{color:u==="light"?"#0F172A":"#E8ECF2",fontSize:"18px",lineHeight:"24px"},children:o}),s&&t.jsx("button",{onClick:s,className:"w-8 h-8 rounded-full flex items-center justify-center transition-all hover:scale-105 ml-2",style:{background:u==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"#FFFFFF",border:u==="dark"?"1px solid rgba(255, 255, 255, 0.2)":"1px solid #E6E9EF",boxShadow:u==="dark"?"0 4px 15px rgba(255, 255, 255, 0.2)":"0 2px 8px rgba(0, 0, 0, 0.06)"},children:t.jsx(it,{style:{width:"16px",height:"16px",color:u==="dark"?"#1A1A1A":"#6B7280"}})})]}),t.jsx("div",{style:{marginBottom:d?"12px":"0",maxHeight:o?"calc(80vh - 100px)":"calc(80vh - 60px)",overflow:"auto"},children:i}),d&&t.jsx("div",{className:"flex justify-end gap-3",children:d})]})})]}):null}const xw={shop_empty:{text:"Товары скоро появятся"},tasks_empty:{text:"Нет активных задач"},achievements_empty:{text:"Нет доступных достижений"}};function pg({variant:n,icon:s,className:o="",theme:i="light"}){const d=xw[n];return t.jsxs("div",{className:`flex flex-col items-center justify-center gap-2 ${o}`,style:{backgroundColor:i==="dark"?"#161A22":"#FFFFFF",borderRadius:"16px",minHeight:"96px",padding:"16px",border:i==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF",boxShadow:i==="dark"?"0 8px 24px rgba(0, 0, 0, 0.6)":"0 8px 24px rgba(0, 0, 0, 0.10)"},children:[s&&t.jsx("div",{className:"w-5 h-5 flex items-center justify-center",children:s}),t.jsx("p",{className:"text-center leading-tight",style:{fontSize:"14px",color:i==="dark"?"#A7B0BD":"#6B7280"},children:d.text})]})}function mg({leftIcon:n,title:s,rightButton:o,children:i,className:d="",theme:u="light"}){return t.jsxs("div",{className:`${d}`,style:{backgroundColor:u==="dark"?"#161A22":"#FFFFFF",borderRadius:"16px",padding:"16px",border:u==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF",boxShadow:u==="dark"?"0 8px 24px rgba(0, 0, 0, 0.6)":"0 8px 24px rgba(0, 0, 0, 0.10)"},children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:n||t.jsx("div",{})}),t.jsx("h2",{className:"text-lg font-medium flex-1 text-center",style:{color:u==="dark"?"#E8ECF2":"#0F172A"},children:s}),t.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:o||t.jsx("div",{})})]}),t.jsx("div",{className:"space-y-3",children:i})]})}function gw({onNavigate:n,currentPage:s,onOpenSettings:o,achievements:i,setAchievements:d,profilePhoto:u,theme:l="light"}){const p={id:"user1",name:"Иван Иванов",username:"@iivanov"},[m,g]=b.useState(!1),[x,y]=b.useState(null),[v,F]=b.useState(!1),[N,j]=b.useState("progress_desc"),[S,D]=b.useState(!1),T=$=>{j($),g(!1)},C=[...i].sort(($,_)=>{switch(N){case"alphabet":return $.title.localeCompare(_.title);case"progress_asc":const ee=$.requirements.current/$.requirements.target*100,H=_.requirements.current/_.requirements.target*100;return ee-H;case"progress_desc":const le=$.requirements.current/$.requirements.target*100,ye=_.requirements.current/_.requirements.target*100;return le>0&&ye===0?-1:le===0&&ye>0?1:ye-le;default:return 0}}),L=$=>{y($),F(!0)},B=()=>{x&&(d($=>$.map(_=>_.id===x.id?{..._,userFile:"user_file.pdf"}:_)),y($=>$?{...$,userFile:"user_file.pdf"}:null)),D(!1)},G=($,_)=>Math.round($/_*100);return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"min-h-screen",style:{background:l==="dark"?"radial-gradient(circle at center, #12151B 0%, #0B0D10 100%)":"linear-gradient(135deg, #F5F7FA 0%, #FFFFFF 100%)",color:l==="dark"?"#E8ECF2":"#0F172A"},children:[t.jsx(Jr,{onNavigate:n,currentPage:s,onOpenSettings:o,user:p,profilePhoto:u,theme:l}),t.jsx("div",{className:"max-w-md mx-auto px-4 pb-32",children:t.jsx(mg,{title:"Доступные достижения",theme:l,rightButton:t.jsx("button",{onClick:()=>g(!0),className:"apple-button transition-all hover:scale-105",style:{width:"28px",height:"28px",minWidth:"28px",minHeight:"28px",display:"flex",alignItems:"center",justifyContent:"center",background:l==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"#FFFFFF",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.2)":"1px solid #E6E9EF",boxShadow:l==="dark"?"0 4px 15px rgba(255, 255, 255, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.06)"},children:t.jsx(vr,{style:{width:"16px",height:"16px",color:l==="dark"?"#1A1A1A":"#6B7280"}})}),children:C.length>0?t.jsx("div",{className:"space-y-3",children:C.map($=>t.jsxs("div",{onClick:()=>L($),className:`surface-card transition-all hover:scale-[0.98] cursor-pointer flex items-center gap-4 ${$.requirements.current===0?"opacity-50 grayscale":""}`,style:{backgroundColor:l==="dark"?"#161A22":"#FFFFFF",borderRadius:"16px",padding:"16px",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF",boxShadow:l==="dark"?"0 8px 24px rgba(0, 0, 0, 0.6)":"0 8px 24px rgba(0, 0, 0, 0.10)"},children:[t.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl",style:{backgroundColor:"rgba(43, 130, 255, 0.10)"},children:t.jsx(st,{style:{width:"20px",height:"20px",color:"#2B82FF"}})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium text-sm mb-1",style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:$.title}),t.jsx("div",{className:"text-xs mb-2",style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:$.description})]}),t.jsx("div",{className:"text-right",children:t.jsxs("div",{className:"text-sm font-medium",style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:[G($.requirements.current,$.requirements.target),"%"]})})]},$.id))}):t.jsx(pg,{variant:"achievements_empty",theme:l})})}),t.jsx(es,{onNavigate:n,currentPage:s,theme:l})]}),t.jsx(pt,{isOpen:m,onClose:()=>g(!1),title:"Сортировка",theme:l,children:t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:()=>T("alphabet"),className:"w-full transition-all hover:scale-[0.98] text-center",style:{padding:"12px 16px",borderRadius:"12px",background:N==="alphabet"?l==="dark"?"rgba(43, 130, 255, 0.12)":"rgba(43, 130, 255, 0.10)":l==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"#F3F5F8",border:N==="alphabet"?"1px solid rgba(43, 130, 255, 0.20)":l==="dark"?"1px solid rgba(255, 255, 255, 0.2)":"1px solid #E6E9EF",color:N==="alphabet"?"#2B82FF":l==="dark"?"#1A1A1A":"#0F172A",fontSize:"14px",fontWeight:"700",boxShadow:N!=="alphabet"&&l==="dark"?"0 4px 15px rgba(255, 255, 255, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.3)":"none"},children:"По алфавиту"}),t.jsx("button",{onClick:()=>T("progress_asc"),className:"w-full transition-all hover:scale-[0.98] text-center",style:{padding:"12px 16px",borderRadius:"12px",background:N==="progress_asc"?l==="dark"?"rgba(43, 130, 255, 0.12)":"rgba(43, 130, 255, 0.10)":l==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"#F3F5F8",border:N==="progress_asc"?"1px solid rgba(43, 130, 255, 0.20)":l==="dark"?"1px solid rgba(255, 255, 255, 0.2)":"1px solid #E6E9EF",color:N==="progress_asc"?"#2B82FF":l==="dark"?"#1A1A1A":"#0F172A",fontSize:"14px",fontWeight:"700",boxShadow:N!=="progress_asc"&&l==="dark"?"0 4px 15px rgba(255, 255, 255, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.3)":"none"},children:"По проценту (от наименьшего)"}),t.jsx("button",{onClick:()=>T("progress_desc"),className:"w-full transition-all hover:scale-[0.98] text-center",style:{padding:"12px 16px",borderRadius:"12px",background:N==="progress_desc"?l==="dark"?"rgba(43, 130, 255, 0.12)":"rgba(43, 130, 255, 0.10)":l==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"#F3F5F8",border:N==="progress_desc"?"1px solid rgba(43, 130, 255, 0.20)":l==="dark"?"1px solid rgba(255, 255, 255, 0.2)":"1px solid #E6E9EF",color:N==="progress_desc"?"#2B82FF":l==="dark"?"#1A1A1A":"#0F172A",fontSize:"14px",fontWeight:"700",boxShadow:N!=="progress_desc"&&l==="dark"?"0 4px 15px rgba(255, 255, 255, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.3)":"none"},children:"По проценту (от наибольшего)"})]})}),t.jsx(pt,{isOpen:v,onClose:()=>F(!1),title:"Условия выполнения достижения",theme:l,actions:t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{onClick:()=>F(!1),className:"flex-1 transition-colors text-center flex items-center justify-center",style:{height:"50px",borderRadius:"12px",background:l==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"#F3F5F8",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.2)":"1px solid #E6E9EF",color:l==="dark"?"#1A1A1A":"#0F172A",boxShadow:l==="dark"?"0 4px 15px rgba(255, 255, 255, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.3)":"none",fontSize:"13px",fontWeight:"600",padding:"0 20px"},children:"Отменить"}),t.jsx("button",{className:"flex-1 transition-colors text-center flex items-center justify-center",style:{height:"50px",borderRadius:"12px",background:l==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"#2B82FF",color:l==="dark"?"#1A1A1A":"#ffffff",border:"none",boxShadow:l==="dark"?"0 4px 15px rgba(255, 255, 255, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.3)":"none",fontSize:"13px",fontWeight:"600",padding:"0 20px"},children:"Применить"})]}),children:x&&t.jsxs("div",{style:{maxHeight:"60vh",overflowY:"auto"},children:[t.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[t.jsx("div",{className:"flex items-center justify-center",style:{width:"64px",height:"64px",backgroundColor:l==="dark"?"rgba(167, 176, 189, 0.3)":"rgba(107, 114, 128, 0.3)",borderRadius:"16px"},children:t.jsx(st,{style:{width:"32px",height:"32px",color:l==="dark"?"#A7B0BD":"#6B7280"}})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium mb-1",style:{fontSize:"14px",color:l==="dark"?"#E8ECF2":"#0F172A"},children:x.title}),t.jsx("div",{style:{fontSize:"12px",color:l==="dark"?"#A7B0BD":"#6B7280"},children:x.description})]})]}),t.jsxs("div",{className:"rounded-xl p-4 mb-4",style:{backgroundColor:l==="dark"?"#1C2029":"#F3F5F8",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF"},children:[t.jsx("div",{className:"font-medium mb-3",style:{fontSize:"14px",color:l==="dark"?"#E8ECF2":"#0F172A"},children:"Краткое описание достижения"}),t.jsx("div",{className:"space-y-2",children:x.conditions?.length?x.conditions.map(($,_)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"rounded-full",style:{width:"4px",height:"4px",backgroundColor:l==="dark"?"#A7B0BD":"#6B7280"}}),t.jsx("span",{style:{fontSize:"14px",color:l==="dark"?"#E8ECF2":"#0F172A"},children:$})]}),t.jsx("button",{onClick:()=>D(!0),className:"p-2 rounded-lg transition-colors",style:{backgroundColor:x.userFile?l==="dark"?"#A7B0BD":"#6B7280":"transparent"},children:t.jsx(Yt,{style:{width:"16px",height:"16px",color:l==="dark"?"#A7B0BD":"#6B7280"}})})]},_)):t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"rounded-full",style:{width:"4px",height:"4px",backgroundColor:l==="dark"?"#A7B0BD":"#6B7280"}}),t.jsxs("span",{style:{fontSize:"14px",color:l==="dark"?"#E8ECF2":"#0F172A"},children:[x.requirements.type,": ",x.requirements.current,"/",x.requirements.target]})]})})]}),t.jsxs("div",{className:`rounded-xl p-4 ${x.adminComment?"":"opacity-50"}`,style:{backgroundColor:l==="dark"?"#1C2029":"#F3F5F8",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF"},children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("div",{className:"font-medium",style:{fontSize:"14px",color:l==="dark"?"#E8ECF2":"#0F172A"},children:"Комментарий от Админа"}),x.adminFile&&t.jsx("button",{className:"p-2 rounded-lg transition-colors",style:{backgroundColor:"transparent"},children:t.jsx(Yt,{style:{width:"16px",height:"16px",color:l==="dark"?"#A7B0BD":"#6B7280"}})})]}),t.jsx("div",{style:{fontSize:"14px",color:l==="dark"?"#A7B0BD":"#6B7280"},children:x.adminComment||"Комментарий не добавлен"})]})]})}),t.jsx(pt,{isOpen:S,onClose:()=>D(!1),title:"Прикрепить файл",theme:l,actions:t.jsx("button",{onClick:()=>D(!1),className:"w-full transition-colors text-center",style:{height:"44px",borderRadius:"12px",background:l==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"#F3F5F8",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.2)":"1px solid #E6E9EF",color:l==="dark"?"#1A1A1A":"#0F172A",boxShadow:l==="dark"?"0 4px 15px rgba(255, 255, 255, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.3)":"none"},children:"Отменить"}),children:t.jsxs("div",{className:"rounded-xl p-6 text-center",style:{backgroundColor:l==="dark"?"#1C2029":"#F3F5F8",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF"},children:[t.jsx("div",{className:"mx-auto mb-4 flex items-center justify-center",style:{width:"48px",height:"48px",backgroundColor:"rgba(43, 130, 255, 0.20)",borderRadius:"12px"},children:t.jsx(Yt,{style:{width:"24px",height:"24px",color:"#2B82FF"}})}),t.jsx("p",{className:"mb-4",style:{fontSize:"14px",color:l==="dark"?"#A7B0BD":"#6B7280"},children:"Выберите файл для загрузки"}),t.jsx("input",{type:"file",id:"file-upload",className:"hidden",onChange:B,accept:"image/*,video/*,.pdf,.doc,.docx"}),t.jsx("label",{htmlFor:"file-upload",className:"w-full transition-colors cursor-pointer inline-block text-center",style:{padding:"12px",borderRadius:"12px",background:l==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"#F3F5F8",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.2)":"1px solid #E6E9EF",color:l==="dark"?"#1A1A1A":"#0F172A",fontSize:"14px",boxShadow:l==="dark"?"0 4px 15px rgba(255, 255, 255, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.3)":"none"},children:"Выбрать файл"})]})})]})}function vw({onNavigate:n,currentPage:s,onOpenSettings:o,profilePhoto:i,tasks:d,setTasks:u,theme:l="light"}){const p={id:"user1",name:"Иван Иванов",username:"@iivanov"},m=[{id:"t1",name:"Команда разработки",memberIds:["user1"]}],[g,x]=b.useState(!1),[y,v]=b.useState(null),[F,N]=b.useState(!1),[j,S]=b.useState("date"),[D,T]=b.useState(new Date),[C,L]=b.useState(!1),[B,G]=b.useState(null),[$,_]=b.useState(!1),[ee,H]=b.useState("date"),[le,ye]=b.useState(!1),Fe=se=>se.filter(we=>we.isPublished&&we.status==="active").map((we,ne)=>({id:parseInt(we.id),title:we.title,description:we.description,employee:p.name,team:m.find(Ie=>Ie.memberIds.includes(p.id))?.name||"Без команды",status:"in_progress",reward:{amount:we.reward,type:we.rewardType==="coins"?"coins":"experience"},startDate:we.createdAt||new Date().toLocaleDateString("ru-RU"),endDate:we.deadline||new Date(Date.now()+10080*60*1e3).toLocaleDateString("ru-RU"),subtasks:[{id:1,title:"Выполнить основную задачу",isRequired:!0,hasDocument:!1},{id:2,title:"Предоставить отчет о выполнении",isRequired:!1,hasDocument:!1}]})),[ke,xe]=b.useState(Fe(d)),O=se=>{switch(se){case"in_progress":return"В процессе";case"on_review":return"На проверке";case"completed":return"Выполнена";default:return"Неизвестно"}},Y=se=>{switch(se){case"in_progress":return"text-muted-foreground";case"on_review":return"text-yellow-600";case"completed":return"text-green-600";default:return"text-muted-foreground"}},R=se=>`${se.amount} ${se.type==="coins"?"g":"XP"}`,k=se=>se.subtasks.every(we=>!we.isRequired||we.hasDocument),I=se=>{S(se),x(!1)},E=[...ke].sort((se,we)=>{switch(j){case"date":return new Date(se.startDate.split(".").reverse().join("-")).getTime()-new Date(we.startDate.split(".").reverse().join("-")).getTime();case"reward_asc":return se.reward.amount-we.reward.amount;case"reward_desc":return we.reward.amount-se.reward.amount;case"time_asc":return new Date(se.endDate.split(".").reverse().join("-")).getTime()-new Date(we.endDate.split(".").reverse().join("-")).getTime();case"time_desc":return new Date(we.endDate.split(".").reverse().join("-")).getTime()-new Date(se.endDate.split(".").reverse().join("-")).getTime();default:return 0}}),V=se=>{v(se),N(!0)},K=se=>{const we=ke.find(ne=>ne.id===se);we&&je(we.endDate)&&console.log("Задача выполнена с опозданием, награда не будет начислена"),xe(ne=>ne.map(Ie=>Ie.id===se?{...Ie,status:"on_review"}:Ie)),N(!1)},de=(se,we)=>{xe(ne=>ne.map(Ie=>Ie.id===se?{...Ie,subtasks:Ie.subtasks.map(ze=>ze.id===we?{...ze,hasDocument:!ze.hasDocument}:ze)}:Ie)),y&&y.id===se&&v(ne=>ne?{...ne,subtasks:ne.subtasks.map(Ie=>Ie.id===we?{...Ie,hasDocument:!Ie.hasDocument}:Ie)}:null)};b.useEffect(()=>{const se=setInterval(()=>{T(new Date)},1e3);return()=>clearInterval(se)},[]);const ae=se=>{const we=new Date(se.split(".").reverse().join("-")),ne=D,Ie=we.getTime()-ne.getTime();if(Ie>0){const ze=Math.floor(Ie/864e5),Bt=Math.floor(Ie/(1e3*60*60)%24),yt=Math.floor(Ie/1e3/60%60),Ot=Math.floor(Ie/1e3%60);return ze>0?`${ze}д ${Bt}ч ${yt}м`:Bt>0?`${Bt}ч ${yt}м ${Ot}с`:`${yt}м ${Ot}с`}else return"Время истекло"},je=se=>{const we=new Date(se.split(".").reverse().join("-"));return D.getTime()>we.getTime()},Ne=()=>{_(!0)},Ae=se=>{H(se),ye(!1)},We=[...d.filter(se=>se.status==="completed").map((se,we)=>({id:parseInt(se.id),title:se.title,description:se.description,employee:p.name,team:m.find(ne=>ne.memberIds.includes(p.id))?.name||"Без команды",status:"completed",reward:{amount:se.reward,type:se.rewardType==="coins"?"coins":"experience"},startDate:se.createdAt||new Date().toLocaleDateString("ru-RU"),endDate:se.completedAt||se.createdAt||new Date().toLocaleDateString("ru-RU"),subtasks:[]}))].sort((se,we)=>{switch(ee){case"date":return new Date(we.endDate.split(".").reverse().join("-")).getTime()-new Date(se.endDate.split(".").reverse().join("-")).getTime();case"reward_asc":return se.reward.amount-we.reward.amount;case"reward_desc":return we.reward.amount-se.reward.amount;case"time_asc":return new Date(se.endDate.split(".").reverse().join("-")).getTime()-new Date(we.endDate.split(".").reverse().join("-")).getTime();case"time_desc":return new Date(we.endDate.split(".").reverse().join("-")).getTime()-new Date(se.endDate.split(".").reverse().join("-")).getTime();default:return 0}}),gt=(se,we)=>{G({taskId:se,subtaskId:we}),L(!0)},vt=()=>{B&&de(B.taskId,B.subtaskId),L(!1),G(null)};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"min-h-screen",style:{background:l==="dark"?"radial-gradient(circle at center, #12151B 0%, #0B0D10 100%)":"linear-gradient(135deg, #F5F7FA 0%, #FFFFFF 100%)",color:l==="dark"?"#E8ECF2":"#0F172A"},children:[t.jsx(Jr,{onNavigate:n,currentPage:s,onOpenSettings:o,user:p,profilePhoto:i,theme:l}),t.jsx("div",{className:"max-w-md mx-auto px-4 pb-32",children:t.jsx(mg,{theme:l,leftIcon:t.jsx("button",{onClick:Ne,className:"apple-button transition-all hover:scale-105",style:{width:"28px",height:"28px",minWidth:"28px",minHeight:"28px",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(Wr,{style:{width:"16px",height:"16px",color:"#000000"}})}),title:"Доступные задачи",rightButton:t.jsx("button",{onClick:()=>x(!0),className:"apple-button transition-all hover:scale-105",style:{width:"28px",height:"28px",minWidth:"28px",minHeight:"28px",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(vr,{style:{width:"16px",height:"16px",color:"#000000"}})}),className:"bg-[rgba(255,255,255,0)] text-[rgba(242,228,228,1)]",children:E.length>0?t.jsx("div",{className:"space-y-3",children:E.map(se=>t.jsx("div",{className:"surface-card transition-all hover:scale-[0.98] cursor-pointer",onClick:()=>V(se),style:{backgroundColor:l==="dark"?"#161A22":"#FFFFFF",borderRadius:"16px",padding:"16px",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF",boxShadow:l==="dark"?"0 8px 24px rgba(0, 0, 0, 0.6)":"0 8px 24px rgba(0, 0, 0, 0.10)"},children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium text-sm mb-2",style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:se.title}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:`text-xs ${Y(se.status)}`,children:["Статус: ",O(se.status)]}),t.jsxs("div",{className:"text-xs",style:{color:"#6B7280"},children:["Сотрудник: ",se.employee,", ",se.team]})]})]}),t.jsxs("div",{className:"flex flex-col gap-2 min-w-[100px]",children:[t.jsx("button",{onClick:we=>{we.stopPropagation(),V(se)},className:"px-4 py-2 text-sm font-medium transition-all hover:scale-[0.98] flex items-center justify-center text-center",style:{backgroundColor:"#FFFFFF",color:"#1A1A1A",borderRadius:"12px",height:"44px"},children:"Выполнить"}),t.jsxs("div",{className:"p-3 text-center",style:{backgroundColor:l==="dark"?"#1C2029":"#F3F5F8",borderRadius:"12px",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF"},children:[t.jsx("div",{className:"text-xs mb-1 font-medium",style:{color:"#6B7280"},children:"Время"}),t.jsx("div",{className:"text-xs font-semibold",style:{color:je(se.endDate)?"#ff3b30":l==="dark"?"#E8ECF2":"#0F172A"},children:ae(se.endDate)})]})]})]})},se.id))}):t.jsx(pg,{variant:"tasks_empty",theme:l})})}),t.jsx(es,{onNavigate:n,currentPage:s,theme:l})]}),t.jsx(Ke,{open:g,onOpenChange:x,children:t.jsxs(Ge,{className:"glass-card rounded-3xl border-2 border-border apple-shadow w-[90vw] max-w-sm p-6 [&>button]:hidden","aria-describedby":"tasks-sort-menu-description",children:[t.jsx(qe,{className:"text-lg font-medium text-foreground text-center mb-6",children:"Сортировка"}),t.jsx(Xe,{id:"tasks-sort-menu-description",className:"sr-only",children:"Выберите тип сортировки задач"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:()=>I("date"),className:`w-full glass-card rounded-2xl p-4 text-sm font-medium transition-all hover:scale-[0.98] ${j==="date"?"bg-primary/20 text-primary":"text-foreground"}`,children:"По дате"}),t.jsx("button",{onClick:()=>I("reward_asc"),className:`w-full glass-card rounded-2xl p-4 text-sm font-medium transition-all hover:scale-[0.98] ${j==="reward_asc"?"bg-primary/20 text-primary":"text-foreground"}`,children:"По награде (по возрастанию)"}),t.jsx("button",{onClick:()=>I("reward_desc"),className:`w-full glass-card rounded-2xl p-4 text-sm font-medium transition-all hover:scale-[0.98] ${j==="reward_desc"?"bg-primary/20 text-primary":"text-foreground"}`,children:"По награде (по убыванию)"}),t.jsx("button",{onClick:()=>I("time_asc"),className:`w-full glass-card rounded-2xl p-4 text-sm font-medium transition-all hover:scale-[0.98] ${j==="time_asc"?"bg-primary/20 text-primary":"text-foreground"}`,children:"По времени (по возрастанию)"}),t.jsx("button",{onClick:()=>I("time_desc"),className:`w-full glass-card rounded-2xl p-4 text-sm font-medium transition-all hover:scale-[0.98] ${j==="time_desc"?"bg-primary/20 text-primary":"text-foreground"}`,children:"По времени (по убыванию)"})]})]})}),t.jsx(Ke,{open:F,onOpenChange:N,children:t.jsx(Ge,{className:"glass-card rounded-3xl border-2 border-border apple-shadow w-[90vw] max-w-md p-0 max-h-[80vh] flex flex-col [&>button]:hidden","aria-describedby":"task-detail-description",children:t.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[t.jsx("div",{className:"flex items-center justify-center mb-6",children:t.jsx(qe,{className:"text-lg font-medium text-foreground text-center",children:y?.title})}),t.jsx(Xe,{id:"task-detail-description",className:"sr-only",children:"Детальная информация о задаче"}),y&&t.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4",children:[t.jsxs("div",{className:"glass-card rounded-2xl p-4",children:[t.jsx("div",{className:"text-sm font-medium text-foreground mb-2",children:"Описание задачи"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:y.description}),y.subtasks.length>0&&t.jsx("div",{className:"mt-4",children:t.jsx("div",{className:"space-y-2",children:y.subtasks.map(se=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-1 h-1 bg-muted-foreground rounded-full"}),t.jsx("span",{className:"text-sm text-foreground",children:se.title})]}),t.jsx("button",{onClick:()=>gt(y.id,se.id),className:`p-2 rounded-lg transition-colors ${se.hasDocument?"bg-green-500/20 text-green-600":"hover:bg-black/5 text-muted-foreground"}`,children:t.jsx(Yt,{className:"w-4 h-4"})})]},se.id))})})]}),t.jsx("div",{className:"glass-card rounded-2xl p-4",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"text-sm text-muted-foreground",children:[t.jsx("span",{className:"text-foreground font-medium",children:"Сотрудник:"})," ",y.employee,", ",y.team]}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[t.jsx("span",{className:"text-foreground font-medium",children:"Статус:"}),t.jsxs("span",{className:Y(y.status),children:[" ",O(y.status)]})]}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[t.jsx("span",{className:"text-foreground font-medium",children:"Награда:"})," ",R(y.reward)]}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[t.jsx("span",{className:"text-foreground font-medium",children:"Дата:"})," ",y.startDate," → ",y.endDate]})]})}),t.jsxs("div",{className:"glass-card rounded-2xl p-4",children:[t.jsx("div",{className:"text-sm font-medium text-foreground mb-2 text-center",children:"Время до завершения"}),t.jsx("div",{className:`text-center text-lg font-medium ${je(y.endDate)?"text-red-500":"text-foreground"}`,children:ae(y.endDate)}),je(y.endDate)&&t.jsx("div",{className:"text-xs text-red-500 text-center mt-1",children:"Награда не будет начислена"})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{onClick:()=>N(!1),className:"flex-1 glass-card rounded-2xl p-3 text-sm font-medium text-foreground hover:scale-[0.98] transition-transform text-center",children:"Отменить"}),t.jsx("button",{onClick:()=>K(y.id),disabled:y.status!=="in_progress"||!k(y),className:`flex-1 rounded-2xl p-3 text-sm font-medium transition-transform text-center ${y.status==="in_progress"&&k(y)?"bg-primary text-primary-foreground hover:scale-[0.98]":"bg-muted text-muted-foreground cursor-not-allowed"}`,children:"Выполнить"})]})]})]})})}),t.jsx(Ke,{open:C,onOpenChange:L,children:t.jsxs(Ge,{className:"glass-card rounded-3xl border-2 border-border apple-shadow w-[90vw] max-w-sm p-6 [&>button]:hidden","aria-describedby":"task-file-upload-description",children:[t.jsx(qe,{className:"text-lg font-medium text-foreground text-center mb-6",children:"Прикрепить файл"}),t.jsx(Xe,{id:"task-file-upload-description",className:"sr-only",children:"Выберите файл для прикрепления к подзадаче"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"glass-card rounded-2xl p-6 text-center",children:[t.jsx("div",{className:"w-12 h-12 mx-auto mb-4 bg-primary/20 rounded-xl flex items-center justify-center",children:t.jsx(Yt,{className:"w-6 h-6 text-primary"})}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Выберите файл дл�� загрузки"}),t.jsx("input",{type:"file",id:"file-upload",className:"hidden",onChange:vt,accept:"image/*,video/*,.pdf,.doc,.docx"}),t.jsx("label",{htmlFor:"file-upload",className:"w-full glass-card rounded-2xl p-3 text-sm font-medium text-foreground hover:scale-[0.98] transition-transform cursor-pointer inline-block",children:"Выбрать файл"})]}),t.jsx("div",{className:"flex gap-3",children:t.jsx("button",{onClick:()=>L(!1),className:"flex-1 glass-card rounded-2xl p-3 text-sm font-medium text-foreground hover:scale-[0.98] transition-transform text-center",children:"Отменить"})})]})]})}),t.jsx(Ke,{open:$,onOpenChange:_,children:t.jsx(Ge,{className:"glass-card rounded-3xl border-2 border-border apple-shadow w-[90vw] max-w-md p-0 max-h-[80vh] flex flex-col [&>button]:hidden","aria-describedby":"task-history-description",children:t.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("button",{onClick:()=>ye(!0),className:"p-2 hover:bg-black/5 rounded-lg transition-colors",children:t.jsx(vr,{className:"w-5 h-5 text-foreground/70"})}),t.jsx(qe,{className:"text-lg font-medium text-foreground",children:"История задач"}),t.jsx("div",{className:"w-9"})]}),t.jsx(Xe,{id:"task-history-description",className:"sr-only",children:"История выполненных задач"}),t.jsx("div",{className:"flex-1 overflow-y-auto space-y-3",children:We.length>0?We.map(se=>t.jsxs("div",{className:"glass-card rounded-2xl p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h3",{className:"font-medium text-foreground text-sm",children:se.title}),t.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Выполнена"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Завершена: ",se.endDate]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Награда: ",R(se.reward)]})]})]},se.id)):t.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:t.jsx("div",{className:"bg-muted/50 backdrop-blur-sm rounded-xl p-6 w-80 apple-shadow",children:t.jsx("p",{className:"text-muted-foreground text-sm text-center opacity-70",children:"История пуста"})})})}),t.jsx("div",{className:"pt-4",children:t.jsx("button",{onClick:()=>_(!1),className:"w-full glass-card rounded-2xl p-3 text-sm font-medium text-foreground hover:scale-[0.98] transition-transform text-center",children:"Закрыть"})})]})})}),t.jsx(Ke,{open:le,onOpenChange:ye,children:t.jsxs(Ge,{className:"glass-card rounded-3xl border-2 border-border apple-shadow w-[90vw] max-w-sm p-6 [&>button]:hidden","aria-describedby":"history-sort-menu-description",children:[t.jsx(qe,{className:"text-lg font-medium text-foreground text-center mb-6",children:"Сортировка истории"}),t.jsx(Xe,{id:"history-sort-menu-description",className:"sr-only",children:"Выберите тип сортировки истории задач"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:()=>Ae("date"),className:`w-full glass-card rounded-2xl p-4 text-sm font-medium transition-all hover:scale-[0.98] ${ee==="date"?"bg-primary/20 text-primary":"text-foreground"}`,children:"По дате"}),t.jsx("button",{onClick:()=>Ae("reward_asc"),className:`w-full glass-card rounded-2xl p-4 text-sm font-medium transition-all hover:scale-[0.98] ${ee==="reward_asc"?"bg-primary/20 text-primary":"text-foreground"}`,children:"По награде (по возрастанию)"}),t.jsx("button",{onClick:()=>Ae("reward_desc"),className:`w-full glass-card rounded-2xl p-4 text-sm font-medium transition-all hover:scale-[0.98] ${ee==="reward_desc"?"bg-primary/20 text-primary":"text-foreground"}`,children:"По награде (по убыванию)"})]})]})})]})}const hg=b.createContext({});function yw(n){const s=b.useRef(null);return s.current===null&&(s.current=n()),s.current}const qd=typeof window<"u",bw=qd?b.useLayoutEffect:b.useEffect,Xd=b.createContext(null);function Yd(n,s){n.indexOf(s)===-1&&n.push(s)}function Qd(n,s){const o=n.indexOf(s);o>-1&&n.splice(o,1)}const Hn=(n,s,o)=>o>s?s:o<n?n:o;let Zd=()=>{};const Gn={},xg=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function gg(n){return typeof n=="object"&&n!==null}const vg=n=>/^0[^.\s]+$/u.test(n);function Jd(n){let s;return()=>(s===void 0&&(s=n()),s)}const on=n=>n,jw=(n,s)=>o=>s(n(o)),Jo=(...n)=>n.reduce(jw),Go=(n,s,o)=>{const i=s-n;return i===0?1:(o-n)/i};class eu{constructor(){this.subscriptions=[]}add(s){return Yd(this.subscriptions,s),()=>Qd(this.subscriptions,s)}notify(s,o,i){const d=this.subscriptions.length;if(d)if(d===1)this.subscriptions[0](s,o,i);else for(let u=0;u<d;u++){const l=this.subscriptions[u];l&&l(s,o,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Cn=n=>n*1e3,Sn=n=>n/1e3;function yg(n,s){return s?n*(1e3/s):0}const bg=(n,s,o)=>(((1-3*o+3*s)*n+(3*o-6*s))*n+3*s)*n,ww=1e-7,kw=12;function Nw(n,s,o,i,d){let u,l,p=0;do l=s+(o-s)/2,u=bg(l,i,d)-n,u>0?o=l:s=l;while(Math.abs(u)>ww&&++p<kw);return l}function ea(n,s,o,i){if(n===s&&o===i)return on;const d=u=>Nw(u,0,1,n,o);return u=>u===0||u===1?u:bg(d(u),s,i)}const jg=n=>s=>s<=.5?n(2*s)/2:(2-n(2*(1-s)))/2,wg=n=>s=>1-n(1-s),kg=ea(.33,1.53,.69,.99),tu=wg(kg),Ng=jg(tu),Fg=n=>(n*=2)<1?.5*tu(n):.5*(2-Math.pow(2,-10*(n-1))),nu=n=>1-Math.sin(Math.acos(n)),Cg=wg(nu),Sg=jg(nu),Fw=ea(.42,0,1,1),Cw=ea(0,0,.58,1),Eg=ea(.42,0,.58,1),Sw=n=>Array.isArray(n)&&typeof n[0]!="number",Ag=n=>Array.isArray(n)&&typeof n[0]=="number",Ew={linear:on,easeIn:Fw,easeInOut:Eg,easeOut:Cw,circIn:nu,circInOut:Sg,circOut:Cg,backIn:tu,backInOut:Ng,backOut:kg,anticipate:Fg},Aw=n=>typeof n=="string",Vm=n=>{if(Ag(n)){Zd(n.length===4);const[s,o,i,d]=n;return ea(s,o,i,d)}else if(Aw(n))return Ew[n];return n},vi=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Tw(n,s){let o=new Set,i=new Set,d=!1,u=!1;const l=new WeakSet;let p={delta:0,timestamp:0,isProcessing:!1};function m(x){l.has(x)&&(g.schedule(x),n()),x(p)}const g={schedule:(x,y=!1,v=!1)=>{const N=v&&d?o:i;return y&&l.add(x),N.has(x)||N.add(x),x},cancel:x=>{i.delete(x),l.delete(x)},process:x=>{if(p=x,d){u=!0;return}d=!0,[o,i]=[i,o],o.forEach(m),o.clear(),d=!1,u&&(u=!1,g.process(x))}};return g}const Dw=40;function Tg(n,s){let o=!1,i=!0;const d={delta:0,timestamp:0,isProcessing:!1},u=()=>o=!0,l=vi.reduce((C,L)=>(C[L]=Tw(u),C),{}),{setup:p,read:m,resolveKeyframes:g,preUpdate:x,update:y,preRender:v,render:F,postRender:N}=l,j=()=>{const C=Gn.useManualTiming?d.timestamp:performance.now();o=!1,Gn.useManualTiming||(d.delta=i?1e3/60:Math.max(Math.min(C-d.timestamp,Dw),1)),d.timestamp=C,d.isProcessing=!0,p.process(d),m.process(d),g.process(d),x.process(d),y.process(d),v.process(d),F.process(d),N.process(d),d.isProcessing=!1,o&&s&&(i=!1,n(j))},S=()=>{o=!0,i=!0,d.isProcessing||n(j)};return{schedule:vi.reduce((C,L)=>{const B=l[L];return C[L]=(G,$=!1,_=!1)=>(o||S(),B.schedule(G,$,_)),C},{}),cancel:C=>{for(let L=0;L<vi.length;L++)l[vi[L]].cancel(C)},state:d,steps:l}}const{schedule:et,cancel:br,state:Ct,steps:Hc}=Tg(typeof requestAnimationFrame<"u"?requestAnimationFrame:on,!0);let ki;function Pw(){ki=void 0}const Ht={now:()=>(ki===void 0&&Ht.set(Ct.isProcessing||Gn.useManualTiming?Ct.timestamp:performance.now()),ki),set:n=>{ki=n,queueMicrotask(Pw)}},Dg=n=>s=>typeof s=="string"&&s.startsWith(n),ru=Dg("--"),Bw=Dg("var(--"),su=n=>Bw(n)?Rw.test(n.split("/*")[0].trim()):!1,Rw=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Hs={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Ko={...Hs,transform:n=>Hn(0,1,n)},yi={...Hs,default:1},Io=n=>Math.round(n*1e5)/1e5,ou=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Mw(n){return n==null}const Iw=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,au=(n,s)=>o=>!!(typeof o=="string"&&Iw.test(o)&&o.startsWith(n)||s&&!Mw(o)&&Object.prototype.hasOwnProperty.call(o,s)),Pg=(n,s,o)=>i=>{if(typeof i!="string")return i;const[d,u,l,p]=i.match(ou);return{[n]:parseFloat(d),[s]:parseFloat(u),[o]:parseFloat(l),alpha:p!==void 0?parseFloat(p):1}},_w=n=>Hn(0,255,n),Gc={...Hs,transform:n=>Math.round(_w(n))},Vr={test:au("rgb","red"),parse:Pg("red","green","blue"),transform:({red:n,green:s,blue:o,alpha:i=1})=>"rgba("+Gc.transform(n)+", "+Gc.transform(s)+", "+Gc.transform(o)+", "+Io(Ko.transform(i))+")"};function Ow(n){let s="",o="",i="",d="";return n.length>5?(s=n.substring(1,3),o=n.substring(3,5),i=n.substring(5,7),d=n.substring(7,9)):(s=n.substring(1,2),o=n.substring(2,3),i=n.substring(3,4),d=n.substring(4,5),s+=s,o+=o,i+=i,d+=d),{red:parseInt(s,16),green:parseInt(o,16),blue:parseInt(i,16),alpha:d?parseInt(d,16)/255:1}}const pd={test:au("#"),parse:Ow,transform:Vr.transform},ta=n=>({test:s=>typeof s=="string"&&s.endsWith(n)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${n}`}),xr=ta("deg"),En=ta("%"),Te=ta("px"),Lw=ta("vh"),$w=ta("vw"),Um={...En,parse:n=>En.parse(n)/100,transform:n=>En.transform(n*100)},Ts={test:au("hsl","hue"),parse:Pg("hue","saturation","lightness"),transform:({hue:n,saturation:s,lightness:o,alpha:i=1})=>"hsla("+Math.round(n)+", "+En.transform(Io(s))+", "+En.transform(Io(o))+", "+Io(Ko.transform(i))+")"},ft={test:n=>Vr.test(n)||pd.test(n)||Ts.test(n),parse:n=>Vr.test(n)?Vr.parse(n):Ts.test(n)?Ts.parse(n):pd.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Vr.transform(n):Ts.transform(n),getAnimatableNone:n=>{const s=ft.parse(n);return s.alpha=0,ft.transform(s)}},zw=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Vw(n){return isNaN(n)&&typeof n=="string"&&(n.match(ou)?.length||0)+(n.match(zw)?.length||0)>0}const Bg="number",Rg="color",Uw="var",Ww="var(",Wm="${}",Hw=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qo(n){const s=n.toString(),o=[],i={color:[],number:[],var:[]},d=[];let u=0;const p=s.replace(Hw,m=>(ft.test(m)?(i.color.push(u),d.push(Rg),o.push(ft.parse(m))):m.startsWith(Ww)?(i.var.push(u),d.push(Uw),o.push(m)):(i.number.push(u),d.push(Bg),o.push(parseFloat(m))),++u,Wm)).split(Wm);return{values:o,split:p,indexes:i,types:d}}function Mg(n){return qo(n).values}function Ig(n){const{split:s,types:o}=qo(n),i=s.length;return d=>{let u="";for(let l=0;l<i;l++)if(u+=s[l],d[l]!==void 0){const p=o[l];p===Bg?u+=Io(d[l]):p===Rg?u+=ft.transform(d[l]):u+=d[l]}return u}}const Gw=n=>typeof n=="number"?0:ft.test(n)?ft.getAnimatableNone(n):n;function Kw(n){const s=Mg(n);return Ig(n)(s.map(Gw))}const jr={test:Vw,parse:Mg,createTransformer:Ig,getAnimatableNone:Kw};function Kc(n,s,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?n+(s-n)*6*o:o<1/2?s:o<2/3?n+(s-n)*(2/3-o)*6:n}function qw({hue:n,saturation:s,lightness:o,alpha:i}){n/=360,s/=100,o/=100;let d=0,u=0,l=0;if(!s)d=u=l=o;else{const p=o<.5?o*(1+s):o+s-o*s,m=2*o-p;d=Kc(m,p,n+1/3),u=Kc(m,p,n),l=Kc(m,p,n-1/3)}return{red:Math.round(d*255),green:Math.round(u*255),blue:Math.round(l*255),alpha:i}}function Ti(n,s){return o=>o>0?s:n}const rt=(n,s,o)=>n+(s-n)*o,qc=(n,s,o)=>{const i=n*n,d=o*(s*s-i)+i;return d<0?0:Math.sqrt(d)},Xw=[pd,Vr,Ts],Yw=n=>Xw.find(s=>s.test(n));function Hm(n){const s=Yw(n);if(!s)return!1;let o=s.parse(n);return s===Ts&&(o=qw(o)),o}const Gm=(n,s)=>{const o=Hm(n),i=Hm(s);if(!o||!i)return Ti(n,s);const d={...o};return u=>(d.red=qc(o.red,i.red,u),d.green=qc(o.green,i.green,u),d.blue=qc(o.blue,i.blue,u),d.alpha=rt(o.alpha,i.alpha,u),Vr.transform(d))},md=new Set(["none","hidden"]);function Qw(n,s){return md.has(n)?o=>o<=0?n:s:o=>o>=1?s:n}function Zw(n,s){return o=>rt(n,s,o)}function iu(n){return typeof n=="number"?Zw:typeof n=="string"?su(n)?Ti:ft.test(n)?Gm:tk:Array.isArray(n)?_g:typeof n=="object"?ft.test(n)?Gm:Jw:Ti}function _g(n,s){const o=[...n],i=o.length,d=n.map((u,l)=>iu(u)(u,s[l]));return u=>{for(let l=0;l<i;l++)o[l]=d[l](u);return o}}function Jw(n,s){const o={...n,...s},i={};for(const d in o)n[d]!==void 0&&s[d]!==void 0&&(i[d]=iu(n[d])(n[d],s[d]));return d=>{for(const u in i)o[u]=i[u](d);return o}}function ek(n,s){const o=[],i={color:0,var:0,number:0};for(let d=0;d<s.values.length;d++){const u=s.types[d],l=n.indexes[u][i[u]],p=n.values[l]??0;o[d]=p,i[u]++}return o}const tk=(n,s)=>{const o=jr.createTransformer(s),i=qo(n),d=qo(s);return i.indexes.var.length===d.indexes.var.length&&i.indexes.color.length===d.indexes.color.length&&i.indexes.number.length>=d.indexes.number.length?md.has(n)&&!d.values.length||md.has(s)&&!i.values.length?Qw(n,s):Jo(_g(ek(i,d),d.values),o):Ti(n,s)};function Og(n,s,o){return typeof n=="number"&&typeof s=="number"&&typeof o=="number"?rt(n,s,o):iu(n)(n,s)}const nk=n=>{const s=({timestamp:o})=>n(o);return{start:(o=!0)=>et.update(s,o),stop:()=>br(s),now:()=>Ct.isProcessing?Ct.timestamp:Ht.now()}},Lg=(n,s,o=10)=>{let i="";const d=Math.max(Math.round(s/o),2);for(let u=0;u<d;u++)i+=Math.round(n(u/(d-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Di=2e4;function lu(n){let s=0;const o=50;let i=n.next(s);for(;!i.done&&s<Di;)s+=o,i=n.next(s);return s>=Di?1/0:s}function rk(n,s=100,o){const i=o({...n,keyframes:[0,s]}),d=Math.min(lu(i),Di);return{type:"keyframes",ease:u=>i.next(d*u).value/s,duration:Sn(d)}}const sk=5;function $g(n,s,o){const i=Math.max(s-sk,0);return yg(o-n(i),s-i)}const at={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Xc=.001;function ok({duration:n=at.duration,bounce:s=at.bounce,velocity:o=at.velocity,mass:i=at.mass}){let d,u,l=1-s;l=Hn(at.minDamping,at.maxDamping,l),n=Hn(at.minDuration,at.maxDuration,Sn(n)),l<1?(d=g=>{const x=g*l,y=x*n,v=x-o,F=hd(g,l),N=Math.exp(-y);return Xc-v/F*N},u=g=>{const y=g*l*n,v=y*o+o,F=Math.pow(l,2)*Math.pow(g,2)*n,N=Math.exp(-y),j=hd(Math.pow(g,2),l);return(-d(g)+Xc>0?-1:1)*((v-F)*N)/j}):(d=g=>{const x=Math.exp(-g*n),y=(g-o)*n+1;return-Xc+x*y},u=g=>{const x=Math.exp(-g*n),y=(o-g)*(n*n);return x*y});const p=5/n,m=ik(d,u,p);if(n=Cn(n),isNaN(m))return{stiffness:at.stiffness,damping:at.damping,duration:n};{const g=Math.pow(m,2)*i;return{stiffness:g,damping:l*2*Math.sqrt(i*g),duration:n}}}const ak=12;function ik(n,s,o){let i=o;for(let d=1;d<ak;d++)i=i-n(i)/s(i);return i}function hd(n,s){return n*Math.sqrt(1-s*s)}const lk=["duration","bounce"],ck=["stiffness","damping","mass"];function Km(n,s){return s.some(o=>n[o]!==void 0)}function dk(n){let s={velocity:at.velocity,stiffness:at.stiffness,damping:at.damping,mass:at.mass,isResolvedFromDuration:!1,...n};if(!Km(n,ck)&&Km(n,lk))if(n.visualDuration){const o=n.visualDuration,i=2*Math.PI/(o*1.2),d=i*i,u=2*Hn(.05,1,1-(n.bounce||0))*Math.sqrt(d);s={...s,mass:at.mass,stiffness:d,damping:u}}else{const o=ok(n);s={...s,...o,mass:at.mass},s.isResolvedFromDuration=!0}return s}function Pi(n=at.visualDuration,s=at.bounce){const o=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:s}:n;let{restSpeed:i,restDelta:d}=o;const u=o.keyframes[0],l=o.keyframes[o.keyframes.length-1],p={done:!1,value:u},{stiffness:m,damping:g,mass:x,duration:y,velocity:v,isResolvedFromDuration:F}=dk({...o,velocity:-Sn(o.velocity||0)}),N=v||0,j=g/(2*Math.sqrt(m*x)),S=l-u,D=Sn(Math.sqrt(m/x)),T=Math.abs(S)<5;i||(i=T?at.restSpeed.granular:at.restSpeed.default),d||(d=T?at.restDelta.granular:at.restDelta.default);let C;if(j<1){const B=hd(D,j);C=G=>{const $=Math.exp(-j*D*G);return l-$*((N+j*D*S)/B*Math.sin(B*G)+S*Math.cos(B*G))}}else if(j===1)C=B=>l-Math.exp(-D*B)*(S+(N+D*S)*B);else{const B=D*Math.sqrt(j*j-1);C=G=>{const $=Math.exp(-j*D*G),_=Math.min(B*G,300);return l-$*((N+j*D*S)*Math.sinh(_)+B*S*Math.cosh(_))/B}}const L={calculatedDuration:F&&y||null,next:B=>{const G=C(B);if(F)p.done=B>=y;else{let $=B===0?N:0;j<1&&($=B===0?Cn(N):$g(C,B,G));const _=Math.abs($)<=i,ee=Math.abs(l-G)<=d;p.done=_&&ee}return p.value=p.done?l:G,p},toString:()=>{const B=Math.min(lu(L),Di),G=Lg($=>L.next(B*$).value,B,30);return B+"ms "+G},toTransition:()=>{}};return L}Pi.applyToOptions=n=>{const s=rk(n,100,Pi);return n.ease=s.ease,n.duration=Cn(s.duration),n.type="keyframes",n};function xd({keyframes:n,velocity:s=0,power:o=.8,timeConstant:i=325,bounceDamping:d=10,bounceStiffness:u=500,modifyTarget:l,min:p,max:m,restDelta:g=.5,restSpeed:x}){const y=n[0],v={done:!1,value:y},F=_=>p!==void 0&&_<p||m!==void 0&&_>m,N=_=>p===void 0?m:m===void 0||Math.abs(p-_)<Math.abs(m-_)?p:m;let j=o*s;const S=y+j,D=l===void 0?S:l(S);D!==S&&(j=D-y);const T=_=>-j*Math.exp(-_/i),C=_=>D+T(_),L=_=>{const ee=T(_),H=C(_);v.done=Math.abs(ee)<=g,v.value=v.done?D:H};let B,G;const $=_=>{F(v.value)&&(B=_,G=Pi({keyframes:[v.value,N(v.value)],velocity:$g(C,_,v.value),damping:d,stiffness:u,restDelta:g,restSpeed:x}))};return $(0),{calculatedDuration:null,next:_=>{let ee=!1;return!G&&B===void 0&&(ee=!0,L(_),$(_)),B!==void 0&&_>=B?G.next(_-B):(!ee&&L(_),v)}}}function uk(n,s,o){const i=[],d=o||Gn.mix||Og,u=n.length-1;for(let l=0;l<u;l++){let p=d(n[l],n[l+1]);if(s){const m=Array.isArray(s)?s[l]||on:s;p=Jo(m,p)}i.push(p)}return i}function fk(n,s,{clamp:o=!0,ease:i,mixer:d}={}){const u=n.length;if(Zd(u===s.length),u===1)return()=>s[0];if(u===2&&s[0]===s[1])return()=>s[1];const l=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),s=[...s].reverse());const p=uk(s,i,d),m=p.length,g=x=>{if(l&&x<n[0])return s[0];let y=0;if(m>1)for(;y<n.length-2&&!(x<n[y+1]);y++);const v=Go(n[y],n[y+1],x);return p[y](v)};return o?x=>g(Hn(n[0],n[u-1],x)):g}function pk(n,s){const o=n[n.length-1];for(let i=1;i<=s;i++){const d=Go(0,s,i);n.push(rt(o,1,d))}}function mk(n){const s=[0];return pk(s,n.length-1),s}function hk(n,s){return n.map(o=>o*s)}function xk(n,s){return n.map(()=>s||Eg).splice(0,n.length-1)}function _o({duration:n=300,keyframes:s,times:o,ease:i="easeInOut"}){const d=Sw(i)?i.map(Vm):Vm(i),u={done:!1,value:s[0]},l=hk(o&&o.length===s.length?o:mk(s),n),p=fk(l,s,{ease:Array.isArray(d)?d:xk(s,d)});return{calculatedDuration:n,next:m=>(u.value=p(m),u.done=m>=n,u)}}const gk=n=>n!==null;function cu(n,{repeat:s,repeatType:o="loop"},i,d=1){const u=n.filter(gk),p=d<0||s&&o!=="loop"&&s%2===1?0:u.length-1;return!p||i===void 0?u[p]:i}const vk={decay:xd,inertia:xd,tween:_o,keyframes:_o,spring:Pi};function zg(n){typeof n.type=="string"&&(n.type=vk[n.type])}class du{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(s=>{this.resolve=s})}notifyFinished(){this.resolve()}then(s,o){return this.finished.then(s,o)}}const yk=n=>n/100;class uu extends du{constructor(s){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:o}=this.options;o&&o.updatedAt!==Ht.now()&&this.tick(Ht.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=s,this.initAnimation(),this.play(),s.autoplay===!1&&this.pause()}initAnimation(){const{options:s}=this;zg(s);const{type:o=_o,repeat:i=0,repeatDelay:d=0,repeatType:u,velocity:l=0}=s;let{keyframes:p}=s;const m=o||_o;m!==_o&&typeof p[0]!="number"&&(this.mixKeyframes=Jo(yk,Og(p[0],p[1])),p=[0,100]);const g=m({...s,keyframes:p});u==="mirror"&&(this.mirroredGenerator=m({...s,keyframes:[...p].reverse(),velocity:-l})),g.calculatedDuration===null&&(g.calculatedDuration=lu(g));const{calculatedDuration:x}=g;this.calculatedDuration=x,this.resolvedDuration=x+d,this.totalDuration=this.resolvedDuration*(i+1)-d,this.generator=g}updateTime(s){const o=Math.round(s-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=o}tick(s,o=!1){const{generator:i,totalDuration:d,mixKeyframes:u,mirroredGenerator:l,resolvedDuration:p,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:g=0,keyframes:x,repeat:y,repeatType:v,repeatDelay:F,type:N,onUpdate:j,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-d/this.speed,this.startTime)),o?this.currentTime=s:this.updateTime(s);const D=this.currentTime-g*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?D<0:D>d;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let C=this.currentTime,L=i;if(y){const _=Math.min(this.currentTime,d)/p;let ee=Math.floor(_),H=_%1;!H&&_>=1&&(H=1),H===1&&ee--,ee=Math.min(ee,y+1),!!(ee%2)&&(v==="reverse"?(H=1-H,F&&(H-=F/p)):v==="mirror"&&(L=l)),C=Hn(0,1,H)*p}const B=T?{done:!1,value:x[0]}:L.next(C);u&&(B.value=u(B.value));let{done:G}=B;!T&&m!==null&&(G=this.playbackSpeed>=0?this.currentTime>=d:this.currentTime<=0);const $=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return $&&N!==xd&&(B.value=cu(x,this.options,S,this.speed)),j&&j(B.value),$&&this.finish(),B}then(s,o){return this.finished.then(s,o)}get duration(){return Sn(this.calculatedDuration)}get time(){return Sn(this.currentTime)}set time(s){s=Cn(s),this.currentTime=s,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(s){this.updateTime(Ht.now());const o=this.playbackSpeed!==s;this.playbackSpeed=s,o&&(this.time=Sn(this.currentTime))}play(){if(this.isStopped)return;const{driver:s=nk,startTime:o}=this.options;this.driver||(this.driver=s(d=>this.tick(d))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=o??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ht.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}attachTimeline(s){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),s.observe(this)}}function bk(n){for(let s=1;s<n.length;s++)n[s]??(n[s]=n[s-1])}const Ur=n=>n*180/Math.PI,gd=n=>{const s=Ur(Math.atan2(n[1],n[0]));return vd(s)},jk={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:gd,rotateZ:gd,skewX:n=>Ur(Math.atan(n[1])),skewY:n=>Ur(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},vd=n=>(n=n%360,n<0&&(n+=360),n),qm=gd,Xm=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Ym=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),wk={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Xm,scaleY:Ym,scale:n=>(Xm(n)+Ym(n))/2,rotateX:n=>vd(Ur(Math.atan2(n[6],n[5]))),rotateY:n=>vd(Ur(Math.atan2(-n[2],n[0]))),rotateZ:qm,rotate:qm,skewX:n=>Ur(Math.atan(n[4])),skewY:n=>Ur(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function yd(n){return n.includes("scale")?1:0}function bd(n,s){if(!n||n==="none")return yd(s);const o=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,d;if(o)i=wk,d=o;else{const p=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=jk,d=p}if(!d)return yd(s);const u=i[s],l=d[1].split(",").map(Nk);return typeof u=="function"?u(l):l[u]}const kk=(n,s)=>{const{transform:o="none"}=getComputedStyle(n);return bd(o,s)};function Nk(n){return parseFloat(n.trim())}const Gs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ks=new Set(Gs),Qm=n=>n===Hs||n===Te,Fk=new Set(["x","y","z"]),Ck=Gs.filter(n=>!Fk.has(n));function Sk(n){const s=[];return Ck.forEach(o=>{const i=n.getValue(o);i!==void 0&&(s.push([o,i.get()]),i.set(o.startsWith("scale")?1:0))}),s}const Hr={width:({x:n},{paddingLeft:s="0",paddingRight:o="0"})=>n.max-n.min-parseFloat(s)-parseFloat(o),height:({y:n},{paddingTop:s="0",paddingBottom:o="0"})=>n.max-n.min-parseFloat(s)-parseFloat(o),top:(n,{top:s})=>parseFloat(s),left:(n,{left:s})=>parseFloat(s),bottom:({y:n},{top:s})=>parseFloat(s)+(n.max-n.min),right:({x:n},{left:s})=>parseFloat(s)+(n.max-n.min),x:(n,{transform:s})=>bd(s,"x"),y:(n,{transform:s})=>bd(s,"y")};Hr.translateX=Hr.x;Hr.translateY=Hr.y;const Gr=new Set;let jd=!1,wd=!1,kd=!1;function Vg(){if(wd){const n=Array.from(Gr).filter(i=>i.needsMeasurement),s=new Set(n.map(i=>i.element)),o=new Map;s.forEach(i=>{const d=Sk(i);d.length&&(o.set(i,d),i.render())}),n.forEach(i=>i.measureInitialState()),s.forEach(i=>{i.render();const d=o.get(i);d&&d.forEach(([u,l])=>{i.getValue(u)?.set(l)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}wd=!1,jd=!1,Gr.forEach(n=>n.complete(kd)),Gr.clear()}function Ug(){Gr.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(wd=!0)})}function Ek(){kd=!0,Ug(),Vg(),kd=!1}class fu{constructor(s,o,i,d,u,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...s],this.onComplete=o,this.name=i,this.motionValue=d,this.element=u,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Gr.add(this),jd||(jd=!0,et.read(Ug),et.resolveKeyframes(Vg))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:o,element:i,motionValue:d}=this;if(s[0]===null){const u=d?.get(),l=s[s.length-1];if(u!==void 0)s[0]=u;else if(i&&o){const p=i.readValue(o,l);p!=null&&(s[0]=p)}s[0]===void 0&&(s[0]=l),d&&u===void 0&&d.set(s[0])}bk(s)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(s=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,s),Gr.delete(this)}cancel(){this.state==="scheduled"&&(Gr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Ak=n=>n.startsWith("--");function Tk(n,s,o){Ak(s)?n.style.setProperty(s,o):n.style[s]=o}const Dk=Jd(()=>window.ScrollTimeline!==void 0),Pk={};function Bk(n,s){const o=Jd(n);return()=>Pk[s]??o()}const Wg=Bk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ro=([n,s,o,i])=>`cubic-bezier(${n}, ${s}, ${o}, ${i})`,Zm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ro([0,.65,.55,1]),circOut:Ro([.55,0,1,.45]),backIn:Ro([.31,.01,.66,-.59]),backOut:Ro([.33,1.53,.69,.99])};function Hg(n,s){if(n)return typeof n=="function"?Wg()?Lg(n,s):"ease-out":Ag(n)?Ro(n):Array.isArray(n)?n.map(o=>Hg(o,s)||Zm.easeOut):Zm[n]}function Rk(n,s,o,{delay:i=0,duration:d=300,repeat:u=0,repeatType:l="loop",ease:p="easeOut",times:m}={},g=void 0){const x={[s]:o};m&&(x.offset=m);const y=Hg(p,d);Array.isArray(y)&&(x.easing=y);const v={delay:i,duration:d,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:u+1,direction:l==="reverse"?"alternate":"normal"};return g&&(v.pseudoElement=g),n.animate(x,v)}function Gg(n){return typeof n=="function"&&"applyToOptions"in n}function Mk({type:n,...s}){return Gg(n)&&Wg()?n.applyToOptions(s):(s.duration??(s.duration=300),s.ease??(s.ease="easeOut"),s)}class Ik extends du{constructor(s){if(super(),this.finishedTime=null,this.isStopped=!1,!s)return;const{element:o,name:i,keyframes:d,pseudoElement:u,allowFlatten:l=!1,finalKeyframe:p,onComplete:m}=s;this.isPseudoElement=!!u,this.allowFlatten=l,this.options=s,Zd(typeof s.type!="string");const g=Mk(s);this.animation=Rk(o,i,d,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const x=cu(d,this.options,p,this.speed);this.updateMotionValue?this.updateMotionValue(x):Tk(o,i,x),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:s}=this;s==="idle"||s==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const s=this.animation.effect?.getComputedTiming?.().duration||0;return Sn(Number(s))}get time(){return Sn(Number(this.animation.currentTime)||0)}set time(s){this.finishedTime=null,this.animation.currentTime=Cn(s)}get speed(){return this.animation.playbackRate}set speed(s){s<0&&(this.finishedTime=null),this.animation.playbackRate=s}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(s){this.animation.startTime=s}attachTimeline({timeline:s,observe:o}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,s&&Dk()?(this.animation.timeline=s,on):o(this)}}const Kg={anticipate:Fg,backInOut:Ng,circInOut:Sg};function _k(n){return n in Kg}function Ok(n){typeof n.ease=="string"&&_k(n.ease)&&(n.ease=Kg[n.ease])}const Jm=10;class Lk extends Ik{constructor(s){Ok(s),zg(s),super(s),s.startTime&&(this.startTime=s.startTime),this.options=s}updateMotionValue(s){const{motionValue:o,onUpdate:i,onComplete:d,element:u,...l}=this.options;if(!o)return;if(s!==void 0){o.set(s);return}const p=new uu({...l,autoplay:!1}),m=Cn(this.finishedTime??this.time);o.setWithVelocity(p.sample(m-Jm).value,p.sample(m).value,Jm),p.stop()}}const eh=(n,s)=>s==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(jr.test(n)||n==="0")&&!n.startsWith("url("));function $k(n){const s=n[0];if(n.length===1)return!0;for(let o=0;o<n.length;o++)if(n[o]!==s)return!0}function zk(n,s,o,i){const d=n[0];if(d===null)return!1;if(s==="display"||s==="visibility")return!0;const u=n[n.length-1],l=eh(d,s),p=eh(u,s);return!l||!p?!1:$k(n)||(o==="spring"||Gg(o))&&i}function Nd(n){n.duration=0,n.type}const Vk=new Set(["opacity","clipPath","filter","transform"]),Uk=Jd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Wk(n){const{motionValue:s,name:o,repeatDelay:i,repeatType:d,damping:u,type:l}=n;if(!(s?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=s.owner.getProps();return Uk()&&o&&Vk.has(o)&&(o!=="transform"||!g)&&!m&&!i&&d!=="mirror"&&u!==0&&l!=="inertia"}const Hk=40;class Gk extends du{constructor({autoplay:s=!0,delay:o=0,type:i="keyframes",repeat:d=0,repeatDelay:u=0,repeatType:l="loop",keyframes:p,name:m,motionValue:g,element:x,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ht.now();const v={autoplay:s,delay:o,type:i,repeat:d,repeatDelay:u,repeatType:l,name:m,motionValue:g,element:x,...y},F=x?.KeyframeResolver||fu;this.keyframeResolver=new F(p,(N,j,S)=>this.onKeyframesResolved(N,j,v,!S),m,g,x),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(s,o,i,d){this.keyframeResolver=void 0;const{name:u,type:l,velocity:p,delay:m,isHandoff:g,onUpdate:x}=i;this.resolvedAt=Ht.now(),zk(s,u,l,p)||((Gn.instantAnimations||!m)&&x?.(cu(s,i,o)),s[0]=s[s.length-1],Nd(i),i.repeat=0);const v={startTime:d?this.resolvedAt?this.resolvedAt-this.createdAt>Hk?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:o,...i,keyframes:s},F=!g&&Wk(v)?new Lk({...v,element:v.motionValue.owner.current}):new uu(v);F.finished.then(()=>this.notifyFinished()).catch(on),this.pendingTimeline&&(this.stopTimeline=F.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=F}get finished(){return this._animation?this.animation.finished:this._finished}then(s,o){return this.finished.finally(s).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Ek()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(s){this.animation.time=s}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(s){this.animation.speed=s}get startTime(){return this.animation.startTime}attachTimeline(s){return this._animation?this.stopTimeline=this.animation.attachTimeline(s):this.pendingTimeline=s,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Kk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function qk(n){const s=Kk.exec(n);if(!s)return[,];const[,o,i,d]=s;return[`--${o??i}`,d]}function qg(n,s,o=1){const[i,d]=qk(n);if(!i)return;const u=window.getComputedStyle(s).getPropertyValue(i);if(u){const l=u.trim();return xg(l)?parseFloat(l):l}return su(d)?qg(d,s,o+1):d}function pu(n,s){return n?.[s]??n?.default??n}const Xg=new Set(["width","height","top","left","right","bottom",...Gs]),Xk={test:n=>n==="auto",parse:n=>n},Yg=n=>s=>s.test(n),Qg=[Hs,Te,En,xr,$w,Lw,Xk],th=n=>Qg.find(Yg(n));function Yk(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||vg(n):!0}const Qk=new Set(["brightness","contrast","saturate","opacity"]);function Zk(n){const[s,o]=n.slice(0,-1).split("(");if(s==="drop-shadow")return n;const[i]=o.match(ou)||[];if(!i)return n;const d=o.replace(i,"");let u=Qk.has(s)?1:0;return i!==o&&(u*=100),s+"("+u+d+")"}const Jk=/\b([a-z-]*)\(.*?\)/gu,Fd={...jr,getAnimatableNone:n=>{const s=n.match(Jk);return s?s.map(Zk).join(" "):n}},nh={...Hs,transform:Math.round},eN={rotate:xr,rotateX:xr,rotateY:xr,rotateZ:xr,scale:yi,scaleX:yi,scaleY:yi,scaleZ:yi,skew:xr,skewX:xr,skewY:xr,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:Ko,originX:Um,originY:Um,originZ:Te},mu={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te,...eN,zIndex:nh,fillOpacity:Ko,strokeOpacity:Ko,numOctaves:nh},tN={...mu,color:ft,backgroundColor:ft,outlineColor:ft,fill:ft,stroke:ft,borderColor:ft,borderTopColor:ft,borderRightColor:ft,borderBottomColor:ft,borderLeftColor:ft,filter:Fd,WebkitFilter:Fd},Zg=n=>tN[n];function Jg(n,s){let o=Zg(n);return o!==Fd&&(o=jr),o.getAnimatableNone?o.getAnimatableNone(s):void 0}const nN=new Set(["auto","none","0"]);function rN(n,s,o){let i=0,d;for(;i<n.length&&!d;){const u=n[i];typeof u=="string"&&!nN.has(u)&&qo(u).values.length&&(d=n[i]),i++}if(d&&o)for(const u of s)n[u]=Jg(o,d)}class sN extends fu{constructor(s,o,i,d,u){super(s,o,i,d,u,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:o,name:i}=this;if(!o||!o.current)return;super.readKeyframes();for(let m=0;m<s.length;m++){let g=s[m];if(typeof g=="string"&&(g=g.trim(),su(g))){const x=qg(g,o.current);x!==void 0&&(s[m]=x),m===s.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Xg.has(i)||s.length!==2)return;const[d,u]=s,l=th(d),p=th(u);if(l!==p)if(Qm(l)&&Qm(p))for(let m=0;m<s.length;m++){const g=s[m];typeof g=="string"&&(s[m]=parseFloat(g))}else Hr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:o}=this,i=[];for(let d=0;d<s.length;d++)(s[d]===null||Yk(s[d]))&&i.push(d);i.length&&rN(s,i,o)}measureInitialState(){const{element:s,unresolvedKeyframes:o,name:i}=this;if(!s||!s.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Hr[i](s.measureViewportBox(),window.getComputedStyle(s.current)),o[0]=this.measuredOrigin;const d=o[o.length-1];d!==void 0&&s.getValue(i,d).jump(d,!1)}measureEndState(){const{element:s,name:o,unresolvedKeyframes:i}=this;if(!s||!s.current)return;const d=s.getValue(o);d&&d.jump(this.measuredOrigin,!1);const u=i.length-1,l=i[u];i[u]=Hr[o](s.measureViewportBox(),window.getComputedStyle(s.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([p,m])=>{s.getValue(p).set(m)}),this.resolveNoneKeyframes()}}function oN(n,s,o){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const d=o?.[n]??i.querySelectorAll(n);return d?Array.from(d):[]}return Array.from(n)}const e0=(n,s)=>s&&typeof n=="number"?s.transform(n):n;function aN(n){return gg(n)&&"offsetHeight"in n}const rh=30,iN=n=>!isNaN(parseFloat(n));class lN{constructor(s,o={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const d=Ht.now();if(this.updatedAt!==d&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(s),this.owner=o.owner}setCurrent(s){this.current=s,this.updatedAt=Ht.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=iN(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,o){this.events[s]||(this.events[s]=new eu);const i=this.events[s].add(o);return s==="change"?()=>{i(),et.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,o){this.passiveEffect=s,this.stopPassiveEffect=o}set(s){this.passiveEffect?this.passiveEffect(s,this.updateAndNotify):this.updateAndNotify(s)}setWithVelocity(s,o,i){this.set(o),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-i}jump(s,o=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,o&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(s){this.dependents||(this.dependents=new Set),this.dependents.add(s)}removeDependent(s){this.dependents&&this.dependents.delete(s)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=Ht.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>rh)return 0;const o=Math.min(this.updatedAt-this.prevUpdatedAt,rh);return yg(parseFloat(this.current)-parseFloat(this.prevFrameValue),o)}start(s){return this.stop(),new Promise(o=>{this.hasAnimated=!0,this.animation=s(o),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ls(n,s){return new lN(n,s)}const{schedule:hu}=Tg(queueMicrotask,!1),hn={x:!1,y:!1};function t0(){return hn.x||hn.y}function cN(n){return n==="x"||n==="y"?hn[n]?null:(hn[n]=!0,()=>{hn[n]=!1}):hn.x||hn.y?null:(hn.x=hn.y=!0,()=>{hn.x=hn.y=!1})}function n0(n,s){const o=oN(n),i=new AbortController,d={passive:!0,...s,signal:i.signal};return[o,d,()=>i.abort()]}function sh(n){return!(n.pointerType==="touch"||t0())}function dN(n,s,o={}){const[i,d,u]=n0(n,o),l=p=>{if(!sh(p))return;const{target:m}=p,g=s(m,p);if(typeof g!="function"||!m)return;const x=y=>{sh(y)&&(g(y),m.removeEventListener("pointerleave",x))};m.addEventListener("pointerleave",x,d)};return i.forEach(p=>{p.addEventListener("pointerenter",l,d)}),u}const r0=(n,s)=>s?n===s?!0:r0(n,s.parentElement):!1,xu=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,uN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function fN(n){return uN.has(n.tagName)||n.tabIndex!==-1}const Ni=new WeakSet;function oh(n){return s=>{s.key==="Enter"&&n(s)}}function Yc(n,s){n.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}const pN=(n,s)=>{const o=n.currentTarget;if(!o)return;const i=oh(()=>{if(Ni.has(o))return;Yc(o,"down");const d=oh(()=>{Yc(o,"up")}),u=()=>Yc(o,"cancel");o.addEventListener("keyup",d,s),o.addEventListener("blur",u,s)});o.addEventListener("keydown",i,s),o.addEventListener("blur",()=>o.removeEventListener("keydown",i),s)};function ah(n){return xu(n)&&!t0()}function mN(n,s,o={}){const[i,d,u]=n0(n,o),l=p=>{const m=p.currentTarget;if(!ah(p))return;Ni.add(m);const g=s(m,p),x=(F,N)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),Ni.has(m)&&Ni.delete(m),ah(F)&&typeof g=="function"&&g(F,{success:N})},y=F=>{x(F,m===window||m===document||o.useGlobalTarget||r0(m,F.target))},v=F=>{x(F,!1)};window.addEventListener("pointerup",y,d),window.addEventListener("pointercancel",v,d)};return i.forEach(p=>{(o.useGlobalTarget?window:p).addEventListener("pointerdown",l,d),aN(p)&&(p.addEventListener("focus",g=>pN(g,d)),!fN(p)&&!p.hasAttribute("tabindex")&&(p.tabIndex=0))}),u}function s0(n){return gg(n)&&"ownerSVGElement"in n}function hN(n){return s0(n)&&n.tagName==="svg"}const Pt=n=>!!(n&&n.getVelocity),xN=[...Qg,ft,jr],gN=n=>xN.find(Yg(n)),o0=b.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function vN(n=!0){const s=b.useContext(Xd);if(s===null)return[!0,null];const{isPresent:o,onExitComplete:i,register:d}=s,u=b.useId();b.useEffect(()=>{if(n)return d(u)},[n]);const l=b.useCallback(()=>n&&i&&i(u),[u,i,n]);return!o&&i?[!1,l]:[!0]}const a0=b.createContext({strict:!1}),ih={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$s={};for(const n in ih)$s[n]={isEnabled:s=>ih[n].some(o=>!!s[o])};function yN(n){for(const s in n)$s[s]={...$s[s],...n[s]}}const bN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bi(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||bN.has(n)}let i0=n=>!Bi(n);function jN(n){typeof n=="function"&&(i0=s=>s.startsWith("on")?!Bi(s):n(s))}try{jN(require("@emotion/is-prop-valid").default)}catch{}function wN(n,s,o){const i={};for(const d in n)d==="values"&&typeof n.values=="object"||(i0(d)||o===!0&&Bi(d)||!s&&!Bi(d)||n.draggable&&d.startsWith("onDrag"))&&(i[d]=n[d]);return i}const zi=b.createContext({});function Vi(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Xo(n){return typeof n=="string"||Array.isArray(n)}const gu=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vu=["initial",...gu];function Ui(n){return Vi(n.animate)||vu.some(s=>Xo(n[s]))}function l0(n){return!!(Ui(n)||n.variants)}function kN(n,s){if(Ui(n)){const{initial:o,animate:i}=n;return{initial:o===!1||Xo(o)?o:void 0,animate:Xo(i)?i:void 0}}return n.inherit!==!1?s:{}}function NN(n){const{initial:s,animate:o}=kN(n,b.useContext(zi));return b.useMemo(()=>({initial:s,animate:o}),[lh(s),lh(o)])}function lh(n){return Array.isArray(n)?n.join(" "):n}const Yo={};function FN(n){for(const s in n)Yo[s]=n[s],ru(s)&&(Yo[s].isCSSVariable=!0)}function c0(n,{layout:s,layoutId:o}){return Ks.has(n)||n.startsWith("origin")||(s||o!==void 0)&&(!!Yo[n]||n==="opacity")}const CN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},SN=Gs.length;function EN(n,s,o){let i="",d=!0;for(let u=0;u<SN;u++){const l=Gs[u],p=n[l];if(p===void 0)continue;let m=!0;if(typeof p=="number"?m=p===(l.startsWith("scale")?1:0):m=parseFloat(p)===0,!m||o){const g=e0(p,mu[l]);if(!m){d=!1;const x=CN[l]||l;i+=`${x}(${g}) `}o&&(s[l]=g)}}return i=i.trim(),o?i=o(s,d?"":i):d&&(i="none"),i}function yu(n,s,o){const{style:i,vars:d,transformOrigin:u}=n;let l=!1,p=!1;for(const m in s){const g=s[m];if(Ks.has(m)){l=!0;continue}else if(ru(m)){d[m]=g;continue}else{const x=e0(g,mu[m]);m.startsWith("origin")?(p=!0,u[m]=x):i[m]=x}}if(s.transform||(l||o?i.transform=EN(s,n.transform,o):i.transform&&(i.transform="none")),p){const{originX:m="50%",originY:g="50%",originZ:x=0}=u;i.transformOrigin=`${m} ${g} ${x}`}}const bu=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function d0(n,s,o){for(const i in s)!Pt(s[i])&&!c0(i,o)&&(n[i]=s[i])}function AN({transformTemplate:n},s){return b.useMemo(()=>{const o=bu();return yu(o,s,n),Object.assign({},o.vars,o.style)},[s])}function TN(n,s){const o=n.style||{},i={};return d0(i,o,n),Object.assign(i,AN(n,s)),i}function DN(n,s){const o={},i=TN(n,s);return n.drag&&n.dragListener!==!1&&(o.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(o.tabIndex=0),o.style=i,o}const PN={offset:"stroke-dashoffset",array:"stroke-dasharray"},BN={offset:"strokeDashoffset",array:"strokeDasharray"};function RN(n,s,o=1,i=0,d=!0){n.pathLength=1;const u=d?PN:BN;n[u.offset]=Te.transform(-i);const l=Te.transform(s),p=Te.transform(o);n[u.array]=`${l} ${p}`}function u0(n,{attrX:s,attrY:o,attrScale:i,pathLength:d,pathSpacing:u=1,pathOffset:l=0,...p},m,g,x){if(yu(n,p,g),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:y,style:v}=n;y.transform&&(v.transform=y.transform,delete y.transform),(v.transform||y.transformOrigin)&&(v.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),v.transform&&(v.transformBox=x?.transformBox??"fill-box",delete y.transformBox),s!==void 0&&(y.x=s),o!==void 0&&(y.y=o),i!==void 0&&(y.scale=i),d!==void 0&&RN(y,d,u,l,!1)}const f0=()=>({...bu(),attrs:{}}),p0=n=>typeof n=="string"&&n.toLowerCase()==="svg";function MN(n,s,o,i){const d=b.useMemo(()=>{const u=f0();return u0(u,s,p0(i),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[s]);if(n.style){const u={};d0(u,n.style,n),d.style={...u,...d.style}}return d}const IN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ju(n){return typeof n!="string"||n.includes("-")?!1:!!(IN.indexOf(n)>-1||/[A-Z]/u.test(n))}function _N(n,s,o,{latestValues:i},d,u=!1){const p=(ju(n)?MN:DN)(s,i,d,n),m=wN(s,typeof n=="string",u),g=n!==b.Fragment?{...m,...p,ref:o}:{},{children:x}=s,y=b.useMemo(()=>Pt(x)?x.get():x,[x]);return b.createElement(n,{...g,children:y})}function ch(n){const s=[{},{}];return n?.values.forEach((o,i)=>{s[0][i]=o.get(),s[1][i]=o.getVelocity()}),s}function wu(n,s,o,i){if(typeof s=="function"){const[d,u]=ch(i);s=s(o!==void 0?o:n.custom,d,u)}if(typeof s=="string"&&(s=n.variants&&n.variants[s]),typeof s=="function"){const[d,u]=ch(i);s=s(o!==void 0?o:n.custom,d,u)}return s}function Fi(n){return Pt(n)?n.get():n}function ON({scrapeMotionValuesFromProps:n,createRenderState:s},o,i,d){return{latestValues:LN(o,i,d,n),renderState:s()}}function LN(n,s,o,i){const d={},u=i(n,{});for(const v in u)d[v]=Fi(u[v]);let{initial:l,animate:p}=n;const m=Ui(n),g=l0(n);s&&g&&!m&&n.inherit!==!1&&(l===void 0&&(l=s.initial),p===void 0&&(p=s.animate));let x=o?o.initial===!1:!1;x=x||l===!1;const y=x?p:l;if(y&&typeof y!="boolean"&&!Vi(y)){const v=Array.isArray(y)?y:[y];for(let F=0;F<v.length;F++){const N=wu(n,v[F]);if(N){const{transitionEnd:j,transition:S,...D}=N;for(const T in D){let C=D[T];if(Array.isArray(C)){const L=x?C.length-1:0;C=C[L]}C!==null&&(d[T]=C)}for(const T in j)d[T]=j[T]}}}return d}const m0=n=>(s,o)=>{const i=b.useContext(zi),d=b.useContext(Xd),u=()=>ON(n,s,i,d);return o?u():yw(u)};function ku(n,s,o){const{style:i}=n,d={};for(const u in i)(Pt(i[u])||s.style&&Pt(s.style[u])||c0(u,n)||o?.getValue(u)?.liveStyle!==void 0)&&(d[u]=i[u]);return d}const $N=m0({scrapeMotionValuesFromProps:ku,createRenderState:bu});function h0(n,s,o){const i=ku(n,s,o);for(const d in n)if(Pt(n[d])||Pt(s[d])){const u=Gs.indexOf(d)!==-1?"attr"+d.charAt(0).toUpperCase()+d.substring(1):d;i[u]=n[d]}return i}const zN=m0({scrapeMotionValuesFromProps:h0,createRenderState:f0}),VN=Symbol.for("motionComponentSymbol");function Ds(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function UN(n,s,o){return b.useCallback(i=>{i&&n.onMount&&n.onMount(i),s&&(i?s.mount(i):s.unmount()),o&&(typeof o=="function"?o(i):Ds(o)&&(o.current=i))},[s])}const Nu=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),WN="framerAppearId",x0="data-"+Nu(WN),g0=b.createContext({});function HN(n,s,o,i,d){const{visualElement:u}=b.useContext(zi),l=b.useContext(a0),p=b.useContext(Xd),m=b.useContext(o0).reducedMotion,g=b.useRef(null);i=i||l.renderer,!g.current&&i&&(g.current=i(n,{visualState:s,parent:u,props:o,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:m}));const x=g.current,y=b.useContext(g0);x&&!x.projection&&d&&(x.type==="html"||x.type==="svg")&&GN(g.current,o,d,y);const v=b.useRef(!1);b.useInsertionEffect(()=>{x&&v.current&&x.update(o,p)});const F=o[x0],N=b.useRef(!!F&&!window.MotionHandoffIsComplete?.(F)&&window.MotionHasOptimisedAnimation?.(F));return bw(()=>{x&&(v.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),N.current&&x.animationState&&x.animationState.animateChanges())}),b.useEffect(()=>{x&&(!N.current&&x.animationState&&x.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(F)}),N.current=!1),x.enteringChildren=void 0)}),x}function GN(n,s,o,i){const{layoutId:d,layout:u,drag:l,dragConstraints:p,layoutScroll:m,layoutRoot:g,layoutCrossfade:x}=s;n.projection=new o(n.latestValues,s["data-framer-portal-id"]?void 0:v0(n.parent)),n.projection.setOptions({layoutId:d,layout:u,alwaysMeasureLayout:!!l||p&&Ds(p),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,crossfade:x,layoutScroll:m,layoutRoot:g})}function v0(n){if(n)return n.options.allowProjection!==!1?n.projection:v0(n.parent)}function Qc(n,{forwardMotionProps:s=!1}={},o,i){o&&yN(o);const d=ju(n)?zN:$N;function u(p,m){let g;const x={...b.useContext(o0),...p,layoutId:KN(p)},{isStatic:y}=x,v=NN(p),F=d(p,y);if(!y&&qd){qN();const N=XN(x);g=N.MeasureLayout,v.visualElement=HN(n,F,x,i,N.ProjectionNode)}return t.jsxs(zi.Provider,{value:v,children:[g&&v.visualElement?t.jsx(g,{visualElement:v.visualElement,...x}):null,_N(n,p,UN(F,v.visualElement,m),F,y,s)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const l=b.forwardRef(u);return l[VN]=n,l}function KN({layoutId:n}){const s=b.useContext(hg).id;return s&&n!==void 0?s+"-"+n:n}function qN(n,s){b.useContext(a0).strict}function XN(n){const{drag:s,layout:o}=$s;if(!s&&!o)return{};const i={...s,...o};return{MeasureLayout:s?.isEnabled(n)||o?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function YN(n,s){if(typeof Proxy>"u")return Qc;const o=new Map,i=(u,l)=>Qc(u,l,n,s),d=(u,l)=>i(u,l);return new Proxy(d,{get:(u,l)=>l==="create"?i:(o.has(l)||o.set(l,Qc(l,void 0,n,s)),o.get(l))})}function y0({top:n,left:s,right:o,bottom:i}){return{x:{min:s,max:o},y:{min:n,max:i}}}function QN({x:n,y:s}){return{top:s.min,right:n.max,bottom:s.max,left:n.min}}function ZN(n,s){if(!s)return n;const o=s({x:n.left,y:n.top}),i=s({x:n.right,y:n.bottom});return{top:o.y,left:o.x,bottom:i.y,right:i.x}}function Zc(n){return n===void 0||n===1}function Cd({scale:n,scaleX:s,scaleY:o}){return!Zc(n)||!Zc(s)||!Zc(o)}function zr(n){return Cd(n)||b0(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function b0(n){return dh(n.x)||dh(n.y)}function dh(n){return n&&n!=="0%"}function Ri(n,s,o){const i=n-o,d=s*i;return o+d}function uh(n,s,o,i,d){return d!==void 0&&(n=Ri(n,d,i)),Ri(n,o,i)+s}function Sd(n,s=0,o=1,i,d){n.min=uh(n.min,s,o,i,d),n.max=uh(n.max,s,o,i,d)}function j0(n,{x:s,y:o}){Sd(n.x,s.translate,s.scale,s.originPoint),Sd(n.y,o.translate,o.scale,o.originPoint)}const fh=.999999999999,ph=1.0000000000001;function JN(n,s,o,i=!1){const d=o.length;if(!d)return;s.x=s.y=1;let u,l;for(let p=0;p<d;p++){u=o[p],l=u.projectionDelta;const{visualElement:m}=u.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Bs(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),l&&(s.x*=l.x.scale,s.y*=l.y.scale,j0(n,l)),i&&zr(u.latestValues)&&Bs(n,u.latestValues))}s.x<ph&&s.x>fh&&(s.x=1),s.y<ph&&s.y>fh&&(s.y=1)}function Ps(n,s){n.min=n.min+s,n.max=n.max+s}function mh(n,s,o,i,d=.5){const u=rt(n.min,n.max,d);Sd(n,s,o,u,i)}function Bs(n,s){mh(n.x,s.x,s.scaleX,s.scale,s.originX),mh(n.y,s.y,s.scaleY,s.scale,s.originY)}function w0(n,s){return y0(ZN(n.getBoundingClientRect(),s))}function e5(n,s,o){const i=w0(n,o),{scroll:d}=s;return d&&(Ps(i.x,d.offset.x),Ps(i.y,d.offset.y)),i}const hh=()=>({translate:0,scale:1,origin:0,originPoint:0}),Rs=()=>({x:hh(),y:hh()}),xh=()=>({min:0,max:0}),dt=()=>({x:xh(),y:xh()}),Ed={current:null},k0={current:!1};function t5(){if(k0.current=!0,!!qd)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),s=()=>Ed.current=n.matches;n.addEventListener("change",s),s()}else Ed.current=!1}const n5=new WeakMap;function r5(n,s,o){for(const i in s){const d=s[i],u=o[i];if(Pt(d))n.addValue(i,d);else if(Pt(u))n.addValue(i,Ls(d,{owner:n}));else if(u!==d)if(n.hasValue(i)){const l=n.getValue(i);l.liveStyle===!0?l.jump(d):l.hasAnimated||l.set(d)}else{const l=n.getStaticValue(i);n.addValue(i,Ls(l!==void 0?l:d,{owner:n}))}}for(const i in o)s[i]===void 0&&n.removeValue(i);return s}const gh=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class s5{scrapeMotionValuesFromProps(s,o,i){return{}}constructor({parent:s,props:o,presenceContext:i,reducedMotionConfig:d,blockInitialAnimation:u,visualState:l},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=fu,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Ht.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,et.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=l;this.latestValues=m,this.baseTarget={...m},this.initialValues=o.initial?{...m}:{},this.renderState=g,this.parent=s,this.props=o,this.presenceContext=i,this.depth=s?s.depth+1:0,this.reducedMotionConfig=d,this.options=p,this.blockInitialAnimation=!!u,this.isControllingVariants=Ui(o),this.isVariantNode=l0(o),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:x,...y}=this.scrapeMotionValuesFromProps(o,{},this);for(const v in y){const F=y[v];m[v]!==void 0&&Pt(F)&&F.set(m[v])}}mount(s){this.current=s,n5.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((o,i)=>this.bindToMotionValue(i,o)),k0.current||t5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ed.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),br(this.notifyUpdate),br(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const o=this.features[s];o&&(o.unmount(),o.isMounted=!1)}this.current=null}addChild(s){this.children.add(s),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(s)}removeChild(s){this.children.delete(s),this.enteringChildren&&this.enteringChildren.delete(s)}bindToMotionValue(s,o){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const i=Ks.has(s);i&&this.onBindTransform&&this.onBindTransform();const d=o.on("change",l=>{this.latestValues[s]=l,this.props.onUpdate&&et.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,s,o)),this.valueSubscriptions.set(s,()=>{d(),u&&u(),o.owner&&o.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in $s){const o=$s[s];if(!o)continue;const{isEnabled:i,Feature:d}=o;if(!this.features[s]&&d&&i(this.props)&&(this.features[s]=new d(this)),this.features[s]){const u=this.features[s];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):dt()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,o){this.latestValues[s]=o}update(s,o){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=o;for(let i=0;i<gh.length;i++){const d=gh[i];this.propEventSubscriptions[d]&&(this.propEventSubscriptions[d](),delete this.propEventSubscriptions[d]);const u="on"+d,l=s[u];l&&(this.propEventSubscriptions[d]=this.on(d,l))}this.prevMotionValues=r5(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const o=this.getClosestVariantNode();if(o)return o.variantChildren&&o.variantChildren.add(s),()=>o.variantChildren.delete(s)}addValue(s,o){const i=this.values.get(s);o!==i&&(i&&this.removeValue(s),this.bindToMotionValue(s,o),this.values.set(s,o),this.latestValues[s]=o.get())}removeValue(s){this.values.delete(s);const o=this.valueSubscriptions.get(s);o&&(o(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,o){if(this.props.values&&this.props.values[s])return this.props.values[s];let i=this.values.get(s);return i===void 0&&o!==void 0&&(i=Ls(o===null?void 0:o,{owner:this}),this.addValue(s,i)),i}readValue(s,o){let i=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:this.getBaseTargetFromProps(this.props,s)??this.readValueFromInstance(this.current,s,this.options);return i!=null&&(typeof i=="string"&&(xg(i)||vg(i))?i=parseFloat(i):!gN(i)&&jr.test(o)&&(i=Jg(s,o)),this.setBaseTarget(s,Pt(i)?i.get():i)),Pt(i)?i.get():i}setBaseTarget(s,o){this.baseTarget[s]=o}getBaseTarget(s){const{initial:o}=this.props;let i;if(typeof o=="string"||typeof o=="object"){const u=wu(this.props,o,this.presenceContext?.custom);u&&(i=u[s])}if(o&&i!==void 0)return i;const d=this.getBaseTargetFromProps(this.props,s);return d!==void 0&&!Pt(d)?d:this.initialValues[s]!==void 0&&i===void 0?void 0:this.baseTarget[s]}on(s,o){return this.events[s]||(this.events[s]=new eu),this.events[s].add(o)}notify(s,...o){this.events[s]&&this.events[s].notify(...o)}scheduleRenderMicrotask(){hu.render(this.render)}}class N0 extends s5{constructor(){super(...arguments),this.KeyframeResolver=sN}sortInstanceNodePosition(s,o){return s.compareDocumentPosition(o)&2?1:-1}getBaseTargetFromProps(s,o){return s.style?s.style[o]:void 0}removeValueFromRenderState(s,{vars:o,style:i}){delete o[s],delete i[s]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;Pt(s)&&(this.childSubscription=s.on("change",o=>{this.current&&(this.current.textContent=`${o}`)}))}}function F0(n,{style:s,vars:o},i,d){const u=n.style;let l;for(l in s)u[l]=s[l];d?.applyProjectionStyles(u,i);for(l in o)u.setProperty(l,o[l])}function o5(n){return window.getComputedStyle(n)}class a5 extends N0{constructor(){super(...arguments),this.type="html",this.renderInstance=F0}readValueFromInstance(s,o){if(Ks.has(o))return this.projection?.isProjecting?yd(o):kk(s,o);{const i=o5(s),d=(ru(o)?i.getPropertyValue(o):i[o])||0;return typeof d=="string"?d.trim():d}}measureInstanceViewportBox(s,{transformPagePoint:o}){return w0(s,o)}build(s,o,i){yu(s,o,i.transformTemplate)}scrapeMotionValuesFromProps(s,o,i){return ku(s,o,i)}}const C0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function i5(n,s,o,i){F0(n,s,void 0,i);for(const d in s.attrs)n.setAttribute(C0.has(d)?d:Nu(d),s.attrs[d])}class l5 extends N0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=dt}getBaseTargetFromProps(s,o){return s[o]}readValueFromInstance(s,o){if(Ks.has(o)){const i=Zg(o);return i&&i.default||0}return o=C0.has(o)?o:Nu(o),s.getAttribute(o)}scrapeMotionValuesFromProps(s,o,i){return h0(s,o,i)}build(s,o,i){u0(s,o,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(s,o,i,d){i5(s,o,i,d)}mount(s){this.isSVGTag=p0(s.tagName),super.mount(s)}}const c5=(n,s)=>ju(n)?new l5(s):new a5(s,{allowProjection:n!==b.Fragment});function _s(n,s,o){const i=n.getProps();return wu(i,s,o!==void 0?o:i.custom,n)}const Ad=n=>Array.isArray(n);function d5(n,s,o){n.hasValue(s)?n.getValue(s).set(o):n.addValue(s,Ls(o))}function u5(n){return Ad(n)?n[n.length-1]||0:n}function f5(n,s){const o=_s(n,s);let{transitionEnd:i={},transition:d={},...u}=o||{};u={...u,...i};for(const l in u){const p=u5(u[l]);d5(n,l,p)}}function p5(n){return!!(Pt(n)&&n.add)}function Td(n,s){const o=n.getValue("willChange");if(p5(o))return o.add(s);if(!o&&Gn.WillChange){const i=new Gn.WillChange("auto");n.addValue("willChange",i),i.add(s)}}function S0(n){return n.props[x0]}const m5=n=>n!==null;function h5(n,{repeat:s,repeatType:o="loop"},i){const d=n.filter(m5),u=s&&o!=="loop"&&s%2===1?0:d.length-1;return d[u]}const x5={type:"spring",stiffness:500,damping:25,restSpeed:10},g5=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),v5={type:"keyframes",duration:.8},y5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},b5=(n,{keyframes:s})=>s.length>2?v5:Ks.has(n)?n.startsWith("scale")?g5(s[1]):x5:y5;function j5({when:n,delay:s,delayChildren:o,staggerChildren:i,staggerDirection:d,repeat:u,repeatType:l,repeatDelay:p,from:m,elapsed:g,...x}){return!!Object.keys(x).length}const Fu=(n,s,o,i={},d,u)=>l=>{const p=pu(i,n)||{},m=p.delay||i.delay||0;let{elapsed:g=0}=i;g=g-Cn(m);const x={keyframes:Array.isArray(o)?o:[null,o],ease:"easeOut",velocity:s.getVelocity(),...p,delay:-g,onUpdate:v=>{s.set(v),p.onUpdate&&p.onUpdate(v)},onComplete:()=>{l(),p.onComplete&&p.onComplete()},name:n,motionValue:s,element:u?void 0:d};j5(p)||Object.assign(x,b5(n,x)),x.duration&&(x.duration=Cn(x.duration)),x.repeatDelay&&(x.repeatDelay=Cn(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let y=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(Nd(x),x.delay===0&&(y=!0)),(Gn.instantAnimations||Gn.skipAnimations)&&(y=!0,Nd(x),x.delay=0),x.allowFlatten=!p.type&&!p.ease,y&&!u&&s.get()!==void 0){const v=h5(x.keyframes,p);if(v!==void 0){et.update(()=>{x.onUpdate(v),x.onComplete()});return}}return p.isSync?new uu(x):new Gk(x)};function w5({protectedKeys:n,needsAnimating:s},o){const i=n.hasOwnProperty(o)&&s[o]!==!0;return s[o]=!1,i}function E0(n,s,{delay:o=0,transitionOverride:i,type:d}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:l,...p}=s;i&&(u=i);const m=[],g=d&&n.animationState&&n.animationState.getState()[d];for(const x in p){const y=n.getValue(x,n.latestValues[x]??null),v=p[x];if(v===void 0||g&&w5(g,x))continue;const F={delay:o,...pu(u||{},x)},N=y.get();if(N!==void 0&&!y.isAnimating&&!Array.isArray(v)&&v===N&&!F.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const D=S0(n);if(D){const T=window.MotionHandoffAnimation(D,x,et);T!==null&&(F.startTime=T,j=!0)}}Td(n,x),y.start(Fu(x,y,v,n.shouldReduceMotion&&Xg.has(x)?{type:!1}:F,n,j));const S=y.animation;S&&m.push(S)}return l&&Promise.all(m).then(()=>{et.update(()=>{l&&f5(n,l)})}),m}function A0(n,s,o,i=0,d=1){const u=Array.from(n).sort((g,x)=>g.sortNodePosition(x)).indexOf(s),l=n.size,p=(l-1)*i;return typeof o=="function"?o(u,l):d===1?u*i:p-u*i}function Dd(n,s,o={}){const i=_s(n,s,o.type==="exit"?n.presenceContext?.custom:void 0);let{transition:d=n.getDefaultTransition()||{}}=i||{};o.transitionOverride&&(d=o.transitionOverride);const u=i?()=>Promise.all(E0(n,i,o)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:x,staggerDirection:y}=d;return k5(n,s,m,g,x,y,o)}:()=>Promise.resolve(),{when:p}=d;if(p){const[m,g]=p==="beforeChildren"?[u,l]:[l,u];return m().then(()=>g())}else return Promise.all([u(),l(o.delay)])}function k5(n,s,o=0,i=0,d=0,u=1,l){const p=[];for(const m of n.variantChildren)m.notify("AnimationStart",s),p.push(Dd(m,s,{...l,delay:o+(typeof i=="function"?0:i)+A0(n.variantChildren,m,i,d,u)}).then(()=>m.notify("AnimationComplete",s)));return Promise.all(p)}function N5(n,s,o={}){n.notify("AnimationStart",s);let i;if(Array.isArray(s)){const d=s.map(u=>Dd(n,u,o));i=Promise.all(d)}else if(typeof s=="string")i=Dd(n,s,o);else{const d=typeof s=="function"?_s(n,s,o.custom):s;i=Promise.all(E0(n,d,o))}return i.then(()=>{n.notify("AnimationComplete",s)})}function T0(n,s){if(!Array.isArray(s))return!1;const o=s.length;if(o!==n.length)return!1;for(let i=0;i<o;i++)if(s[i]!==n[i])return!1;return!0}const F5=vu.length;function D0(n){if(!n)return;if(!n.isControllingVariants){const o=n.parent?D0(n.parent)||{}:{};return n.props.initial!==void 0&&(o.initial=n.props.initial),o}const s={};for(let o=0;o<F5;o++){const i=vu[o],d=n.props[i];(Xo(d)||d===!1)&&(s[i]=d)}return s}const C5=[...gu].reverse(),S5=gu.length;function E5(n){return s=>Promise.all(s.map(({animation:o,options:i})=>N5(n,o,i)))}function A5(n){let s=E5(n),o=vh(),i=!0;const d=m=>(g,x)=>{const y=_s(n,x,m==="exit"?n.presenceContext?.custom:void 0);if(y){const{transition:v,transitionEnd:F,...N}=y;g={...g,...N,...F}}return g};function u(m){s=m(n)}function l(m){const{props:g}=n,x=D0(n.parent)||{},y=[],v=new Set;let F={},N=1/0;for(let S=0;S<S5;S++){const D=C5[S],T=o[D],C=g[D]!==void 0?g[D]:x[D],L=Xo(C),B=D===m?T.isActive:null;B===!1&&(N=S);let G=C===x[D]&&C!==g[D]&&L;if(G&&i&&n.manuallyAnimateOnMount&&(G=!1),T.protectedKeys={...F},!T.isActive&&B===null||!C&&!T.prevProp||Vi(C)||typeof C=="boolean")continue;const $=T5(T.prevProp,C);let _=$||D===m&&T.isActive&&!G&&L||S>N&&L,ee=!1;const H=Array.isArray(C)?C:[C];let le=H.reduce(d(D),{});B===!1&&(le={});const{prevResolvedValues:ye={}}=T,Fe={...ye,...le},ke=Y=>{_=!0,v.has(Y)&&(ee=!0,v.delete(Y)),T.needsAnimating[Y]=!0;const R=n.getValue(Y);R&&(R.liveStyle=!1)};for(const Y in Fe){const R=le[Y],k=ye[Y];if(F.hasOwnProperty(Y))continue;let I=!1;Ad(R)&&Ad(k)?I=!T0(R,k):I=R!==k,I?R!=null?ke(Y):v.add(Y):R!==void 0&&v.has(Y)?ke(Y):T.protectedKeys[Y]=!0}T.prevProp=C,T.prevResolvedValues=le,T.isActive&&(F={...F,...le}),i&&n.blockInitialAnimation&&(_=!1);const xe=G&&$;_&&(!xe||ee)&&y.push(...H.map(Y=>{const R={type:D};if(typeof Y=="string"&&i&&!xe&&n.manuallyAnimateOnMount&&n.parent){const{parent:k}=n,I=_s(k,Y);if(k.enteringChildren&&I){const{delayChildren:E}=I.transition||{};R.delay=A0(k.enteringChildren,n,E)}}return{animation:Y,options:R}}))}if(v.size){const S={};if(typeof g.initial!="boolean"){const D=_s(n,Array.isArray(g.initial)?g.initial[0]:g.initial);D&&D.transition&&(S.transition=D.transition)}v.forEach(D=>{const T=n.getBaseTarget(D),C=n.getValue(D);C&&(C.liveStyle=!0),S[D]=T??null}),y.push({animation:S})}let j=!!y.length;return i&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(j=!1),i=!1,j?s(y):Promise.resolve()}function p(m,g){if(o[m].isActive===g)return Promise.resolve();n.variantChildren?.forEach(y=>y.animationState?.setActive(m,g)),o[m].isActive=g;const x=l(m);for(const y in o)o[y].protectedKeys={};return x}return{animateChanges:l,setActive:p,setAnimateFunction:u,getState:()=>o,reset:()=>{o=vh(),i=!0}}}function T5(n,s){return typeof s=="string"?s!==n:Array.isArray(s)?!T0(s,n):!1}function $r(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vh(){return{animate:$r(!0),whileInView:$r(),whileHover:$r(),whileTap:$r(),whileDrag:$r(),whileFocus:$r(),exit:$r()}}class kr{constructor(s){this.isMounted=!1,this.node=s}update(){}}class D5 extends kr{constructor(s){super(s),s.animationState||(s.animationState=A5(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();Vi(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:o}=this.node.prevProps||{};s!==o&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let P5=0;class B5 extends kr{constructor(){super(...arguments),this.id=P5++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:o}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===i)return;const d=this.node.animationState.setActive("exit",!s);o&&!s&&d.then(()=>{o(this.id)})}mount(){const{register:s,onExitComplete:o}=this.node.presenceContext||{};o&&o(this.id),s&&(this.unmount=s(this.id))}unmount(){}}const R5={animation:{Feature:D5},exit:{Feature:B5}};function Qo(n,s,o,i={passive:!0}){return n.addEventListener(s,o,i),()=>n.removeEventListener(s,o)}function na(n){return{point:{x:n.pageX,y:n.pageY}}}const M5=n=>s=>xu(s)&&n(s,na(s));function Oo(n,s,o,i){return Qo(n,s,M5(o),i)}const P0=1e-4,I5=1-P0,_5=1+P0,B0=.01,O5=0-B0,L5=0+B0;function _t(n){return n.max-n.min}function $5(n,s,o){return Math.abs(n-s)<=o}function yh(n,s,o,i=.5){n.origin=i,n.originPoint=rt(s.min,s.max,n.origin),n.scale=_t(o)/_t(s),n.translate=rt(o.min,o.max,n.origin)-n.originPoint,(n.scale>=I5&&n.scale<=_5||isNaN(n.scale))&&(n.scale=1),(n.translate>=O5&&n.translate<=L5||isNaN(n.translate))&&(n.translate=0)}function Lo(n,s,o,i){yh(n.x,s.x,o.x,i?i.originX:void 0),yh(n.y,s.y,o.y,i?i.originY:void 0)}function bh(n,s,o){n.min=o.min+s.min,n.max=n.min+_t(s)}function z5(n,s,o){bh(n.x,s.x,o.x),bh(n.y,s.y,o.y)}function jh(n,s,o){n.min=s.min-o.min,n.max=n.min+_t(s)}function $o(n,s,o){jh(n.x,s.x,o.x),jh(n.y,s.y,o.y)}function sn(n){return[n("x"),n("y")]}const R0=({current:n})=>n?n.ownerDocument.defaultView:null,wh=(n,s)=>Math.abs(n-s);function V5(n,s){const o=wh(n.x,s.x),i=wh(n.y,s.y);return Math.sqrt(o**2+i**2)}class M0{constructor(s,o,{transformPagePoint:i,contextWindow:d=window,dragSnapToOrigin:u=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=ed(this.lastMoveEventInfo,this.history),F=this.startEvent!==null,N=V5(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!F&&!N)return;const{point:j}=v,{timestamp:S}=Ct;this.history.push({...j,timestamp:S});const{onStart:D,onMove:T}=this.handlers;F||(D&&D(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,v)},this.handlePointerMove=(v,F)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Jc(F,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(v,F)=>{this.end();const{onEnd:N,onSessionEnd:j,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=ed(v.type==="pointercancel"?this.lastMoveEventInfo:Jc(F,this.transformPagePoint),this.history);this.startEvent&&N&&N(v,D),j&&j(v,D)},!xu(s))return;this.dragSnapToOrigin=u,this.handlers=o,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=d||window;const p=na(s),m=Jc(p,this.transformPagePoint),{point:g}=m,{timestamp:x}=Ct;this.history=[{...g,timestamp:x}];const{onSessionStart:y}=o;y&&y(s,ed(m,this.history)),this.removeListeners=Jo(Oo(this.contextWindow,"pointermove",this.handlePointerMove),Oo(this.contextWindow,"pointerup",this.handlePointerUp),Oo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),br(this.updatePoint)}}function Jc(n,s){return s?{point:s(n.point)}:n}function kh(n,s){return{x:n.x-s.x,y:n.y-s.y}}function ed({point:n},s){return{point:n,delta:kh(n,I0(s)),offset:kh(n,U5(s)),velocity:W5(s,.1)}}function U5(n){return n[0]}function I0(n){return n[n.length-1]}function W5(n,s){if(n.length<2)return{x:0,y:0};let o=n.length-1,i=null;const d=I0(n);for(;o>=0&&(i=n[o],!(d.timestamp-i.timestamp>Cn(s)));)o--;if(!i)return{x:0,y:0};const u=Sn(d.timestamp-i.timestamp);if(u===0)return{x:0,y:0};const l={x:(d.x-i.x)/u,y:(d.y-i.y)/u};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function H5(n,{min:s,max:o},i){return s!==void 0&&n<s?n=i?rt(s,n,i.min):Math.max(n,s):o!==void 0&&n>o&&(n=i?rt(o,n,i.max):Math.min(n,o)),n}function Nh(n,s,o){return{min:s!==void 0?n.min+s:void 0,max:o!==void 0?n.max+o-(n.max-n.min):void 0}}function G5(n,{top:s,left:o,bottom:i,right:d}){return{x:Nh(n.x,o,d),y:Nh(n.y,s,i)}}function Fh(n,s){let o=s.min-n.min,i=s.max-n.max;return s.max-s.min<n.max-n.min&&([o,i]=[i,o]),{min:o,max:i}}function K5(n,s){return{x:Fh(n.x,s.x),y:Fh(n.y,s.y)}}function q5(n,s){let o=.5;const i=_t(n),d=_t(s);return d>i?o=Go(s.min,s.max-i,n.min):i>d&&(o=Go(n.min,n.max-d,s.min)),Hn(0,1,o)}function X5(n,s){const o={};return s.min!==void 0&&(o.min=s.min-n.min),s.max!==void 0&&(o.max=s.max-n.min),o}const Pd=.35;function Y5(n=Pd){return n===!1?n=0:n===!0&&(n=Pd),{x:Ch(n,"left","right"),y:Ch(n,"top","bottom")}}function Ch(n,s,o){return{min:Sh(n,s),max:Sh(n,o)}}function Sh(n,s){return typeof n=="number"?n:n[s]||0}const Q5=new WeakMap;class Z5{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=dt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=s}start(s,{snapToCursor:o=!1,distanceThreshold:i}={}){const{presenceContext:d}=this.visualElement;if(d&&d.isPresent===!1)return;const u=y=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),o&&this.snapToCursor(na(y).point)},l=(y,v)=>{const{drag:F,dragPropagation:N,onDragStart:j}=this.getProps();if(F&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cN(F),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),sn(D=>{let T=this.getAxisMotionValue(D).get()||0;if(En.test(T)){const{projection:C}=this.visualElement;if(C&&C.layout){const L=C.layout.layoutBox[D];L&&(T=_t(L)*(parseFloat(T)/100))}}this.originPoint[D]=T}),j&&et.postRender(()=>j(y,v)),Td(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},p=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v;const{dragPropagation:F,dragDirectionLock:N,onDirectionLock:j,onDrag:S}=this.getProps();if(!F&&!this.openDragLock)return;const{offset:D}=v;if(N&&this.currentDirection===null){this.currentDirection=J5(D),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",v.point,D),this.updateAxis("y",v.point,D),this.visualElement.render(),S&&S(y,v)},m=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v,this.stop(y,v),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>sn(y=>this.getAnimationState(y)==="paused"&&this.getAxisMotionValue(y).animation?.play()),{dragSnapToOrigin:x}=this.getProps();this.panSession=new M0(s,{onSessionStart:u,onStart:l,onMove:p,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,distanceThreshold:i,contextWindow:R0(this.visualElement)})}stop(s,o){const i=s||this.latestPointerEvent,d=o||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!d||!i)return;const{velocity:l}=d;this.startAnimation(l);const{onDragEnd:p}=this.getProps();p&&et.postRender(()=>p(i,d))}cancel(){this.isDragging=!1;const{projection:s,animationState:o}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),o&&o.setActive("whileDrag",!1)}updateAxis(s,o,i){const{drag:d}=this.getProps();if(!i||!bi(s,d,this.currentDirection))return;const u=this.getAxisMotionValue(s);let l=this.originPoint[s]+i[s];this.constraints&&this.constraints[s]&&(l=H5(l,this.constraints[s],this.elastic[s])),u.set(l)}resolveConstraints(){const{dragConstraints:s,dragElastic:o}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,d=this.constraints;s&&Ds(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&i?this.constraints=G5(i.layoutBox,s):this.constraints=!1,this.elastic=Y5(o),d!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&sn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=X5(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:o}=this.getProps();if(!s||!Ds(s))return!1;const i=s.current,{projection:d}=this.visualElement;if(!d||!d.layout)return!1;const u=e5(i,d.root,this.visualElement.getTransformPagePoint());let l=K5(d.layout.layoutBox,u);if(o){const p=o(QN(l));this.hasMutatedConstraints=!!p,p&&(l=y0(p))}return l}startAnimation(s){const{drag:o,dragMomentum:i,dragElastic:d,dragTransition:u,dragSnapToOrigin:l,onDragTransitionEnd:p}=this.getProps(),m=this.constraints||{},g=sn(x=>{if(!bi(x,o,this.currentDirection))return;let y=m&&m[x]||{};l&&(y={min:0,max:0});const v=d?200:1e6,F=d?40:1e7,N={type:"inertia",velocity:i?s[x]:0,bounceStiffness:v,bounceDamping:F,timeConstant:750,restDelta:1,restSpeed:10,...u,...y};return this.startAxisValueAnimation(x,N)});return Promise.all(g).then(p)}startAxisValueAnimation(s,o){const i=this.getAxisMotionValue(s);return Td(this.visualElement,s),i.start(Fu(s,i,0,o,this.visualElement,!1))}stopAnimation(){sn(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){sn(s=>this.getAxisMotionValue(s).animation?.pause())}getAnimationState(s){return this.getAxisMotionValue(s).animation?.state}getAxisMotionValue(s){const o=`_drag${s.toUpperCase()}`,i=this.visualElement.getProps(),d=i[o];return d||this.visualElement.getValue(s,(i.initial?i.initial[s]:void 0)||0)}snapToCursor(s){sn(o=>{const{drag:i}=this.getProps();if(!bi(o,i,this.currentDirection))return;const{projection:d}=this.visualElement,u=this.getAxisMotionValue(o);if(d&&d.layout){const{min:l,max:p}=d.layout.layoutBox[o];u.set(s[o]-rt(l,p,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:o}=this.getProps(),{projection:i}=this.visualElement;if(!Ds(o)||!i||!this.constraints)return;this.stopAnimation();const d={x:0,y:0};sn(l=>{const p=this.getAxisMotionValue(l);if(p&&this.constraints!==!1){const m=p.get();d[l]=q5({min:m,max:m},this.constraints[l])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),sn(l=>{if(!bi(l,s,null))return;const p=this.getAxisMotionValue(l),{min:m,max:g}=this.constraints[l];p.set(rt(m,g,d[l]))})}addListeners(){if(!this.visualElement.current)return;Q5.set(this.visualElement,this);const s=this.visualElement.current,o=Oo(s,"pointerdown",m=>{const{drag:g,dragListener:x=!0}=this.getProps();g&&x&&this.start(m)}),i=()=>{const{dragConstraints:m}=this.getProps();Ds(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:d}=this.visualElement,u=d.addEventListener("measure",i);d&&!d.layout&&(d.root&&d.root.updateScroll(),d.updateLayout()),et.read(i);const l=Qo(window,"resize",()=>this.scalePositionWithinConstraints()),p=d.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(sn(x=>{const y=this.getAxisMotionValue(x);y&&(this.originPoint[x]+=m[x].translate,y.set(y.get()+m[x].translate))}),this.visualElement.render())}));return()=>{l(),o(),u(),p&&p()}}getProps(){const s=this.visualElement.getProps(),{drag:o=!1,dragDirectionLock:i=!1,dragPropagation:d=!1,dragConstraints:u=!1,dragElastic:l=Pd,dragMomentum:p=!0}=s;return{...s,drag:o,dragDirectionLock:i,dragPropagation:d,dragConstraints:u,dragElastic:l,dragMomentum:p}}}function bi(n,s,o){return(s===!0||s===n)&&(o===null||o===n)}function J5(n,s=10){let o=null;return Math.abs(n.y)>s?o="y":Math.abs(n.x)>s&&(o="x"),o}class eF extends kr{constructor(s){super(s),this.removeGroupControls=on,this.removeListeners=on,this.controls=new Z5(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||on}unmount(){this.removeGroupControls(),this.removeListeners()}}const Eh=n=>(s,o)=>{n&&et.postRender(()=>n(s,o))};class tF extends kr{constructor(){super(...arguments),this.removePointerDownListener=on}onPointerDown(s){this.session=new M0(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:R0(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:o,onPan:i,onPanEnd:d}=this.node.getProps();return{onSessionStart:Eh(s),onStart:Eh(o),onMove:i,onEnd:(u,l)=>{delete this.session,d&&et.postRender(()=>d(u,l))}}}mount(){this.removePointerDownListener=Oo(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ci={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ah(n,s){return s.max===s.min?0:n/(s.max-s.min)*100}const Bo={correct:(n,s)=>{if(!s.target)return n;if(typeof n=="string")if(Te.test(n))n=parseFloat(n);else return n;const o=Ah(n,s.target.x),i=Ah(n,s.target.y);return`${o}% ${i}%`}},nF={correct:(n,{treeScale:s,projectionDelta:o})=>{const i=n,d=jr.parse(n);if(d.length>5)return i;const u=jr.createTransformer(n),l=typeof d[0]!="number"?1:0,p=o.x.scale*s.x,m=o.y.scale*s.y;d[0+l]/=p,d[1+l]/=m;const g=rt(p,m,.5);return typeof d[2+l]=="number"&&(d[2+l]/=g),typeof d[3+l]=="number"&&(d[3+l]/=g),u(d)}};let td=!1;class rF extends b.Component{componentDidMount(){const{visualElement:s,layoutGroup:o,switchLayoutGroup:i,layoutId:d}=this.props,{projection:u}=s;FN(sF),u&&(o.group&&o.group.add(u),i&&i.register&&d&&i.register(u),td&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Ci.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:o,visualElement:i,drag:d,isPresent:u}=this.props,{projection:l}=i;return l&&(l.isPresent=u,td=!0,d||s.layoutDependency!==o||o===void 0||s.isPresent!==u?l.willUpdate():this.safeToRemove(),s.isPresent!==u&&(u?l.promote():l.relegate()||et.postRender(()=>{const p=l.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),hu.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:o,switchLayoutGroup:i}=this.props,{projection:d}=s;td=!0,d&&(d.scheduleCheckAfterUnmount(),o&&o.group&&o.group.remove(d),i&&i.deregister&&i.deregister(d))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function _0(n){const[s,o]=vN(),i=b.useContext(hg);return t.jsx(rF,{...n,layoutGroup:i,switchLayoutGroup:b.useContext(g0),isPresent:s,safeToRemove:o})}const sF={borderRadius:{...Bo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bo,borderTopRightRadius:Bo,borderBottomLeftRadius:Bo,borderBottomRightRadius:Bo,boxShadow:nF};function oF(n,s,o){const i=Pt(n)?n:Ls(n);return i.start(Fu("",i,s,o)),i.animation}const aF=(n,s)=>n.depth-s.depth;class iF{constructor(){this.children=[],this.isDirty=!1}add(s){Yd(this.children,s),this.isDirty=!0}remove(s){Qd(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(aF),this.isDirty=!1,this.children.forEach(s)}}function lF(n,s){const o=Ht.now(),i=({timestamp:d})=>{const u=d-o;u>=s&&(br(i),n(u-s))};return et.setup(i,!0),()=>br(i)}const O0=["TopLeft","TopRight","BottomLeft","BottomRight"],cF=O0.length,Th=n=>typeof n=="string"?parseFloat(n):n,Dh=n=>typeof n=="number"||Te.test(n);function dF(n,s,o,i,d,u){d?(n.opacity=rt(0,o.opacity??1,uF(i)),n.opacityExit=rt(s.opacity??1,0,fF(i))):u&&(n.opacity=rt(s.opacity??1,o.opacity??1,i));for(let l=0;l<cF;l++){const p=`border${O0[l]}Radius`;let m=Ph(s,p),g=Ph(o,p);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||Dh(m)===Dh(g)?(n[p]=Math.max(rt(Th(m),Th(g),i),0),(En.test(g)||En.test(m))&&(n[p]+="%")):n[p]=g}(s.rotate||o.rotate)&&(n.rotate=rt(s.rotate||0,o.rotate||0,i))}function Ph(n,s){return n[s]!==void 0?n[s]:n.borderRadius}const uF=L0(0,.5,Cg),fF=L0(.5,.95,on);function L0(n,s,o){return i=>i<n?0:i>s?1:o(Go(n,s,i))}function Bh(n,s){n.min=s.min,n.max=s.max}function rn(n,s){Bh(n.x,s.x),Bh(n.y,s.y)}function Rh(n,s){n.translate=s.translate,n.scale=s.scale,n.originPoint=s.originPoint,n.origin=s.origin}function Mh(n,s,o,i,d){return n-=s,n=Ri(n,1/o,i),d!==void 0&&(n=Ri(n,1/d,i)),n}function pF(n,s=0,o=1,i=.5,d,u=n,l=n){if(En.test(s)&&(s=parseFloat(s),s=rt(l.min,l.max,s/100)-l.min),typeof s!="number")return;let p=rt(u.min,u.max,i);n===u&&(p-=s),n.min=Mh(n.min,s,o,p,d),n.max=Mh(n.max,s,o,p,d)}function Ih(n,s,[o,i,d],u,l){pF(n,s[o],s[i],s[d],s.scale,u,l)}const mF=["x","scaleX","originX"],hF=["y","scaleY","originY"];function _h(n,s,o,i){Ih(n.x,s,mF,o?o.x:void 0,i?i.x:void 0),Ih(n.y,s,hF,o?o.y:void 0,i?i.y:void 0)}function Oh(n){return n.translate===0&&n.scale===1}function $0(n){return Oh(n.x)&&Oh(n.y)}function Lh(n,s){return n.min===s.min&&n.max===s.max}function xF(n,s){return Lh(n.x,s.x)&&Lh(n.y,s.y)}function $h(n,s){return Math.round(n.min)===Math.round(s.min)&&Math.round(n.max)===Math.round(s.max)}function z0(n,s){return $h(n.x,s.x)&&$h(n.y,s.y)}function zh(n){return _t(n.x)/_t(n.y)}function Vh(n,s){return n.translate===s.translate&&n.scale===s.scale&&n.originPoint===s.originPoint}class gF{constructor(){this.members=[]}add(s){Yd(this.members,s),s.scheduleRender()}remove(s){if(Qd(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const o=this.members[this.members.length-1];o&&this.promote(o)}}relegate(s){const o=this.members.findIndex(d=>s===d);if(o===0)return!1;let i;for(let d=o;d>=0;d--){const u=this.members[d];if(u.isPresent!==!1){i=u;break}}return i?(this.promote(i),!0):!1}promote(s,o){const i=this.lead;if(s!==i&&(this.prevLead=i,this.lead=s,s.show(),i)){i.instance&&i.scheduleRender(),s.scheduleRender(),s.resumeFrom=i,o&&(s.resumeFrom.preserveOpacity=!0),i.snapshot&&(s.snapshot=i.snapshot,s.snapshot.latestValues=i.animationValues||i.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:d}=s.options;d===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:o,resumingFrom:i}=s;o.onExitComplete&&o.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vF(n,s,o){let i="";const d=n.x.translate/s.x,u=n.y.translate/s.y,l=o?.z||0;if((d||u||l)&&(i=`translate3d(${d}px, ${u}px, ${l}px) `),(s.x!==1||s.y!==1)&&(i+=`scale(${1/s.x}, ${1/s.y}) `),o){const{transformPerspective:g,rotate:x,rotateX:y,rotateY:v,skewX:F,skewY:N}=o;g&&(i=`perspective(${g}px) ${i}`),x&&(i+=`rotate(${x}deg) `),y&&(i+=`rotateX(${y}deg) `),v&&(i+=`rotateY(${v}deg) `),F&&(i+=`skewX(${F}deg) `),N&&(i+=`skewY(${N}deg) `)}const p=n.x.scale*s.x,m=n.y.scale*s.y;return(p!==1||m!==1)&&(i+=`scale(${p}, ${m})`),i||"none"}const nd=["","X","Y","Z"],yF=1e3;let bF=0;function rd(n,s,o,i){const{latestValues:d}=s;d[n]&&(o[n]=d[n],s.setStaticValue(n,0),i&&(i[n]=0))}function V0(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:s}=n.options;if(!s)return;const o=S0(s);if(window.MotionHasOptimisedAnimation(o,"transform")){const{layout:d,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(o,"transform",et,!(d||u))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&V0(i)}function U0({attachResizeListener:n,defaultParent:s,measureScroll:o,checkIsScrollRoot:i,resetTransform:d}){return class{constructor(l={},p=s?.()){this.id=bF++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(kF),this.nodes.forEach(SF),this.nodes.forEach(EF),this.nodes.forEach(NF)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new iF)}addEventListener(l,p){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new eu),this.eventHandlers.get(l).add(p)}notifyListeners(l,...p){const m=this.eventHandlers.get(l);m&&m.notify(...p)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=s0(l)&&!hN(l),this.instance=l;const{layoutId:p,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||p)&&(this.isLayoutDirty=!0),n){let x,y=0;const v=()=>this.root.updateBlockedByResize=!1;et.read(()=>{y=window.innerWidth}),n(l,()=>{const F=window.innerWidth;F!==y&&(y=F,this.root.updateBlockedByResize=!0,x&&x(),x=lF(v,250),Ci.hasAnimatedSinceResize&&(Ci.hasAnimatedSinceResize=!1,this.nodes.forEach(Hh)))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&g&&(p||m)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:y,hasRelativeLayoutChanged:v,layout:F})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||g.getDefaultTransition()||BF,{onLayoutAnimationStart:j,onLayoutAnimationComplete:S}=g.getProps(),D=!this.targetLayout||!z0(this.targetLayout,F),T=!y&&v;if(this.options.layoutRoot||this.resumeFrom||T||y&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...pu(N,"layout"),onPlay:j,onComplete:S};(g.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(x,T)}else y||Hh(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=F})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),br(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(AF),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&V0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const y=this.path[x];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:p,layout:m}=this.options;if(p===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Uh);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Wh);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(CF),this.nodes.forEach(jF),this.nodes.forEach(wF)):this.nodes.forEach(Wh),this.clearAllSnapshots();const p=Ht.now();Ct.delta=Hn(0,1e3/60,p-Ct.timestamp),Ct.timestamp=p,Ct.isProcessing=!0,Hc.update.process(Ct),Hc.preRender.process(Ct),Hc.render.process(Ct),Ct.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hu.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FF),this.sharedNodes.forEach(TF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_t(this.snapshot.measuredBox.x)&&!_t(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=dt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(p=!1),p&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:m,offset:o(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!d)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!$0(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,x=g!==this.prevTransformTemplateValue;l&&this.instance&&(p||zr(this.latestValues)||x)&&(d(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const p=this.measurePageBox();let m=this.removeElementScroll(p);return l&&(m=this.removeTransform(m)),RF(m),{animationId:this.root.animationId,measuredBox:p,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return dt();const p=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(MF))){const{scroll:g}=this.root;g&&(Ps(p.x,g.offset.x),Ps(p.y,g.offset.y))}return p}removeElementScroll(l){const p=dt();if(rn(p,l),this.scroll?.wasRoot)return p;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:x,options:y}=g;g!==this.root&&x&&y.layoutScroll&&(x.wasRoot&&rn(p,l),Ps(p.x,x.offset.x),Ps(p.y,x.offset.y))}return p}applyTransform(l,p=!1){const m=dt();rn(m,l);for(let g=0;g<this.path.length;g++){const x=this.path[g];!p&&x.options.layoutScroll&&x.scroll&&x!==x.root&&Bs(m,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),zr(x.latestValues)&&Bs(m,x.latestValues)}return zr(this.latestValues)&&Bs(m,this.latestValues),m}removeTransform(l){const p=dt();rn(p,l);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!zr(g.latestValues))continue;Cd(g.latestValues)&&g.updateSnapshot();const x=dt(),y=g.measurePageBox();rn(x,y),_h(p,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,x)}return zr(this.latestValues)&&_h(p,this.latestValues),p}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ct.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==p;if(!(l||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:y}=this.options;if(!(!this.layout||!(x||y))){if(this.resolvedRelativeTargetAt=Ct.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dt(),this.relativeTargetOrigin=dt(),$o(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),rn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=dt(),this.targetWithTransforms=dt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),z5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rn(this.target,this.layout.layoutBox),j0(this.target,this.targetDelta)):rn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dt(),this.relativeTargetOrigin=dt(),$o(this.relativeTargetOrigin,this.target,v.target),rn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Cd(this.parent.latestValues)||b0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),p=!!this.resumingFrom||this!==l;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Ct.timestamp&&(m=!1),m)return;const{layout:g,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||x))return;rn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;JN(this.layoutCorrected,this.treeScale,this.path,p),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=dt());const{target:F}=l;if(!F){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Rh(this.prevProjectionDelta.x,this.projectionDelta.x),Rh(this.prevProjectionDelta.y,this.projectionDelta.y)),Lo(this.projectionDelta,this.layoutCorrected,F,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!Vh(this.projectionDelta.x,this.prevProjectionDelta.x)||!Vh(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",F))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Rs(),this.projectionDelta=Rs(),this.projectionDeltaWithTransform=Rs()}setAnimationOrigin(l,p=!1){const m=this.snapshot,g=m?m.latestValues:{},x={...this.latestValues},y=Rs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const v=dt(),F=m?m.source:void 0,N=this.layout?this.layout.source:void 0,j=F!==N,S=this.getStack(),D=!S||S.members.length<=1,T=!!(j&&!D&&this.options.crossfade===!0&&!this.path.some(PF));this.animationProgress=0;let C;this.mixTargetDelta=L=>{const B=L/1e3;Gh(y.x,l.x,B),Gh(y.y,l.y,B),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($o(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),DF(this.relativeTarget,this.relativeTargetOrigin,v,B),C&&xF(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=dt()),rn(C,this.relativeTarget)),j&&(this.animationValues=x,dF(x,g,this.latestValues,B,T,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(br(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{Ci.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ls(0)),this.currentAnimation=oF(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),l.onUpdate&&l.onUpdate(p)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(yF),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:p,target:m,layout:g,latestValues:x}=l;if(!(!p||!m||!g)){if(this!==l&&this.layout&&g&&W0(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||dt();const y=_t(this.layout.layoutBox.x);m.x.min=l.target.x.min,m.x.max=m.x.min+y;const v=_t(this.layout.layoutBox.y);m.y.min=l.target.y.min,m.y.max=m.y.min+v}rn(p,m),Bs(p,x),Lo(this.projectionDeltaWithTransform,this.layoutCorrected,p,x)}}registerSharedNode(l,p){this.sharedNodes.has(l)||this.sharedNodes.set(l,new gF),this.sharedNodes.get(l).add(p);const g=p.options.initialPromotionConfig;p.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(p):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:p,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),l&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let p=!1;const{latestValues:m}=l;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(p=!0),!p)return;const g={};m.z&&rd("z",l,g,this.animationValues);for(let x=0;x<nd.length;x++)rd(`rotate${nd[x]}`,l,g,this.animationValues),rd(`skew${nd[x]}`,l,g,this.animationValues);l.render();for(const x in g)l.setStaticValue(x,g[x]),this.animationValues&&(this.animationValues[x]=g[x]);l.scheduleRender()}applyProjectionStyles(l,p){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Fi(p?.pointerEvents)||"",l.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Fi(p?.pointerEvents)||""),this.hasProjected&&!zr(this.latestValues)&&(l.transform=m?m({},""):"none",this.hasProjected=!1);return}l.visibility="";const x=g.animationValues||g.latestValues;this.applyTransformsToTarget();let y=vF(this.projectionDeltaWithTransform,this.treeScale,x);m&&(y=m(x,y)),l.transform=y;const{x:v,y:F}=this.projectionDelta;l.transformOrigin=`${v.origin*100}% ${F.origin*100}% 0`,g.animationValues?l.opacity=g===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:l.opacity=g===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const N in Yo){if(x[N]===void 0)continue;const{correct:j,applyTo:S,isCSSVariable:D}=Yo[N],T=y==="none"?x[N]:j(x[N],g);if(S){const C=S.length;for(let L=0;L<C;L++)l[S[L]]=T}else D?this.options.visualElement.renderState.vars[N]=T:l[N]=T}this.options.layoutId&&(l.pointerEvents=g===this?Fi(p?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(Uh),this.root.sharedNodes.clear()}}}function jF(n){n.updateLayout()}function wF(n){const s=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&s&&n.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:i}=n.layout,{animationType:d}=n.options,u=s.source!==n.layout.source;d==="size"?sn(x=>{const y=u?s.measuredBox[x]:s.layoutBox[x],v=_t(y);y.min=o[x].min,y.max=y.min+v}):W0(d,s.layoutBox,o)&&sn(x=>{const y=u?s.measuredBox[x]:s.layoutBox[x],v=_t(o[x]);y.max=y.min+v,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[x].max=n.relativeTarget[x].min+v)});const l=Rs();Lo(l,o,s.layoutBox);const p=Rs();u?Lo(p,n.applyTransform(i,!0),s.measuredBox):Lo(p,o,s.layoutBox);const m=!$0(l);let g=!1;if(!n.resumeFrom){const x=n.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:y,layout:v}=x;if(y&&v){const F=dt();$o(F,s.layoutBox,y.layoutBox);const N=dt();$o(N,o,v.layoutBox),z0(F,N)||(g=!0),x.options.layoutRoot&&(n.relativeTarget=N,n.relativeTargetOrigin=F,n.relativeParent=x)}}}n.notifyListeners("didUpdate",{layout:o,snapshot:s,delta:p,layoutDelta:l,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:o}=n.options;o&&o()}n.options.transition=void 0}function kF(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function NF(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function FF(n){n.clearSnapshot()}function Uh(n){n.clearMeasurements()}function Wh(n){n.isLayoutDirty=!1}function CF(n){const{visualElement:s}=n.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),n.resetTransform()}function Hh(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function SF(n){n.resolveTargetDelta()}function EF(n){n.calcProjection()}function AF(n){n.resetSkewAndRotation()}function TF(n){n.removeLeadSnapshot()}function Gh(n,s,o){n.translate=rt(s.translate,0,o),n.scale=rt(s.scale,1,o),n.origin=s.origin,n.originPoint=s.originPoint}function Kh(n,s,o,i){n.min=rt(s.min,o.min,i),n.max=rt(s.max,o.max,i)}function DF(n,s,o,i){Kh(n.x,s.x,o.x,i),Kh(n.y,s.y,o.y,i)}function PF(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const BF={duration:.45,ease:[.4,0,.1,1]},qh=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Xh=qh("applewebkit/")&&!qh("chrome/")?Math.round:on;function Yh(n){n.min=Xh(n.min),n.max=Xh(n.max)}function RF(n){Yh(n.x),Yh(n.y)}function W0(n,s,o){return n==="position"||n==="preserve-aspect"&&!$5(zh(s),zh(o),.2)}function MF(n){return n!==n.root&&n.scroll?.wasRoot}const IF=U0({attachResizeListener:(n,s)=>Qo(n,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sd={current:void 0},H0=U0({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!sd.current){const n=new IF({});n.mount(window),n.setOptions({layoutScroll:!0}),sd.current=n}return sd.current},resetTransform:(n,s)=>{n.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),_F={pan:{Feature:tF},drag:{Feature:eF,ProjectionNode:H0,MeasureLayout:_0}};function Qh(n,s,o){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",o==="Start");const d="onHover"+o,u=i[d];u&&et.postRender(()=>u(s,na(s)))}class OF extends kr{mount(){const{current:s}=this.node;s&&(this.unmount=dN(s,(o,i)=>(Qh(this.node,i,"Start"),d=>Qh(this.node,d,"End"))))}unmount(){}}class LF extends kr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jo(Qo(this.node.current,"focus",()=>this.onFocus()),Qo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Zh(n,s,o){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",o==="Start");const d="onTap"+(o==="End"?"":o),u=i[d];u&&et.postRender(()=>u(s,na(s)))}class $F extends kr{mount(){const{current:s}=this.node;s&&(this.unmount=mN(s,(o,i)=>(Zh(this.node,i,"Start"),(d,{success:u})=>Zh(this.node,d,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Bd=new WeakMap,od=new WeakMap,zF=n=>{const s=Bd.get(n.target);s&&s(n)},VF=n=>{n.forEach(zF)};function UF({root:n,...s}){const o=n||document;od.has(o)||od.set(o,{});const i=od.get(o),d=JSON.stringify(s);return i[d]||(i[d]=new IntersectionObserver(VF,{root:n,...s})),i[d]}function WF(n,s,o){const i=UF(s);return Bd.set(n,o),i.observe(n),()=>{Bd.delete(n),i.unobserve(n)}}const HF={some:0,all:1};class GF extends kr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:o,margin:i,amount:d="some",once:u}=s,l={root:o?o.current:void 0,rootMargin:i,threshold:typeof d=="number"?d:HF[d]},p=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:x,onViewportLeave:y}=this.node.getProps(),v=g?x:y;v&&v(m)};return WF(this.node.current,l,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:o}=this.node;["amount","margin","root"].some(KF(s,o))&&this.startObserver()}unmount(){}}function KF({viewport:n={}},{viewport:s={}}={}){return o=>n[o]!==s[o]}const qF={inView:{Feature:GF},tap:{Feature:$F},focus:{Feature:LF},hover:{Feature:OF}},XF={layout:{ProjectionNode:H0,MeasureLayout:_0}},YF={...R5,...qF,..._F,...XF},Zo=YN(YF,c5),QF="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function Kn(n){const[s,o]=b.useState(!1),i=()=>{o(!0)},{src:d,alt:u,style:l,className:p,...m}=n;return s?t.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${p??""}`,style:l,children:t.jsx("div",{className:"flex items-center justify-center w-full h-full",children:t.jsx("img",{src:QF,alt:"Error loading image",...m,"data-original-url":d})})}):t.jsx("img",{src:d,alt:u,className:p,style:l,...m,onError:i})}function ZF({cases:n,onResult:s,isSpinning:o,onSpinComplete:i,hasSpun:d}){const[u,l]=b.useState(0),[p,m]=b.useState(null);if(!n||n.length===0)return t.jsx("div",{className:"relative w-full h-48 overflow-hidden rounded-xl bg-surface border border-border flex items-center justify-center",children:t.jsx("div",{className:"text-muted-foreground",children:"Загрузка кейсов..."})});const g=S=>{try{return new URL(S),S.startsWith("http://")||S.startsWith("https://")||S.startsWith("data:")}catch{return!1}},x=({src:S,className:D="",style:T={}})=>g(S)?t.jsx(Kn,{src:S,alt:"Case image",className:`${D} object-cover`,style:T}):t.jsx("div",{className:`flex items-center justify-center ${D}`,style:T,children:t.jsx("span",{className:"text-3xl",children:S})}),y=12,v=[];for(let S=0;S<y;S++)v.push(...n);const F=100,j=300/2;return b.useEffect(()=>{if(o&&n.length>0){const S=Math.floor(Math.random()*n.length),D=n[S];m(D);const $=-((Math.floor(y/2)*n.length+S)*F-j+F/2)-n.length*F*3;l($),setTimeout(()=>{s({selectedCase:D,animationDuration:5e3}),i()},5e3)}},[o,n,s,i,j,F,y]),t.jsxs("div",{className:"relative w-full h-48 overflow-hidden rounded-xl bg-surface border border-border",children:[t.jsxs("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-0.5 h-full bg-primary z-20",children:[t.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2",children:t.jsx("div",{className:"w-0 h-0 border-l-3 border-r-3 border-b-8 border-transparent border-b-primary",style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.3))"}})}),t.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2",children:t.jsx("div",{className:"w-0 h-0 border-l-3 border-r-3 border-t-8 border-transparent border-t-primary",style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.3))"}})})]}),t.jsx("div",{className:"absolute inset-0 flex items-center overflow-hidden",children:t.jsx(Zo.div,{className:"flex items-start h-full",style:{width:v.length*F,x:d?u:0,paddingTop:"16px"},animate:{x:o||d?u:0},transition:{duration:o?5:0,ease:o?[.23,1,.32,1]:"linear"},initial:{x:0},children:v.map((S,D)=>t.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center",style:{width:F,height:"160px"},children:[t.jsx("div",{className:"w-20 h-20 rounded-lg border-2 transition-all duration-200 overflow-hidden",style:{backgroundColor:S.color+"20",borderColor:S.color,boxShadow:`0 4px 8px ${S.color}30`},children:t.jsx(x,{src:S.image,className:"w-full h-full"})}),t.jsx("div",{className:"text-xs text-center font-medium text-foreground px-1 mt-2",style:{height:"32px",display:"flex",alignItems:"center",justifyContent:"center",lineHeight:"1.2"},children:S.name})]},`${S.id}-${D}`))})}),t.jsx("div",{className:"absolute inset-y-0 left-0 w-16 bg-gradient-to-r from-surface via-surface/80 to-transparent pointer-events-none z-10"}),t.jsx("div",{className:"absolute inset-y-0 right-0 w-16 bg-gradient-to-l from-surface via-surface/80 to-transparent pointer-events-none z-10"})]})}function JF({prizes:n,onResult:s,isSpinning:o,onSpinComplete:i,hasSpun:d}){const[u,l]=b.useState(0),[p,m]=b.useState(null);if(!n||n.length===0)return t.jsx("div",{className:"relative w-full h-48 overflow-hidden rounded-xl bg-surface border border-border flex items-center justify-center",children:t.jsx("div",{className:"text-muted-foreground",children:"Загрузка призов..."})});const g=D=>{try{return new URL(D),D.startsWith("http://")||D.startsWith("https://")||D.startsWith("data:")}catch{return!1}},x=({src:D,className:T="",style:C={}})=>g(D)?t.jsx(Kn,{src:D,alt:"Prize image",className:`${T} object-cover`,style:C}):t.jsx("div",{className:`flex items-center justify-center ${T}`,style:C,children:t.jsx("span",{className:"text-3xl",children:D})}),y=()=>{const D=n.reduce((C,L)=>C+L.dropChance,0);let T=Math.random()*D;for(const C of n)if(T-=C.dropChance,T<=0)return C;return n[n.length-1]},v=12,F=[];for(let D=0;D<v;D++)F.push(...n);const N=100,S=300/2;return b.useEffect(()=>{if(o&&n.length>0){const D=y();m(D);const T=Math.floor(v/2),C=n.findIndex(ee=>ee.id===D.id),_=-((T*n.length+C)*N-S+N/2)-n.length*N*3;l(_),setTimeout(()=>{s({selectedPrize:D,animationDuration:5e3}),i()},5e3)}},[o,n,s,i,S,N,v]),t.jsxs("div",{className:"relative w-full h-48 overflow-hidden rounded-xl bg-surface border border-border",children:[t.jsxs("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-0.5 h-full bg-primary z-20",children:[t.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2",children:t.jsx("div",{className:"w-0 h-0 border-l-3 border-r-3 border-b-8 border-transparent border-b-primary",style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.3))"}})}),t.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2",children:t.jsx("div",{className:"w-0 h-0 border-l-3 border-r-3 border-t-8 border-transparent border-t-primary",style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.3))"}})})]}),t.jsx("div",{className:"absolute inset-0 flex items-center overflow-hidden",children:t.jsx(Zo.div,{className:"flex items-start h-full",style:{width:F.length*N,x:d?u:0,paddingTop:"16px"},animate:{x:o||d?u:0},transition:{duration:o?5:0,ease:o?[.23,1,.32,1]:"linear"},initial:{x:0},children:F.map((D,T)=>t.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center",style:{width:N,height:"160px"},children:[t.jsx("div",{className:"w-20 h-20 rounded-lg border-2 transition-all duration-200 overflow-hidden",style:{backgroundColor:D.color+"20",borderColor:D.color,boxShadow:`0 4px 8px ${D.color}30`},children:t.jsx(x,{src:D.image,className:"w-full h-full"})}),t.jsx("div",{className:"text-xs text-center font-medium text-foreground px-1 mt-2",style:{height:"32px",display:"flex",alignItems:"center",justifyContent:"center",lineHeight:"1.2"},children:D.name}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:[D.dropChance,"%"]})]},`${D.id}-${T}`))})}),t.jsx("div",{className:"absolute inset-y-0 left-0 w-16 bg-gradient-to-r from-surface via-surface/80 to-transparent pointer-events-none z-10"}),t.jsx("div",{className:"absolute inset-y-0 right-0 w-16 bg-gradient-to-l from-surface via-surface/80 to-transparent pointer-events-none z-10"})]})}function zo({isOpen:n,onClose:s,title:o,children:i,actions:d,theme:u="light"}){return b.useEffect(()=>{if(!n)return;const l=p=>{p.key==="Escape"&&s&&s()};return document.addEventListener("keydown",l),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",l),document.body.style.overflow="unset"}},[n,s]),n?t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0",style:{background:"rgba(0, 0, 0, 0.45)",backdropFilter:"blur(4px)",WebkitBackdropFilter:"blur(4px)"},onClick:s||(()=>{})}),t.jsxs("div",{className:"relative w-full max-w-[90%] mx-4",style:{backgroundColor:u==="dark"?"#161A22":"#FFFFFF",opacity:"1",borderRadius:"16px",border:u==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF",boxShadow:u==="dark"?"0 16px 48px rgba(0, 0, 0, 0.6)":"0 16px 48px rgba(0, 0, 0, 0.25)",padding:"16px",minWidth:"280px",maxHeight:"80vh",overflow:"hidden",backdropFilter:"none",WebkitBackdropFilter:"none"},onClick:l=>l.stopPropagation(),children:[o&&t.jsx("div",{className:"flex items-center justify-center mb-3",children:t.jsx("h3",{className:"text-lg font-medium text-center",style:{color:u==="dark"?"#E8ECF2":"#0F172A"},children:o})}),t.jsx("div",{style:{marginBottom:d?"12px":"0",maxHeight:o?"calc(80vh - 100px)":"calc(80vh - 60px)",overflow:"auto"},children:i}),d&&t.jsx("div",{className:"flex justify-end gap-3",children:d})]})]}):null}const eC=[{id:"ach1",title:"Первые шаги",description:"Выполните первую задачу",category:"general",rarity:"common",requirements:{type:"tasks_completed",target:1,current:0},reward:{type:"coins",amount:100},status:"available",isActive:!0,conditions:["Выполнить любую задачу"]},{id:"ach2",title:"Трудолюбивый",description:"Выполните 10 задач",category:"tasks",rarity:"rare",requirements:{type:"tasks_completed",target:10,current:0},reward:{type:"experience",amount:500},status:"locked",isActive:!0,conditions:["Выполнить 10 задач любой сложности"]}],tC=[{id:"shop1",name:"Бонус опыта 2x",price:500,description:"Удваивает получаемый опыт на 24 часа",category:"bonus",isActive:!0,stock:50,emoji:"⚡"},{id:"shop2",name:"VIP статус",price:2e3,description:"Расширенные привилегии на месяц",category:"privilege",isActive:!0,stock:10,emoji:"👑"}],nC=[],rC=[{id:"task1",title:"Создать новый компонент",description:"Разработать переиспользуемый компонент для интерфейса",reward:300,rewardType:"coins",deadline:"2024-01-25T18:00:00Z",category:"individual",status:"active",assignedTo:"current_user",createdBy:"admin",createdAt:"2024-01-20T09:00:00Z",isPublished:!0}],Es=[{id:"prize1",name:"50 монет",image:"🪙",rarity:"common",color:"#94A3B8",value:50,dropChance:40,description:"Небольшое количество монет",type:"coins"},{id:"prize2",name:"100 опыта",image:"⭐",rarity:"common",color:"#94A3B8",value:100,dropChance:30,description:"Немного опыта для прогресса",type:"experience"},{id:"prize3",name:"Базовый усилитель",image:"🔋",rarity:"common",color:"#94A3B8",value:75,dropChance:20,description:"Простой усилитель характеристик",type:"item"},{id:"prize4",name:"200 монет",image:"💰",rarity:"rare",color:"#3B82F6",value:200,dropChance:25,description:"Хорошее количество монет",type:"coins"},{id:"prize5",name:"300 опыта",image:"✨",rarity:"rare",color:"#3B82F6",value:300,dropChance:20,description:"Заметное количество опыта",type:"experience"},{id:"prize6",name:"Редкий артефакт",image:"🔮",rarity:"rare",color:"#3B82F6",value:250,dropChance:15,description:"Ценный артефакт с особыми свойствами",type:"item"},{id:"prize7",name:"500 монет",image:"💎",rarity:"epic",color:"#8B5CF6",value:500,dropChance:15,description:"Внушительная сумма монет",type:"coins"},{id:"prize8",name:"750 опыта",image:"🌟",rarity:"epic",color:"#8B5CF6",value:750,dropChance:10,description:"Большое количество опыта",type:"experience"},{id:"prize9",name:"Эпический амулет",image:"🏺",rarity:"epic",color:"#8B5CF6",value:600,dropChance:8,description:"Мощный амулет с уникальными способностями",type:"item"},{id:"prize10",name:"1000 монет",image:"👑",rarity:"legendary",color:"#F59E0B",value:1e3,dropChance:4,description:"Огромная сумма монет",type:"coins"},{id:"prize11",name:"1500 опыта",image:"💫",rarity:"legendary",color:"#F59E0B",value:1500,dropChance:3,description:"Колоссальное количество опыта",type:"experience"},{id:"prize12",name:"Легендарное оружие",image:"⚔️",rarity:"legendary",color:"#F59E0B",value:1200,dropChance:2,description:"Легендарное оружие невероятной силы",type:"item"},{id:"prize13",name:"2500 монет",image:"🏆",rarity:"mythic",color:"#EF4444",value:2500,dropChance:.8,description:"Мифическое богатство",type:"coins"},{id:"prize14",name:"3000 опыта",image:"🔥",rarity:"mythic",color:"#EF4444",value:3e3,dropChance:.5,description:"Божественное количество опыта",type:"experience"},{id:"prize15",name:"Мифический артефакт",image:"🗿",rarity:"mythic",color:"#EF4444",value:2e3,dropChance:.2,description:"Артефакт древних богов",type:"item"}],sC=()=>{const n=Es.filter(u=>u.rarity==="common"),s=Es.filter(u=>u.rarity==="common"||u.rarity==="rare"),o=Es.filter(u=>u.rarity==="rare"||u.rarity==="epic"),i=Es.filter(u=>u.rarity==="epic"||u.rarity==="legendary"),d=Es.filter(u=>u.rarity==="legendary"||u.rarity==="mythic");return[{id:"case1",name:"CLASSIC",image:"https://images.unsplash.com/photo-1662348317573-594daeff9ce1?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmdXR1cmlzdGljJTIwYmxhY2slMjB0ZWNoJTIwY2FzZSUyMGJveHxlbnwxfHx8fDE3NTcwNzcxNjR8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",rarity:"common",color:"#FF4444",description:"Обычный кейс с базовыми предметами",contents:["Монеты x100","Опыт x50","Базовый предмет"],prizes:n,isActive:!0,glowColor:"#FF4444",glowIntensity:"low"},{id:"case2",name:"PRO",image:"https://images.unsplash.com/photo-1546728684-0c649e299b0b?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxncmVlbiUyMG5lb24lMjBjeWJlcnB1bmslMjB0ZWNoJTIwY2FzZXxlbnwxfHx8fDE3NTcwNzcxNjh8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",rarity:"rare",color:"#00FF44",description:"Редкий кейс с ценными предметами",contents:["Монеты x300","Опыт x150","Редкий предм��т"],prizes:s,isActive:!0,glowColor:"#00FF44",glowIntensity:"medium"},{id:"case3",name:"ULTRA",image:"https://images.unsplash.com/photo-1754302003140-8aae275f1a49?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxibHVlJTIwZ2xvd2luZyUyMHRlY2glMjBjb250YWluZXIlMjBjYXNlfGVufDF8fHx8MTc1NzA3NzE3M3ww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",rarity:"epic",color:"#4488FF",description:"Эпический кейс с мощными предметами",contents:["Монеты x500","Опыт x300","Эпический предмет"],prizes:o,isActive:!0,glowColor:"#4488FF",glowIntensity:"high"},{id:"case4",name:"LEGEND",image:"https://images.unsplash.com/photo-1664849328797-d94d3831a793?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxnb2xkZW4lMjBsdXh1cnklMjB0ZWNoJTIwY29udGFpbmVyJTIwY2FzZXxlbnwxfHx8fDE3NTcwODA0NzF8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",rarity:"legendary",color:"#F59E0B",description:"Легендарный кейс с уникальными предметами",contents:["Монеты x1000","Опыт x500","Легендарный предмет"],prizes:i,isActive:!0,glowColor:"#F59E0B",glowIntensity:"high"},{id:"case5",name:"MYTHIC",image:"https://images.unsplash.com/photo-1609323170129-bf4d7d4d7dbc?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxyZWQlMjBnbG93aW5nJTIwZnV0dXJpc3RpYyUyMHRlY2glMjBjYXNlfGVufDF8fHx8MTc1NzA4MDQ3NXww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",rarity:"mythic",color:"#EF4444",description:"Мифический кейс с самыми редкими предметами",contents:["Монеты x2000","Опыт x1000","Мифический предмет"],prizes:d,isActive:!0,glowColor:"#EF4444",glowIntensity:"high"}]},Si=sC(),oC=[],aC=[{id:"shop_case1",caseTypeId:"case1",price:5e3,currency:"coins",isAvailable:!0},{id:"shop_case2",caseTypeId:"case2",price:12e3,currency:"coins",isAvailable:!0},{id:"shop_case3",caseTypeId:"case3",price:25e3,currency:"coins",isAvailable:!0},{id:"shop_case4",caseTypeId:"case4",price:5e4,currency:"coins",isAvailable:!0},{id:"shop_case5",caseTypeId:"case5",price:1e5,currency:"coins",isAvailable:!0}],iC=[{id:"notif_1",type:"system",title:"Добро пожаловать!",message:"Добро пожаловать в GRITHER! Здесь вы будете получать все важные уведомления.",timestamp:new Date(Date.now()-6e4),read:!1,priority:"medium"},{id:"notif_2",type:"achievement",title:"Первое достижение!",message:'Поздравляем! Вы получили своё первое достижение "Новичок".',timestamp:new Date(Date.now()-18e4),read:!0,priority:"medium",data:{achievementId:"newcomer",reward:100}}],Nn=[{id:"1",name:"Анна Иванова",username:"@anna_ivanova",avatar:"",role:"worker",level:15,experience:2250,maxExperience:3e3,balance:8500,rating:1250,completedTasks:45,achievementsCount:32,battlesWon:12,battlesLost:3,teamId:"team1",isOnline:!0,lastSeen:new Date,joinedDate:new Date("2023-06-15")},{id:"2",name:"Петр Петров",username:"@petr_petrov",avatar:"",role:"teamlead",level:18,experience:1800,maxExperience:4e3,balance:12e3,rating:1450,completedTasks:62,achievementsCount:45,battlesWon:18,battlesLost:4,teamId:"team2",isOnline:!1,lastSeen:new Date(Date.now()-18e5),joinedDate:new Date("2023-03-20")},{id:"3",name:"Мария Сидорова",username:"@maria_sidorova",avatar:"",role:"worker",level:12,experience:1200,maxExperience:2500,balance:5600,rating:980,completedTasks:28,achievementsCount:23,battlesWon:7,battlesLost:5,teamId:"team1",isOnline:!0,lastSeen:new Date,joinedDate:new Date("2023-08-10")},{id:"4",name:"Алексей Козлов",username:"@alexey_kozlov",avatar:"",role:"worker",level:14,experience:2100,maxExperience:2800,balance:7300,rating:1120,completedTasks:38,achievementsCount:29,battlesWon:10,battlesLost:6,teamId:"team3",isOnline:!0,lastSeen:new Date,joinedDate:new Date("2023-05-05")},{id:"5",name:"Елена Морозова",username:"@elena_morozova",avatar:"",role:"junior_admin",level:16,experience:2400,maxExperience:3200,balance:9800,rating:1380,completedTasks:51,achievementsCount:38,battlesWon:15,battlesLost:2,teamId:"team2",isOnline:!1,lastSeen:new Date(Date.now()-36e5),joinedDate:new Date("2023-01-12")}],lC=[{rank:1,user:Nn.find(n=>n.id==="2"),change:0,score:Nn.find(n=>n.id==="2")?.rating||0},{rank:2,user:Nn.find(n=>n.id==="5"),change:1,score:Nn.find(n=>n.id==="5")?.rating||0},{rank:3,user:Nn.find(n=>n.id==="1"),change:-1,score:Nn.find(n=>n.id==="1")?.rating||0},{rank:4,user:Nn.find(n=>n.id==="4"),change:0,score:Nn.find(n=>n.id==="4")?.rating||0},{rank:5,user:Nn.find(n=>n.id==="3"),change:0,score:Nn.find(n=>n.id==="3")?.rating||0}];function cC({onNavigate:n,currentPage:s,onOpenSettings:o,profilePhoto:i,theme:d,cases:u,setCases:l,userCases:p,setUserCases:m,currentUser:g,onUpdateUserBalance:x,onUpdateUserExperience:y}){const[v,F]=b.useState("free"),[N,j]=b.useState(!1),[S,D]=b.useState(!1),[T,C]=b.useState(!1),[L,B]=b.useState(!1),[G,$]=b.useState(!1),[_,ee]=b.useState(null),[H,le]=b.useState(null),[ye,Fe]=b.useState(null),[ke,xe]=b.useState(!1),[O,Y]=b.useState(null),[R,k]=b.useState(null),[I,E]=b.useState(null),V=ie=>{try{return new URL(ie),ie.startsWith("http://")||ie.startsWith("https://")||ie.startsWith("data:")}catch{return!1}},K=({src:ie,className:ue="",style:Q={}})=>V(ie)?t.jsx(Kn,{src:ie,alt:"Image",className:`${ue} object-cover`,style:Q}):t.jsx("div",{className:`flex items-center justify-center ${ue}`,style:Q,children:t.jsx("span",{className:"text-xl",children:ie})}),de=()=>{j(!0),$(!0),B(!1),ee(null)},ae=()=>{G&&(C(!0),$(!1))},je=ie=>{console.log("Получен кейс:",ie.selectedCase),ee(ie.selectedCase)},Ne=()=>{C(!1),B(!0)},Ae=()=>{if(_){const ie={id:`user_case_${Date.now()}`,caseTypeId:_.id,obtainedAt:new Date,isOpened:!1};m(ue=>[...ue,ie]),E(new Date)}j(!1),C(!1),B(!1),$(!1),ee(null)},Re=()=>{!T&&(!G||L)&&(L&&_?Ae():(j(!1),C(!1),B(!1),$(!1),ee(null)))},We=ie=>{u.find(Q=>Q.id===ie.caseTypeId)&&(Fe(ie),D(!0),$(!0),B(!1),le(null))},gt=()=>{G&&(C(!0),$(!1))},vt=ie=>{console.log("Получен приз:",ie.selectedPrize),le(ie.selectedPrize)},se=()=>{C(!1),B(!0)},we=()=>{H&&ye&&g&&(H.type==="coins"&&x?(x(g.id,H.value),console.log(`Зачислено ${H.value} монет пользователю ${g.name}`)):H.type==="experience"&&y?(y(g.id,H.value),console.log(`Зачислено ${H.value} опыта пользователю ${g.name}`)):H.type||(H.name.toLowerCase().includes("монет")||H.name.toLowerCase().includes("coins")||H.name.toLowerCase().includes("g-coin")?x&&(x(g.id,H.value),console.log(`Зачислено ${H.value} монет пользователю ${g.name} (определено по названию)`)):(H.name.toLowerCase().includes("опыт")||H.name.toLowerCase().includes("exp")||H.name.toLowerCase().includes("experience"))&&y&&(y(g.id,H.value),console.log(`Зачислено ${H.value} опыта пользователю ${g.name} (определено по названию)`))),m(ie=>ie.filter(ue=>ue.id!==ye.id))),D(!1),C(!1),B(!1),$(!1),le(null),Fe(null)},ne=()=>{!T&&(!G||L)&&(L&&H?we():(D(!1),C(!1),B(!1),$(!1),le(null),Fe(null)))},Ie=(ie,ue)=>{Y(ie),k(ue),xe(!0)},ze=ie=>{const ue=Si.find(Be=>Be.id===ie.caseTypeId);if(!ue)return;const Q={id:`user_case_${Date.now()}`,caseTypeId:ue.id,obtainedAt:new Date,isOpened:!1};m(Be=>[...Be,Q]),xe(!1),F("inventory")},Bt=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:d==="dark"?"#E8ECF2":"#0F172A"},children:"БЕСПЛАТНЫЙ КЕЙС"}),t.jsx("div",{className:"w-24 h-0.5 bg-gradient-to-r from-transparent via-green-400 to-transparent mx-auto"})]}),t.jsx("div",{className:"rounded-2xl p-6 border",style:{background:d==="dark"?"linear-gradient(145deg, rgba(16, 20, 28, 0.95) 0%, rgba(22, 26, 34, 0.95) 100%)":"linear-gradient(145deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.95) 100%)",border:d==="dark"?"1px solid rgba(34, 197, 94, 0.4)":"1px solid rgba(34, 197, 94, 0.3)",boxShadow:d==="dark"?"0 8px 32px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.05)":"0 8px 32px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.8)"},children:t.jsxs("div",{className:"text-center space-y-6",children:[t.jsx("div",{className:"w-32 h-32 mx-auto rounded-2xl flex items-center justify-center",style:{background:"linear-gradient(145deg, rgba(34, 197, 94, 0.15), rgba(34, 197, 94, 0.05))",boxShadow:"0 0 30px rgba(34, 197, 94, 0.4), inset 0 0 20px rgba(34, 197, 94, 0.2)"},children:t.jsx(_i,{className:"w-16 h-16 text-green-400",style:{filter:"drop-shadow(0 0 10px rgba(34, 197, 94, 0.8))"}})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-xl font-bold mb-3",style:{color:d==="dark"?"#FFFFFF":"#0F172A",textShadow:d==="dark"?"0 0 10px rgba(34, 197, 94, 0.8)":"0 0 5px rgba(34, 197, 94, 0.3)"},children:"БЕСПЛАТНЫЙ КЕЙС GRITHER"}),t.jsx("p",{className:"text-sm opacity-80",style:{color:d==="dark"?"#D1D5DB":"#6B7280"},children:"Получите случа��ный кейс совершенно бесплатно каждые 24 часа!"})]}),t.jsx("button",{onClick:de,className:"w-full py-4 px-6 rounded-xl font-bold tracking-wide transition-all duration-200 transform hover:scale-105 hover:shadow-lg flex items-center justify-center text-center",style:{background:"linear-gradient(145deg, #22C55E, #16A34A)",color:"#FFFFFF",boxShadow:"0 4px 20px rgba(34, 197, 94, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2)",textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:"ОТКРЫТЬ БЕСПЛАТНЫЙ КЕЙС"})]})})]}),yt=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:d==="dark"?"#E8ECF2":"#0F172A"},children:"GRITHER CASES"}),t.jsx("div",{className:"w-24 h-0.5 bg-gradient-to-r from-transparent via-cyan-400 to-transparent mx-auto"})]}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:aC.map(ie=>{const ue=u.find(Pe=>Pe.id===ie.caseTypeId);if(!ue)return null;const Q=ie.discount?ie.price*(1-ie.discount/100):ie.price,Be=(Math.floor(Q)/1e3).toFixed(3).replace(".",".");return t.jsx("div",{className:"relative rounded-2xl p-3 border transition-all duration-300 hover:scale-[1.02]",style:{background:d==="dark"?"linear-gradient(145deg, rgba(16, 20, 28, 0.95) 0%, rgba(22, 26, 34, 0.95) 100%)":"linear-gradient(145deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.95) 100%)",border:`1px solid ${ue.color}${d==="dark"?"40":"30"}`,boxShadow:d==="dark"?"0 8px 32px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.05)":"0 8px 32px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.8)"},children:t.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[t.jsxs("div",{className:"relative w-full h-28 rounded-xl overflow-hidden cursor-pointer transition-all duration-300 hover:scale-105",style:{background:`linear-gradient(145deg, ${ue.glowColor||ue.color}15, ${ue.glowColor||ue.color}05)`,boxShadow:(()=>{const Pe=ue.glowColor||ue.color;switch(ue.glowIntensity||"low"){case"low":return`0 0 15px ${Pe}40, inset 0 0 10px ${Pe}20`;case"medium":return`0 0 30px ${Pe}50, 0 0 60px ${Pe}20, inset 0 0 20px ${Pe}30`;case"high":return`0 0 40px ${Pe}80, 0 0 80px ${Pe}40, 0 0 120px ${Pe}20, inset 0 0 30px ${Pe}40`;default:return`0 0 30px ${Pe}40, inset 0 0 20px ${Pe}20`}})()},onClick:()=>Ie(ue,ie),children:[t.jsx(K,{src:ue.image,className:"w-full h-full object-cover"}),t.jsx("div",{className:"absolute inset-0 rounded-xl border-2 opacity-60",style:{border:`2px solid ${ue.glowColor||ue.color}`,boxShadow:(()=>{const Pe=ue.glowColor||ue.color;switch(ue.glowIntensity||"low"){case"low":return`inset 0 0 15px ${Pe}30`;case"medium":return`inset 0 0 25px ${Pe}40, inset 0 0 50px ${Pe}20`;case"high":return`inset 0 0 35px ${Pe}50, inset 0 0 70px ${Pe}30, inset 0 0 100px ${Pe}10`;default:return`inset 0 0 20px ${Pe}30`}})()}}),t.jsx("div",{className:"absolute bottom-2 left-2 px-2 py-1 rounded text-xs font-bold",style:{background:`linear-gradient(90deg, ${ue.color}80, ${ue.color}60)`,color:"#FFFFFF",textShadow:"0 0 8px rgba(0,0,0,0.8)"},children:"GRITHER"})]}),t.jsx("h4",{className:"text-lg font-bold tracking-wider",style:{color:d==="dark"?"#FFFFFF":"#0F172A",textShadow:d==="dark"?`0 0 10px ${ue.color}80`:`0 0 5px ${ue.color}40`},children:ue.name}),t.jsx("div",{className:"space-y-2",children:t.jsxs("div",{className:"px-3 py-1 rounded-lg text-sm font-medium",style:{background:`linear-gradient(90deg, ${ue.color}${d==="dark"?"20":"15"}, transparent)`,border:`1px solid ${ue.color}${d==="dark"?"40":"30"}`,color:d==="dark"?"#FFFFFF":"#0F172A",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[Be,t.jsx("img",{src:ug,alt:"G-coin",style:{width:"14px",height:"14px"}})]})}),t.jsx("button",{onClick:()=>ze(ie),className:"w-full py-2 px-3 rounded-xl font-bold text-xs tracking-wide transition-all duration-200 transform hover:scale-105 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center text-center",style:{background:ie.isAvailable?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"linear-gradient(145deg, #666666, #444444)",color:ie.isAvailable?"#1A1A1A":"#CCCCCC",boxShadow:ie.isAvailable?"0 4px 15px rgba(255, 255, 255, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.3)":"0 4px 15px rgba(0, 0, 0, 0.2)",textShadow:ie.isAvailable?"none":"0 1px 2px rgba(0,0,0,0.5)"},disabled:!ie.isAvailable,children:ie.isAvailable?"КУПИТЬ":"НЕДОСТУПНО"})]})},ie.id)})})]}),Ot=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:d==="dark"?"#E8ECF2":"#0F172A"},children:"МОИ КЕЙСЫ"}),t.jsx("div",{className:"w-24 h-0.5 bg-gradient-to-r from-transparent via-cyan-400 to-transparent mx-auto"})]}),p.length===0?t.jsxs("div",{className:"glass-card p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-surface-2 flex items-center justify-center",children:t.jsx(wr,{className:"w-8 h-8 text-muted-foreground"})}),t.jsx("h4",{className:"font-medium mb-2",children:"Пусто"}),t.jsx("p",{className:"text-sm text-muted-foreground opacity-60",children:"Здесь появятся полученные кейсы"})]}):t.jsx("div",{className:"grid grid-cols-2 gap-4",children:p.map(ie=>{const ue=u.find(Q=>Q.id===ie.caseTypeId);return ue?t.jsx("div",{className:"relative rounded-2xl p-4 border transition-all duration-300 hover:scale-[1.02]",style:{background:d==="dark"?"linear-gradient(145deg, rgba(16, 20, 28, 0.95) 0%, rgba(22, 26, 34, 0.95) 100%)":"linear-gradient(145deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.95) 100%)",border:`1px solid ${ue.color}${d==="dark"?"40":"30"}`,boxShadow:d==="dark"?"0 8px 32px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.05)":"0 8px 32px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.8)"},children:t.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[t.jsxs("div",{className:"relative w-full h-24 rounded-xl overflow-hidden transition-all duration-300",style:{background:`linear-gradient(145deg, ${ue.glowColor||ue.color}15, ${ue.glowColor||ue.color}05)`,boxShadow:(()=>{const Q=ue.glowColor||ue.color;switch(ue.glowIntensity||"low"){case"low":return`0 0 15px ${Q}40, inset 0 0 10px ${Q}20`;case"medium":return`0 0 25px ${Q}50, 0 0 50px ${Q}20, inset 0 0 15px ${Q}30`;case"high":return`0 0 35px ${Q}80, 0 0 70px ${Q}40, 0 0 100px ${Q}20, inset 0 0 25px ${Q}40`;default:return`0 0 25px ${Q}40, inset 0 0 15px ${Q}20`}})()},children:[t.jsx(K,{src:ue.image,className:"w-full h-full object-cover"}),t.jsx("div",{className:"absolute inset-0 rounded-xl border-2 opacity-60",style:{border:`2px solid ${ue.glowColor||ue.color}`,boxShadow:(()=>{const Q=ue.glowColor||ue.color;switch(ue.glowIntensity||"low"){case"low":return`inset 0 0 15px ${Q}30`;case"medium":return`inset 0 0 20px ${Q}40, inset 0 0 40px ${Q}20`;case"high":return`inset 0 0 30px ${Q}50, inset 0 0 60px ${Q}30, inset 0 0 90px ${Q}10`;default:return`inset 0 0 15px ${Q}30`}})()}}),t.jsx("div",{className:"absolute bottom-1 left-1 px-1.5 py-0.5 rounded text-xs font-bold",style:{background:`linear-gradient(90deg, ${ue.glowColor||ue.color}80, ${ue.glowColor||ue.color}60)`,color:"#FFFFFF",textShadow:"0 0 6px rgba(0,0,0,0.8)"},children:"GRITHER"})]}),t.jsx("h4",{className:"text-lg font-bold tracking-wider",style:{color:d==="dark"?"#FFFFFF":"#0F172A",textShadow:d==="dark"?`0 0 8px ${ue.color}80`:`0 0 4px ${ue.color}40`},children:ue.name}),t.jsx("p",{className:"text-xs opacity-70",style:{color:d==="dark"?"#FFFFFF":"#6B7280"},children:ie.obtainedAt.toLocaleDateString()}),t.jsx("button",{onClick:()=>We(ie),className:"w-full py-2.5 px-4 rounded-xl font-bold text-sm tracking-wide transition-all duration-200 transform hover:scale-105 hover:shadow-lg flex items-center justify-center text-center",style:{background:"linear-gradient(145deg, #FFFFFF, #E0E0E0)",color:"#1A1A1A",boxShadow:"0 4px 15px rgba(255, 255, 255, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.3)"},children:"ОТКРЫТЬ"})]})},ie.id):null})})]});return t.jsxs("div",{className:"min-h-screen",style:{background:d==="dark"?"radial-gradient(circle at center top, rgba(16, 20, 28, 1) 0%, rgba(8, 10, 14, 1) 100%)":"linear-gradient(135deg, #F5F7FA 0%, #FFFFFF 100%)",color:d==="dark"?"#E8ECF2":"#0F172A"},children:[t.jsx(Jr,{profilePhoto:i,onOpenSettings:o,theme:d}),t.jsx("div",{className:"px-4 pb-24",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex rounded-xl p-1 border",style:{background:d==="dark"?"linear-gradient(145deg, rgba(8, 10, 14, 0.95) 0%, rgba(16, 20, 28, 0.95) 100%)":"linear-gradient(145deg, rgba(255, 255, 255, 0.8) 0%, rgba(248, 250, 252, 0.8) 100%)",border:d==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid rgba(0, 0, 0, 0.1)",backdropFilter:"blur(20px)",boxShadow:d==="dark"?"0 8px 24px rgba(0, 0, 0, 0.6)":"0 8px 24px rgba(0, 0, 0, 0.10)"},children:[t.jsx("button",{onClick:()=>F("free"),className:"flex-1 py-3 px-4 rounded-lg font-bold transition-all duration-200 text-center text-sm tracking-wide",style:v==="free"?{background:d==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"linear-gradient(145deg, #0F172A15, #0F172A08)",boxShadow:d==="dark"?"0 4px 15px rgba(255, 255, 255, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.3)":"0 4px 15px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.8)",color:d==="dark"?"#1A1A1A":"#0F172A",border:d==="dark"?"1px solid rgba(255, 255, 255, 0.2)":"none"}:{color:d==="dark"?"#9CA3AF":"#6B7280",background:"transparent"},children:"��ЕСПЛАТНЫЙ"}),t.jsx("button",{onClick:()=>F("shop"),className:"flex-1 py-3 px-4 rounded-lg font-bold transition-all duration-200 text-center text-sm tracking-wide",style:v==="shop"?{background:d==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"linear-gradient(145deg, #0F172A15, #0F172A08)",boxShadow:d==="dark"?"0 4px 15px rgba(255, 255, 255, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.3)":"0 4px 15px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.8)",color:d==="dark"?"#1A1A1A":"#0F172A",border:d==="dark"?"1px solid rgba(255, 255, 255, 0.2)":"none"}:{color:d==="dark"?"#9CA3AF":"#6B7280",background:"transparent"},children:"МАГАЗИН"}),t.jsx("button",{onClick:()=>F("inventory"),className:"flex-1 py-3 px-4 rounded-lg font-bold transition-all duration-200 text-center text-sm tracking-wide",style:v==="inventory"?{background:d==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"linear-gradient(145deg, #0F172A15, #0F172A08)",boxShadow:d==="dark"?"0 4px 15px rgba(255, 255, 255, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.3)":"0 4px 15px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.8)",color:d==="dark"?"#1A1A1A":"#0F172A",border:d==="dark"?"1px solid rgba(255, 255, 255, 0.2)":"none"}:{color:d==="dark"?"#9CA3AF":"#6B7280",background:"transparent"},children:"МОИ КЕЙСЫ"})]}),t.jsxs(Zo.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},children:[v==="free"&&Bt(),v==="shop"&&yt(),v==="inventory"&&Ot()]},v)]})}),t.jsx(es,{currentPage:s,onNavigate:n,theme:d}),t.jsx(zo,{isOpen:N,onClose:Re,title:"Открытие кейса",theme:d,children:t.jsxs("div",{className:"space-y-6",children:[G&&t.jsx("p",{className:"text-center text-muted-foreground",children:"Нажмите кнопку, чтобы запустить рулетку"}),T&&t.jsx("p",{className:"text-center text-muted-foreground",children:"Определяем ваш кейс..."}),L&&!T&&_&&t.jsxs("div",{className:"text-center space-y-2",children:[t.jsx("p",{className:"text-primary font-semibold",children:"Поздравляем!"}),t.jsxs("p",{className:"text-muted-foreground",children:["Вы получили: ",t.jsx("span",{className:"font-medium text-foreground",children:_.name})]})]}),t.jsx(ZF,{cases:u,onResult:je,isSpinning:T,onSpinComplete:Ne,hasSpun:L}),t.jsxs("div",{className:"text-center",children:[G&&t.jsx("button",{onClick:ae,className:"px-8 py-3 bg-primary text-primary-foreground rounded-xl font-medium hover:bg-primary-pressed transition-colors",children:"Крутить"}),L&&!T&&t.jsx("button",{onClick:Ae,className:"px-8 py-3 bg-primary text-primary-foreground rounded-xl font-medium hover:bg-primary-pressed transition-colors",children:"Забрать кейс"})]})]})}),t.jsx(zo,{isOpen:S,onClose:ne,title:ye?`��ткрытие: ${u.find(ie=>ie.id===ye.caseTypeId)?.name}`:"Открытие кейса",theme:d,children:t.jsxs("div",{className:"space-y-6",children:[G&&t.jsx("p",{className:"text-center text-muted-foreground",children:"Нажмите кнопку, чтобы запустить рулетку приз��в"}),T&&t.jsx("p",{className:"text-center text-muted-foreground",children:"Определяем ваш приз..."}),L&&!T&&H&&t.jsxs("div",{className:"text-center space-y-2",children:[t.jsx("p",{className:"text-primary font-semibold",children:"Поздравляем!"}),t.jsxs("p",{className:"text-muted-foreground",children:["Вы получили: ",t.jsx("span",{className:"font-medium text-foreground",children:H.name})]}),t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 rounded overflow-hidden",children:t.jsx(K,{src:H.image,className:"w-full h-full"})}),t.jsx("span",{className:"text-sm px-2 py-1 rounded",style:{backgroundColor:H.color+"20",color:H.color},children:H.rarity})]})]}),ye&&t.jsx(JF,{prizes:u.find(ie=>ie.id===ye.caseTypeId)?.prizes||[],onResult:vt,isSpinning:T,onSpinComplete:se,hasSpun:L}),t.jsxs("div",{className:"text-center",children:[G&&t.jsx("button",{onClick:gt,className:"px-8 py-3 bg-primary text-primary-foreground rounded-xl font-medium hover:bg-primary-pressed transition-colors",children:"Крутить"}),L&&!T&&t.jsx("button",{onClick:we,className:"px-8 py-3 bg-primary text-primary-foreground rounded-xl font-medium hover:bg-primary-pressed transition-colors",children:"Забрать приз"})]})]})}),t.jsx(zo,{isOpen:ke,onClose:()=>xe(!1),title:O?`Детали: ${O.name}`:"Детали кейса",theme:d,children:O&&R&&t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"w-32 h-32 rounded-2xl border-2 overflow-hidden shadow-lg",style:{backgroundColor:O.color+"20",border:`2px solid ${O.color}`,boxShadow:`0 12px 24px ${O.color}40`},children:t.jsx(K,{src:O.image,className:"w-full h-full"})})}),t.jsxs("div",{className:"text-center space-y-3",children:[t.jsxs("div",{className:"inline-block px-4 py-2 rounded-full text-sm font-medium",style:{backgroundColor:O.color+"20",color:O.color},children:[O.rarity==="common"&&"Обычный",O.rarity==="rare"&&"Редкий",O.rarity==="epic"&&"Эпический",O.rarity==="legendary"&&"Легендарный",O.rarity==="mythic"&&"Мифический"]}),t.jsx("p",{className:"text-muted-foreground",children:O.description})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-semibold",children:"Возможные призы:"}),t.jsxs("div",{className:"grid gap-2",children:[O.prizes.slice(0,6).map(ie=>t.jsxs("div",{className:"flex items-center gap-3 p-3 glass-card",children:[t.jsx("div",{className:"w-8 h-8 rounded overflow-hidden",children:t.jsx(K,{src:ie.image,className:"w-full h-full"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium text-sm",children:ie.name}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Шанс: ",ie.dropChance,"%"]})]}),t.jsxs("div",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:ie.color+"20",color:ie.color},children:[ie.rarity==="common"&&"Обычный",ie.rarity==="rare"&&"Редкий",ie.rarity==="epic"&&"Эпический",ie.rarity==="legendary"&&"Легендарный",ie.rarity==="mythic"&&"Мифический"]})]},ie.id)),O.prizes.length>6&&t.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["и ещё ",O.prizes.length-6," призов..."]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 p-4 glass-card",children:[R.discount&&t.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:[R.price," ",R.currency==="coins"?"🪙":"💎"]}),t.jsxs("span",{className:"text-xl font-semibold flex items-center gap-2",children:[Math.floor(R.discount?R.price*(1-R.discount/100):R.price),R.currency==="coins"?t.jsx(N1,{className:"w-5 h-5"}):t.jsx(P1,{className:"w-5 h-5"})]}),R.discount&&t.jsxs("span",{className:"text-sm bg-destructive text-destructive-foreground px-3 py-1 rounded-full font-medium",children:["-",R.discount,"% скидка"]})]}),t.jsx("button",{onClick:()=>ze(R),className:"w-full py-3 px-6 bg-primary text-primary-foreground rounded-xl font-medium hover:bg-primary-pressed transition-colors text-center",disabled:!R.isAvailable,children:R.isAvailable?"Купить кейс":"Недо��тупно"})]})]})})]})}const xn="/assets/29d513144bb95c08c031f3604ac2dd2e7bee6450-BNQFBKQ-.png";function dC({onNavigate:n,currentPage:s,onOpenSettings:o,profilePhoto:i,shopItems:d,setShopItems:u,orders:l,setOrders:p,theme:m="light",currentUser:g,onUpdateUserBalance:x}){const y=g?.balance||0,[v,F]=b.useState([]),[N,j]=b.useState(!1),[S,D]=b.useState("cart"),[T,C]=b.useState(!1),[L,B]=b.useState(null),G=k=>{try{return new URL(k),k.startsWith("http://")||k.startsWith("https://")||k.startsWith("data:")||k.startsWith("figma:")}catch{return!1}},$=({src:k,className:I="",style:E={}})=>G(k)?t.jsx(Kn,{src:k,alt:"Image",className:`${I} object-cover`,style:E}):t.jsx("div",{className:`flex items-center justify-center ${I}`,style:E,children:t.jsx("span",{className:"text-4xl",children:k})}),_=k=>{F(I=>I.find(V=>V.id===k.id)?I.map(V=>V.id===k.id?{...V,quantity:V.quantity+1}:V):[...I,{id:k.id,name:k.name,price:k.price,quantity:1,emoji:k.emoji}])},ee=k=>{F(I=>I.filter(E=>E.id!==k))},H=(k,I)=>{if(I<=0){ee(k);return}F(E=>E.map(V=>V.id===k?{...V,quantity:I}:V))},le=()=>v.reduce((k,I)=>k+I.price*I.quantity,0),ye=()=>v.reduce((k,I)=>k+I.quantity,0),Fe=()=>{F([]),j(!1)},ke=()=>{const k=le();if(y>=k&&v.length>0){x&&g&&x(g.id,-k);const I={id:Date.now().toString(),items:v.map(E=>({id:E.id,name:E.name,price:E.price,quantity:E.quantity,emoji:E.emoji})),total:k,status:"pending",createdAt:new Date().toISOString(),userId:"current-user",customerName:g?.name||"Неизвестный пользователь",customerTeam:"Frontend Team"};p(E=>[...E,I]),u(E=>E.map(V=>{const K=v.find(de=>de.id===V.id);return K?{...V,stock:Math.max(0,V.stock-K.quantity)}:V})),Fe(),D("active"),console.log(`Заказ отправлен на модерацию на сумму ${k} коинов`)}},xe=k=>{B(k),C(!0)},O=k=>{y>=k.price&&k.stock>0&&(_(k),C(!1))},Y=k=>{const I=k.category?.toLowerCase()||"",E=k.price;return I.includes("premium")||E>5e3?{color:"#8B5CF6",glowColor:"#8B5CF6",intensity:"high"}:I.includes("special")||E>2e3?{color:"#F59E0B",glowColor:"#F59E0B",intensity:"medium"}:I.includes("rare")||E>1e3?{color:"#06B6D4",glowColor:"#06B6D4",intensity:"medium"}:I.includes("uncommon")||E>500?{color:"#10B981",glowColor:"#10B981",intensity:"low"}:{color:"#6B7280",glowColor:"#6B7280",intensity:"low"}},R=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:m==="dark"?"#E8ECF2":"#0F172A"},children:"GRITHER SHOP"}),t.jsx("div",{className:"w-24 h-0.5 bg-gradient-to-r from-transparent via-cyan-400 to-transparent mx-auto"})]}),d.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center",style:{backgroundColor:m==="dark"?"#1C2029":"#F3F5F8"},children:t.jsx("span",{className:"text-2xl",children:"🛒"})}),t.jsx("h4",{className:"font-medium mb-2",style:{color:m==="dark"?"#E8ECF2":"#0F172A"},children:"Магазин пуст"}),t.jsx("p",{className:"text-sm opacity-60",style:{color:m==="dark"?"#A7B0BD":"#6B7280"},children:"Товары скоро появятся"})]}):t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 max-w-lg mx-auto",children:d.map(k=>{const I=Y(k),E=k.price.toLocaleString();return t.jsx("div",{className:"relative rounded-2xl p-3 border transition-all duration-300 hover:scale-[1.02] w-full",style:{background:m==="dark"?"linear-gradient(145deg, rgba(16, 20, 28, 0.95) 0%, rgba(22, 26, 34, 0.95) 100%)":"linear-gradient(145deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.95) 100%)",border:`1px solid ${I.color}${m==="dark"?"40":"30"}`,boxShadow:m==="dark"?"0 8px 32px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.05)":"0 8px 32px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.8)"},children:t.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[t.jsxs("div",{className:"relative w-full h-24 rounded-xl overflow-hidden cursor-pointer transition-all duration-300 hover:scale-105",style:{background:`linear-gradient(145deg, ${I.glowColor}15, ${I.glowColor}05)`,boxShadow:(()=>{const V=I.glowColor;switch(I.intensity){case"low":return`0 0 15px ${V}40, inset 0 0 10px ${V}20`;case"medium":return`0 0 30px ${V}50, 0 0 60px ${V}20, inset 0 0 20px ${V}30`;case"high":return`0 0 40px ${V}80, 0 0 80px ${V}40, 0 0 120px ${V}20, inset 0 0 30px ${V}40`;default:return`0 0 30px ${V}40, inset 0 0 20px ${V}20`}})()},onClick:()=>xe(k),children:[t.jsx($,{src:k.image||k.emoji,className:"w-full h-full object-cover"}),t.jsx("div",{className:"absolute inset-0 rounded-xl border-2 opacity-60",style:{border:`2px solid ${I.glowColor}`,boxShadow:(()=>{const V=I.glowColor;switch(I.intensity){case"low":return`inset 0 0 15px ${V}30`;case"medium":return`inset 0 0 25px ${V}40, inset 0 0 50px ${V}20`;case"high":return`inset 0 0 35px ${V}50, inset 0 0 70px ${V}30, inset 0 0 100px ${V}10`;default:return`inset 0 0 20px ${V}30`}})()}}),t.jsx("div",{className:"absolute bottom-1 left-1 px-1.5 py-0.5 rounded text-xs font-bold",style:{background:`linear-gradient(90deg, ${I.color}80, ${I.color}60)`,color:"#FFFFFF",textShadow:"0 0 6px rgba(0,0,0,0.8)",fontSize:"9px"},children:"GRITHER"})]}),t.jsx("h4",{className:"text-sm font-bold tracking-wider",style:{color:m==="dark"?"#FFFFFF":"#0F172A",textShadow:m==="dark"?`0 0 10px ${I.color}80`:`0 0 5px ${I.color}40`},children:k.name.toUpperCase()}),t.jsxs("div",{className:"px-2 py-1 rounded-lg text-xs font-medium flex items-center gap-1 justify-center",style:{background:`linear-gradient(90deg, ${I.color}${m==="dark"?"20":"15"}, transparent)`,border:`1px solid ${I.color}${m==="dark"?"40":"30"}`,color:m==="dark"?"#FFFFFF":"#0F172A"},children:[E,t.jsx("img",{src:xn,alt:"coins",className:"w-3 h-3"})]}),t.jsx("button",{onClick:()=>_(k),className:"w-full py-1.5 px-2 rounded-lg font-bold text-xs tracking-wide transition-all duration-200 transform hover:scale-105 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center text-center",style:{background:k.stock>0&&y>=k.price?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"linear-gradient(145deg, #666666, #444444)",color:k.stock>0&&y>=k.price?"#1A1A1A":"#CCCCCC",boxShadow:k.stock>0&&y>=k.price?"0 4px 15px rgba(255, 255, 255, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.3)":"0 4px 15px rgba(0, 0, 0, 0.2)",textShadow:k.stock>0&&y>=k.price?"none":"0 1px 2px rgba(0,0,0,0.5)",height:"32px",minHeight:"32px",lineHeight:"1.2"},disabled:k.stock<=0||y<k.price,children:k.stock<=0?"НЕТ В НАЛИЧИИ":y<k.price?"НЕДОСТАТОЧНО СРЕДСТВ":"КУПИТЬ"})]})},k.id)})})]});return t.jsxs("div",{className:"min-h-screen",style:{background:m==="dark"?"radial-gradient(circle at center top, rgba(16, 20, 28, 1) 0%, rgba(11, 13, 16, 1) 100%)":"linear-gradient(135deg, #F5F7FA 0%, #FFFFFF 100%)",color:m==="dark"?"#E8ECF2":"#0F172A"},children:[t.jsx(Jr,{onNavigate:n,currentPage:s,onOpenSettings:o,profilePhoto:i,theme:m,user:g?{id:g.id,name:g.name,username:g.name,avatar:"",role:"user",level:g.level,experience:0,maxExperience:100,balance:g.balance,rating:g.rating,completedTasks:0,achievementsCount:0,battlesWon:0,battlesLost:0,isOnline:g.isOnline,lastSeen:new Date,joinedDate:new Date}:void 0}),t.jsxs("div",{className:"max-w-md mx-auto px-4 pb-32 relative",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"px-4 py-2 rounded-lg",style:{backgroundColor:m==="dark"?"#1C2029":"#F3F5F8"},children:[t.jsx("div",{className:"text-xs mb-1",style:{color:m==="dark"?"#A7B0BD":"#6B7280"},children:"Баланс"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"text-sm font-medium",style:{color:m==="dark"?"#E8ECF2":"#0F172A"},children:y.toLocaleString()}),t.jsx("img",{src:xn,alt:"coins",className:"w-4 h-4"})]})]}),t.jsxs("button",{onClick:()=>j(!0),className:"relative apple-button hover:scale-95 transition-transform",style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center"},children:[t.jsx(id,{style:{width:"18px",height:"18px",color:m==="dark"?"#1A1A1A":"#6B7280"}}),ye()>0&&t.jsx("div",{className:"absolute -top-1 -right-1 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium",style:{backgroundColor:"#ff3b30",fontSize:"10px"},children:ye()})]})]}),R()]}),t.jsx(es,{onNavigate:n,currentPage:s,theme:m}),t.jsx(pt,{isOpen:N,onClose:()=>j(!1),title:"Корзина",theme:m,children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"flex space-x-2",children:[{key:"cart",label:"Корзина",count:ye()},{key:"active",label:"Активные",count:l.filter(k=>k.status==="pending").length},{key:"completed",label:"Завершенные",count:l.filter(k=>k.status==="completed").length}].map(k=>t.jsxs("button",{onClick:()=>D(k.key),className:`flex-1 px-3 py-2 rounded-lg text-sm transition-colors relative ${S===k.key?"font-medium":""}`,style:{backgroundColor:S===k.key?"#2B82FF":m==="dark"?"#1C2029":"#F3F5F8",color:S===k.key?"#FFFFFF":m==="dark"?"#A7B0BD":"#6B7280"},children:[k.label,k.count>0&&t.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",style:{fontSize:"10px"},children:k.count})]},k.key))}),S==="cart"&&t.jsx("div",{className:"space-y-4",children:v.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(id,{className:"w-12 h-12 mx-auto mb-4 opacity-50",style:{color:m==="dark"?"#A7B0BD":"#6B7280"}}),t.jsx("p",{style:{color:m==="dark"?"#A7B0BD":"#6B7280"},children:"Корзина пуста"})]}):t.jsxs(t.Fragment,{children:[v.map(k=>t.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg",style:{backgroundColor:m==="dark"?"#1C2029":"#F3F5F8"},children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"text-xl",children:k.emoji}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-sm",style:{color:m==="dark"?"#E8ECF2":"#0F172A"},children:k.name}),t.jsxs("p",{className:"text-xs",style:{color:m==="dark"?"#A7B0BD":"#6B7280"},children:[k.price.toLocaleString()," × ",k.quantity]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>H(k.id,k.quantity-1),className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:m==="dark"?"#202734":"#E5E7EB"},children:t.jsx(W1,{style:{width:"12px",height:"12px",color:m==="dark"?"#A7B0BD":"#6B7280"}})}),t.jsx("span",{className:"text-sm font-medium w-8 text-center",style:{color:m==="dark"?"#E8ECF2":"#0F172A"},children:k.quantity}),t.jsx("button",{onClick:()=>H(k.id,k.quantity+1),className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:m==="dark"?"#202734":"#E5E7EB"},children:t.jsx(Un,{style:{width:"12px",height:"12px",color:m==="dark"?"#A7B0BD":"#6B7280"}})}),t.jsx("button",{onClick:()=>ee(k.id),className:"ml-2 w-6 h-6 rounded-full flex items-center justify-center text-red-500",style:{backgroundColor:"rgba(239, 68, 68, 0.1)"},children:t.jsx(it,{style:{width:"12px",height:"12px"}})})]})]},k.id)),t.jsxs("div",{className:"border-t pt-4",style:{borderColor:m==="dark"?"rgba(255, 255, 255, 0.06)":"#E6E9EF"},children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("span",{className:"font-medium",style:{color:m==="dark"?"#E8ECF2":"#0F172A"},children:"Итого:"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"font-medium",style:{color:m==="dark"?"#E8ECF2":"#0F172A"},children:le().toLocaleString()}),t.jsx("img",{src:xn,alt:"coins",className:"w-4 h-4"})]})]}),t.jsx("button",{onClick:ke,disabled:y<le(),className:"w-full py-3 px-4 rounded-xl font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:y>=le()?"#2B82FF":"#6B7280",color:"#FFFFFF"},children:y>=le()?"Оформить заказ":"Недостаточно средств"})]})]})}),S==="active"&&t.jsx("div",{className:"space-y-3",children:l.filter(k=>k.status==="pending").length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Wr,{className:"w-12 h-12 mx-auto mb-4 opacity-50",style:{color:m==="dark"?"#A7B0BD":"#6B7280"}}),t.jsx("p",{style:{color:m==="dark"?"#A7B0BD":"#6B7280"},children:"Нет активных заказов"})]}):l.filter(k=>k.status==="pending").map(k=>t.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:m==="dark"?"#1C2029":"#F3F5F8"},children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("span",{className:"text-sm font-medium",style:{color:m==="dark"?"#E8ECF2":"#0F172A"},children:["Заказ #",k.id.slice(-4)]}),t.jsx("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:"rgba(251, 191, 36, 0.1)",color:"#F59E0B"},children:"Ожидает"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs",style:{color:m==="dark"?"#A7B0BD":"#6B7280"},children:new Date(k.createdAt).toLocaleString()}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"text-sm font-medium",style:{color:m==="dark"?"#E8ECF2":"#0F172A"},children:k.total.toLocaleString()}),t.jsx("img",{src:xn,alt:"coins",className:"w-4 h-4"})]})]})]},k.id))}),S==="completed"&&t.jsx("div",{className:"space-y-3",children:l.filter(k=>k.status==="completed").length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(dx,{className:"w-12 h-12 mx-auto mb-4 opacity-50",style:{color:m==="dark"?"#A7B0BD":"#6B7280"}}),t.jsx("p",{style:{color:m==="dark"?"#A7B0BD":"#6B7280"},children:"Нет завершенных заказов"})]}):l.filter(k=>k.status==="completed").map(k=>t.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:m==="dark"?"#1C2029":"#F3F5F8"},children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("span",{className:"text-sm font-medium",style:{color:m==="dark"?"#E8ECF2":"#0F172A"},children:["Заказ #",k.id.slice(-4)]}),t.jsx("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:"rgba(34, 197, 94, 0.1)",color:"#22C55E"},children:"Выполнен"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs",style:{color:m==="dark"?"#A7B0BD":"#6B7280"},children:new Date(k.createdAt).toLocaleString()}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"text-sm font-medium",style:{color:m==="dark"?"#E8ECF2":"#0F172A"},children:k.total.toLocaleString()}),t.jsx("img",{src:xn,alt:"coins",className:"w-4 h-4"})]})]})]},k.id))})]})}),t.jsx(pt,{isOpen:T,onClose:()=>C(!1),title:L?L.name:"Детали товара",theme:m,actions:L&&L.stock>0&&y>=L.price?t.jsxs("button",{onClick:()=>L&&O(L),className:"w-full transition-colors flex items-center justify-center gap-1",style:{height:"44px",borderRadius:"12px",backgroundColor:"#FFFFFF",color:"#000000",border:"none",fontWeight:"600"},children:["Купить за ",L.price.toLocaleString(),t.jsx("img",{src:xn,alt:"coins",className:"w-4 h-4"})]}):L&&L.stock<=0?t.jsx("button",{disabled:!0,className:"w-full transition-colors text-center",style:{height:"44px",borderRadius:"12px",backgroundColor:m==="dark"?"#202734":"#F3F5F8",color:m==="dark"?"#A7B0BD":"#6B7280",border:m==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF",cursor:"not-allowed"},children:"Нет в наличии"}):L&&y<L.price?t.jsx("button",{disabled:!0,className:"w-full transition-colors text-center",style:{height:"44px",borderRadius:"12px",backgroundColor:m==="dark"?"#202734":"#F3F5F8",color:m==="dark"?"#A7B0BD":"#6B7280",border:m==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF",cursor:"not-allowed"},children:"Недостаточно средств"}):void 0,children:L&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"w-24 h-24 rounded-2xl flex items-center justify-center shadow-lg overflow-hidden",style:{backgroundColor:m==="dark"?"#1C2029":"#F3F5F8"},children:L.image?t.jsx(Kn,{src:L.image,alt:L.name,className:"w-full h-full object-cover",fallback:t.jsx("span",{className:"text-4xl",children:L.emoji})}):t.jsx("span",{className:"text-4xl",children:L.emoji})})}),t.jsx("div",{className:"text-center",children:t.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:"#2B82FF20",color:"#2B82FF"},children:L.category})}),t.jsx("div",{className:"text-center space-y-2",children:t.jsx("p",{className:"text-sm leading-relaxed",style:{color:m==="dark"?"#A7B0BD":"#6B7280"},children:L.description})}),t.jsxs("div",{className:"p-4 rounded-xl space-y-2",style:{backgroundColor:m==="dark"?"#202734":"#F3F5F8"},children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{style:{color:m==="dark"?"#A7B0BD":"#6B7280"},children:"Цена:"}),t.jsx("span",{className:"font-medium",style:{color:m==="dark"?"#E8ECF2":"#0F172A"},children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{children:L.price.toLocaleString()}),t.jsx("img",{src:xn,alt:"coins",className:"w-4 h-4"})]})})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{style:{color:m==="dark"?"#A7B0BD":"#6B7280"},children:"В наличии:"}),t.jsx("span",{className:"font-medium",style:{color:m==="dark"?"#E8ECF2":"#0F172A"},children:L.stock===-1?"Неограниченно":`${L.stock} шт.`})]})]})]})})]})}function uC({icon:n,theme:s="light",size:o="sm",state:i="default",className:d="",disabled:u,...l}){const m={sm:{circle:28,icon:16},md:{circle:32,icon:18}}[o],F=(s==="dark"?{default:{backgroundColor:"#0F1116",borderColor:"#2A2F36",color:"#FFF"},hover:{backgroundColor:"#151923",borderColor:"#2A2F36",color:"#FFF"},pressed:{backgroundColor:"#11151D",borderColor:"#2A2F36",color:"#FFF"},focus:{backgroundColor:"#0F1116",borderColor:"#2A2F36",color:"#FFF",boxShadow:"0 0 0 2px #2A3340"},disabled:{backgroundColor:"#0F1116",borderColor:"#2A2F36",color:"rgba(255, 255, 255, 0.4)",cursor:"default"}}:{default:{backgroundColor:"var(--surface)",borderColor:"var(--border)",color:"var(--text)"},hover:{backgroundColor:"var(--surface-2)",borderColor:"var(--border)",color:"var(--text)"},pressed:{backgroundColor:"var(--surface-3)",borderColor:"var(--border)",color:"var(--text)"},focus:{backgroundColor:"var(--surface)",borderColor:"var(--border)",color:"var(--text)",boxShadow:"0 0 0 2px var(--ring)"},disabled:{backgroundColor:"var(--surface-2)",borderColor:"var(--border)",color:"var(--text-muted)",cursor:"default"}})[u?"disabled":i];return t.jsx("div",{style:{width:"44px",height:"44px",display:"flex",alignItems:"center",justifyContent:"center",background:"transparent"},children:t.jsx("button",{className:`transition-all duration-200 ${d}`,style:{width:`${m.circle}px`,height:`${m.circle}px`,borderRadius:"50%",border:"1px solid",display:"flex",alignItems:"center",justifyContent:"center",outline:"none",opacity:1,mixBlendMode:"normal",...F},disabled:u,...l,children:t.jsx("div",{style:{width:`${m.icon}px`,height:`${m.icon}px`,display:"flex",alignItems:"center",justifyContent:"center"},children:n})})})}function fC({onNavigate:n,currentPage:s,onOpenSettings:o,profilePhoto:i,setProfilePhoto:d,theme:u="light",battles:l=[],battleInvitations:p=[],personalBattles:m=[],users:g=[],currentUser:x}){const[y,v]=b.useState(!1),[F,N]=b.useState(!1),j="current-user",S=[...l.filter(H=>H.challengerId===j||H.opponentId===j).map(H=>({id:H.id,opponent:{name:H.challengerId===j?H.opponentName:H.challengerName,team:"Team 1",avatar:void 0},reward:H.stake,status:H.status==="completed"?"completed":H.status==="active"?"active":"waiting",dateCreated:H.startedAt?.toISOString()||new Date().toISOString(),result:H.status==="completed"?H.winnerId===j?"won":"lost":void 0})),...m.map(H=>({id:H.id||`personal_${Math.random()}`,opponent:{name:H.opponent?.name||"Соперник",team:`Team ${H.opponent?.team||1}`,avatar:H.opponent?.avatar},reward:H.prize||0,status:H.status||"waiting",dateCreated:H.created?.toISOString()||new Date().toISOString(),result:H.winner?H.winner==="challenger"?"won":"lost":void 0})),...p.filter(H=>H.challengerId===j||H.opponentId===j).map(H=>({id:`invite_${H.id}`,opponent:{name:H.challengerId===j?H.opponentName:H.challengerName,team:"Team 1",avatar:void 0},reward:H.stake,status:"waiting",dateCreated:H.createdAt.toISOString(),result:void 0}))],D=S.filter(H=>H.result==="won").length,T=x?.balance||0,C={id:x?.id||"—",name:x?.name||"—",birthDate:"—",position:"—",team:"—",experience:"—",teamLead:"—",registrationDate:"—",level:x?.level||0,experience_points:0,max_experience:100,balance:T.toString(),avatar:x?.avatar},L=S.slice(0,3),B=S,G=H=>{const le=H.target.files?.[0];if(le&&d){const ye=new FileReader;ye.onload=Fe=>{d(Fe.target?.result),v(!1)},ye.readAsDataURL(le)}},$=(H,le)=>{switch(H){case"active":return"text-blue-500";case"waiting":return"text-orange-500";case"completed":return le==="won"?"text-green-500":"text-red-500";default:return"text-muted-foreground"}},_=(H,le)=>{switch(H){case"active":return"В процессе";case"waiting":return"Ожидание";case"completed":return le==="won"?"Победа":"Поражение";default:return H}},ee=(H,le)=>{switch(H){case"active":return t.jsx(Qr,{size:16,className:"text-blue-500"});case"waiting":return t.jsx(c1,{size:16,className:"text-orange-500"});case"completed":return t.jsx(st,{size:16,className:le==="won"?"text-green-500":"text-red-500"});default:return null}};return t.jsxs("div",{className:"min-h-screen",style:{background:u==="dark"?"radial-gradient(circle at center, #12151B 0%, #0B0D10 100%)":"linear-gradient(135deg, #F5F7FA 0%, #FFFFFF 100%)",color:u==="dark"?"#E8ECF2":"#0F172A"},children:[t.jsx(Jr,{onNavigate:n,currentPage:s,hideUserIcon:!0,onOpenSettings:o,theme:u}),t.jsx("div",{className:"max-w-md mx-auto px-4 pb-24",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex gap-4 items-center",children:[t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsxs("div",{className:"glass-card rounded-3xl p-3 w-32 h-32 flex items-center justify-center relative",children:[t.jsx("button",{onClick:()=>v(!0),className:"absolute top-2 right-2 w-6 h-6 bg-black/20 backdrop-blur-sm rounded-full flex items-center justify-center hover:bg-black/30 transition-colors",children:t.jsx(Uo,{className:"w-3 h-3 text-white"})}),i?t.jsxs(Vd,{className:"w-24 h-24",children:[t.jsx(Ud,{src:i,alt:"Профиль"}),t.jsx(Wd,{className:"bg-gradient-to-br from-primary to-blue-600 text-white text-lg",children:"П"})]}):t.jsx("div",{className:"w-24 h-24 rounded-2xl bg-muted flex items-center justify-center",children:t.jsx(zn,{className:"w-10 h-10 text-muted-foreground"})})]}),t.jsx("div",{className:"text-sm text-muted-foreground text-center opacity-50",children:"@user"})]}),t.jsx("div",{className:"flex-1 glass-card rounded-3xl p-4",children:t.jsxs("div",{className:"space-y-3 text-xs",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"text-muted-foreground w-20",children:"Id:"}),t.jsx("span",{className:"text-muted-foreground/50 flex-1 border-b border-border pb-1",children:C.id})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"text-muted-foreground w-20",children:"Имя:"}),t.jsx("span",{className:"text-muted-foreground/50 flex-1 border-b border-border pb-1",children:C.name})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"text-muted-foreground w-20",children:"ДР:"}),t.jsx("span",{className:"text-muted-foreground/50 flex-1 border-b border-border pb-1",children:C.birthDate})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"text-muted-foreground w-20",children:"Должность:"}),t.jsx("span",{className:"text-muted-foreground/50 flex-1 border-b border-border pb-1",children:C.position})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"text-muted-foreground w-20",children:"Команда:"}),t.jsx("span",{className:"text-muted-foreground/50 flex-1 border-b border-border pb-1",children:C.team})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"text-muted-foreground w-20",children:"Стаж:"}),t.jsx("span",{className:"text-muted-foreground/50 flex-1 border-b border-border pb-1",children:C.experience})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"text-muted-foreground w-20",children:"Тимлид:"}),t.jsx("span",{className:"text-muted-foreground/50 flex-1 border-b border-border pb-1",children:C.teamLead})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"text-muted-foreground w-20",children:"Регистрация:"}),t.jsx("span",{className:"text-muted-foreground/50 flex-1 border-b border-border pb-1",children:C.registrationDate})]})]})})]}),t.jsxs("div",{className:"glass-card rounded-3xl p-4",children:[t.jsxs("div",{className:"flex items-center mb-3",style:{position:"relative"},children:[t.jsx("div",{className:"flex-1"}),t.jsx("h3",{className:"font-medium text-foreground",children:"Мои баттлы"}),t.jsx("div",{className:"flex-1 flex justify-end",children:t.jsx(uC,{icon:t.jsx(Vs,{style:{width:"16px",height:"16px"}}),onClick:()=>N(!0),theme:u,size:"sm",title:"Все баттлы"})})]}),L.length>0?t.jsx("div",{className:"space-y-2",children:L.map(H=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-card rounded-xl border border-border hover:bg-accent/30 transition-colors cursor-pointer",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-accent rounded-full flex items-center justify-center",children:t.jsx(zn,{size:16,className:"text-muted-foreground"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium",children:H.opponent.name}),t.jsx("div",{className:"text-xs text-muted-foreground",children:H.opponent.team})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[ee(H.status,H.result),t.jsx("span",{className:`text-xs font-medium ${$(H.status,H.result)}`,children:_(H.status,H.result)})]}),t.jsxs("div",{className:"flex items-center justify-end gap-1",children:[t.jsx("span",{className:"text-xs text-muted-foreground",children:H.reward}),t.jsx("img",{src:xn,alt:"coins",className:"w-3 h-3"})]})]})]},H.id))}):t.jsx("div",{className:"flex items-center justify-center min-h-[60px]",children:t.jsx("p",{className:"text-muted-foreground text-sm text-center opacity-70",children:"История баттлов отсутствует"})})]}),t.jsx(fg,{level:C.level,experience:C.experience_points,maxExperience:C.max_experience,theme:u}),t.jsx("div",{className:"glass-card rounded-3xl p-4",children:t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("div",{className:"glass-card rounded-2xl p-3 text-center",children:[t.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Побед"}),t.jsx("div",{className:"font-medium text-foreground",children:D})]}),t.jsxs("div",{className:"glass-card rounded-2xl p-3 text-center",children:[t.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Баланс"}),t.jsxs("div",{className:"flex items-center justify-center gap-1",children:[t.jsx("span",{className:"font-medium text-foreground",children:T}),t.jsx("img",{src:xn,alt:"coins",className:"w-4 h-4"})]})]}),t.jsxs("div",{className:"glass-card rounded-2xl p-3 text-center",children:[t.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Ачивки"}),t.jsx("div",{className:"font-medium text-muted-foreground opacity-50",children:"—"})]})]})})]})}),t.jsx(pt,{isOpen:y,onClose:()=>v(!1),title:"Фото профиля",theme:u,children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-sm text-center",style:{color:u==="dark"?"#A7B0BD":"#6B7280"},children:"Выберите фото для профиля"}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("label",{className:"cursor-pointer",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:G,className:"hidden"}),t.jsx("div",{className:"p-4 text-center rounded-xl hover:scale-[0.98] transition-transform",style:{backgroundColor:u==="dark"?"#202734":"#F3F5F8",border:u==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF"},children:t.jsx("div",{className:"text-sm font-medium",style:{color:u==="dark"?"#E8ECF2":"#0F172A"},children:"Загрузить фото"})})]}),t.jsx("button",{onClick:()=>v(!1),className:"p-4 text-sm font-medium rounded-xl hover:scale-[0.98] transition-transform",style:{backgroundColor:u==="dark"?"#202734":"#F3F5F8",border:u==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF",color:u==="dark"?"#E8ECF2":"#0F172A"},children:"Отменить"})]})]})}),t.jsx(pt,{isOpen:F,onClose:()=>N(!1),title:"Все мои баттлы",theme:u,children:t.jsx("div",{style:{maxHeight:"60vh",overflowY:"auto"},children:t.jsx("div",{className:"space-y-3",children:B.length>0?B.map(H=>t.jsx("div",{className:"p-3 rounded-xl",style:{backgroundColor:u==="dark"?"#202734":"#F3F5F8",border:u==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF"},children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:u==="dark"?"#1C2029":"#E6E9EF"},children:t.jsx(zn,{size:18,style:{color:u==="dark"?"#A7B0BD":"#6B7280"}})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium",style:{color:u==="dark"?"#E8ECF2":"#0F172A"},children:H.opponent.name}),t.jsx("div",{className:"text-xs",style:{color:u==="dark"?"#A7B0BD":"#6B7280"},children:H.opponent.team}),t.jsx("div",{className:"text-xs mt-1",style:{color:u==="dark"?"#A7B0BD":"#6B7280"},children:new Date(H.dateCreated).toLocaleDateString("ru-RU")})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[ee(H.status,H.result),t.jsx("span",{className:`text-sm font-medium ${$(H.status,H.result)}`,children:_(H.status,H.result)})]}),t.jsx("div",{className:"text-sm",style:{color:u==="dark"?"#A7B0BD":"#6B7280"},children:t.jsxs("div",{className:"flex items-center justify-end gap-1",children:[t.jsx("span",{children:H.reward}),t.jsx("img",{src:xn,alt:"coins",className:"w-4 h-4"})]})})]})]})},H.id)):t.jsx("div",{className:"flex items-center justify-center min-h-[120px]",children:t.jsx("p",{className:"text-sm text-center opacity-70",style:{color:u==="dark"?"#A7B0BD":"#6B7280"},children:"История баттлов отсутствует"})})})})}),t.jsx(es,{onNavigate:n,currentPage:s,theme:u})]})}function pC({onNavigate:n,currentPage:s,onOpenSettings:o,profilePhoto:i,personalBattles:d=[],setPersonalBattles:u,theme:l="light"}){console.log("BattlesPageExtended rendered with personalBattles:",d),console.log("setPersonalBattles function:",u);const p={id:"user1",name:"Иван Иванов",username:"@iivanov"},m=[{id:"1",name:"Анна Иванова",team:1,level:5,avatar:null,status:"available",role:"Дизайнер",achievements:12,completedTasks:48},{id:"2",name:"Петр Петров",team:1,level:7,avatar:null,status:"in_battle",role:"Разработчик",achievements:18,completedTasks:67},{id:"3",name:"Мария Сидорова",team:2,level:6,avatar:null,status:"available",role:"Аналитик",achievements:15,completedTasks:52},{id:"4",name:"Алексей Козлов",team:2,level:8,avatar:null,status:"available",role:"Тимлид",achievements:22,completedTasks:78},{id:"5",name:"Елена Морозова",team:3,level:4,avatar:null,status:"available",role:"Маркетолог",achievements:9,completedTasks:34},{id:"6",name:"Дмитрий Волков",team:3,level:9,avatar:null,status:"available",role:"Архитектор",achievements:25,completedTasks:89},{id:"7",name:"Ольга Соколова",team:4,level:5,avatar:null,status:"available",role:"UX/UI",achievements:14,completedTasks:41},{id:"8",name:"Сергей Орлов",team:4,level:6,avatar:null,status:"in_battle",role:"DevOps",achievements:16,completedTasks:55},{id:"9",name:"Михаил Рыбаков",team:5,level:7,avatar:null,status:"available",role:"QA",achievements:19,completedTasks:63},{id:"10",name:"Татьяна Белова",team:5,level:5,avatar:null,status:"available",role:"Менеджер",achievements:11,completedTasks:45},{id:"11",name:"Владимир Новиков",team:6,level:8,avatar:null,status:"available",role:"Backend",achievements:21,completedTasks:72},{id:"12",name:"Екатерина Попова",team:6,level:6,avatar:null,status:"available",role:"Frontend",achievements:17,completedTasks:58}],[g,x]=b.useState(!1),[y,v]=b.useState(!1),[F,N]=b.useState(!1),[j,S]=b.useState(!1),[D,T]=b.useState(!1),[C,L]=b.useState(null),[B,G]=b.useState(null),[$,_]=b.useState(!1),[ee,H]=b.useState(""),[le,ye]=b.useState(null),[Fe,ke]=b.useState(null),[xe,O]=b.useState(null),[Y,R]=b.useState("employees"),k=b.useRef(null),I=b.useRef(null),E=d.length>0,V=()=>{if(!u)return;const ne={id:"test-"+Date.now().toString(),challenger:{id:"current-user",name:"Иван Иванов",team:1,level:5,avatar:null,role:"Сотрудник",achievements:10,completedTasks:25},opponent:{id:"test-opponent",name:"Тест Оппонент",team:2,level:7,avatar:null,status:"available",role:"Тестер",achievements:15,completedTasks:30},status:"active",prize:1e3,endDate:new Date(Date.now()+1440*60*1e3),created:new Date};console.log("Creating test battle:",ne),u([...d,ne])},K=B?m.filter(ne=>ne.team===B):m.filter(ne=>ne.team>=1&&ne.team<=6),de=ne=>{const Ie=new Date,ze=ne.getTime()-Ie.getTime();if(ze<=0)return"Время истекло";const Bt=Math.floor(ze/(1e3*60*60*24)),yt=Math.floor(ze%(1e3*60*60*24)/(1e3*60*60));return Bt>0?`${Bt}д ${yt}ч`:`${yt}ч`},ae=ne=>{E||ne.status==="in_battle"||(L(ne),v(!0),x(!1))},je=()=>{if(!C||!u)return;const ne={id:Date.now().toString(),challenger:{id:"current-user",name:"Иван Иванов",team:1,level:5,avatar:null,role:"Сотрудник",achievements:10,completedTasks:25},opponent:C,status:"active",prize:500,endDate:new Date(Date.now()+10080*60*1e3),created:new Date};u([...d,ne]),v(!1),L(null)},Ne=()=>{v(!1),L(null)},Ae=ne=>{console.log("Cancel battle clicked for battle:",ne),O(ne),S(!0)},Re=()=>{!xe||!u||(console.log("Confirming battle cancellation for:",xe),u(d.filter(ne=>ne.id!==xe.id)),S(!1),O(null))},We=ne=>{L(ne),N(!0)},gt=ne=>{console.log("Victory submit clicked for battle:",ne),O(ne),T(!0)},vt=()=>{!le||!Fe||!xe||(console.log("Доказательства победы отправлены на проверку админам:",{battleId:xe.id,opponent:xe.opponent.name,comment:ee,file1:le.name,file2:Fe.name,submittedAt:new Date().toISOString()}),H(""),ye(null),ke(null),T(!1),O(null),alert("Доказательства отправлены на проверку админам!"))},se=ne=>Ie=>{const ze=Ie.target.files?.[0];ze&&(ne===1?ye(ze):ke(ze))},we=le&&Fe;return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:`min-h-screen ${l==="dark"?"dark":""}`,style:{background:"transparent",color:l==="dark"?"#E8ECF2":"#0F172A"},children:[t.jsx(Jr,{onNavigate:n,currentPage:s,onOpenSettings:o,user:p,profilePhoto:i,theme:l}),t.jsx("div",{className:"max-w-md mx-auto px-4 pb-24",children:t.jsxs("div",{className:"glass-card rounded-2xl flex flex-col apple-shadow",style:{minHeight:"500px"},children:[t.jsxs("div",{className:"flex items-center justify-between p-6",style:{borderBottom:l==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF"},children:[t.jsx("div",{className:"w-8"}),t.jsx("h2",{className:"text-lg font-medium flex-1 text-center",style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:"Баттлы"}),t.jsx("button",{onClick:()=>x(!0),disabled:!1,className:"transition-all hover:scale-105",style:{width:"28px",height:"28px",minWidth:"28px",minHeight:"28px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",background:l==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"#FFFFFF",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.2)":"1px solid #E6E9EF",boxShadow:l==="dark"?"0 4px 15px rgba(255, 255, 255, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.06)"},children:t.jsx(Un,{style:{width:"16px",height:"16px",color:l==="dark"?"#1A1A1A":"#6B7280"}})})]}),t.jsx("div",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex gap-2 p-1 rounded-2xl",style:{backgroundColor:l==="dark"?"#202734":"#F3F5F8",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF"},children:[t.jsx("button",{onClick:()=>R("employees"),className:"px-4 py-2 rounded-xl text-sm font-medium flex-1 text-center transition-all",style:Y==="employees"?{background:l==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"#000000",color:l==="dark"?"#1A1A1A":"#FFFFFF",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.2)":"none",boxShadow:l==="dark"?"0 4px 15px rgba(255, 255, 255, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.06)"}:{background:"transparent",color:l==="dark"?"#FFFFFF":"#6B7280"},children:"Сотрудники"}),t.jsxs("button",{onClick:()=>R("battles"),className:"px-4 py-2 rounded-xl text-sm font-medium flex-1 text-center transition-all",style:Y==="battles"?{background:l==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"#000000",color:l==="dark"?"#1A1A1A":"#FFFFFF",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.2)":"none",boxShadow:l==="dark"?"0 4px 15px rgba(255, 255, 255, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.06)"}:{background:"transparent",color:l==="dark"?"#FFFFFF":"#6B7280"},children:["Баттлы (",d.length,")"]})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-6",children:Y==="employees"?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>_(!$),className:"w-full flex items-center justify-between p-3 rounded-xl text-sm",style:{backgroundColor:l==="dark"?"#202734":"#F3F5F8",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF",color:l==="dark"?"#E8ECF2":"#0F172A"},children:[t.jsx("span",{children:B?`Команда ${B}`:"Все команды (1-6)"}),t.jsx(lx,{className:"w-4 h-4"})]}),$&&t.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 rounded-xl border shadow-lg z-10",style:{backgroundColor:l==="dark"?"#202734":"#FFFFFF",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF"},children:[t.jsx("button",{onClick:()=>{G(null),_(!1)},className:"w-full text-left p-3 text-sm hover:bg-opacity-50 transition-colors",style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:"Все команды (1-6)"}),[1,2,3,4,5,6].map(ne=>t.jsxs("button",{onClick:()=>{G(ne),_(!1)},className:"w-full text-left p-3 text-sm hover:bg-opacity-50 transition-colors",style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:["Команда ",ne]},ne))]})]}),K.length===0?t.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:t.jsxs("div",{className:"rounded-xl p-6 text-center",style:{backgroundColor:l==="dark"?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)"},children:[t.jsx(Yr,{className:"w-12 h-12 mx-auto mb-4",style:{color:l==="dark"?"#A7B0BD":"#6B7280"}}),t.jsx("p",{className:"text-sm opacity-70",style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:"Список сотрудников отсутствует"})]})}):t.jsx("div",{className:"space-y-3",children:K.map(ne=>t.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl cursor-pointer transition-all",style:{backgroundColor:l==="dark"?"#202734":"#F3F5F8",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF"},onClick:()=>We(ne),children:[t.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:l==="dark"?"#0F1116":"#FFFFFF",border:l==="dark"?"1px solid #2A2F36":"1px solid #E6E9EF"},children:t.jsx("span",{className:"text-lg",children:ne.name.charAt(0)})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium",style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:ne.name}),t.jsxs("div",{className:"text-sm",style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:["Команда ",ne.team," • Уровень ",ne.level]})]}),t.jsx("button",{onClick:Ie=>{Ie.stopPropagation(),ae(ne)},disabled:E||ne.status==="in_battle",className:`transition-all ${E||ne.status==="in_battle"?"opacity-50 cursor-not-allowed":"hover:scale-105"}`,style:{width:"28px",height:"28px",borderRadius:"50%",backgroundColor:E||ne.status==="in_battle"?l==="dark"?"#4A5568":"#9CA3AF":"#2B82FF",border:"none",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(Un,{style:{width:"16px",height:"16px",color:"#FFFFFF"}})})]},ne.id))})]}):d&&d.length>0?t.jsx("div",{className:"space-y-4",children:d.map((ne,Ie)=>(console.log(`Rendering battle ${Ie}:`,ne),t.jsxs("div",{className:"rounded-2xl p-4 transition-all",style:{backgroundColor:l==="dark"?"#202734":"#F3F5F8",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF"},children:[t.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:l==="dark"?"#0F1116":"#FFFFFF",border:l==="dark"?"1px solid #2A2F36":"1px solid #E6E9EF"},children:t.jsx("span",{className:"text-xl",children:ne.opponent?.name?.charAt(0)||"?"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium",style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:ne.opponent?.name}),t.jsxs("div",{className:"text-sm",style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:["Команда ",ne.opponent?.team," • Уровень ",ne.opponent?.level]})]})]}),t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(st,{className:"w-4 h-4",style:{color:"#FFD700"}}),t.jsxs("span",{style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:[ne.prize,"g"]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Wr,{className:"w-4 h-4",style:{color:l==="dark"?"#A7B0BD":"#6B7280"}}),t.jsx("span",{style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:de(ne.endDate)})]})]})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:ze=>{ze.preventDefault(),ze.stopPropagation(),console.log("Victory button clicked!",ne),gt(ne)},className:"flex-1 py-2 px-4 rounded-xl text-sm font-medium transition-all hover:scale-[0.98]",style:{background:l==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"#2B82FF",color:l==="dark"?"#1A1A1A":"#FFFFFF",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.2)":"none",boxShadow:l==="dark"?"0 4px 15px rgba(255, 255, 255, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.3)":"none",cursor:"pointer"},children:"Выиграл на баттл"}),t.jsx("button",{onClick:ze=>{ze.preventDefault(),ze.stopPropagation(),console.log("Cancel button clicked!",ne),Ae(ne)},className:"py-2 px-4 rounded-xl text-sm font-medium transition-all hover:scale-[0.98]",style:{background:l==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"#FEF2F2",color:"#EF4444",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.2)":"1px solid #EF4444",boxShadow:l==="dark"?"0 4px 15px rgba(255, 255, 255, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.3)":"none",cursor:"pointer"},children:"Отменить"})]})]},ne.id)))}):t.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:t.jsxs("div",{className:"rounded-xl p-6 text-center",style:{backgroundColor:l==="dark"?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)"},children:[t.jsx(st,{className:"w-12 h-12 mx-auto mb-4",style:{color:l==="dark"?"#A7B0BD":"#6B7280"}}),t.jsx("p",{className:"text-sm opacity-70 mb-4",style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:"Нет активных баттлов"}),t.jsx("button",{onClick:V,className:"px-4 py-2 rounded-xl text-sm font-medium transition-all hover:scale-105",style:{background:l==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"#2B82FF",color:l==="dark"?"#1A1A1A":"#FFFFFF",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.2)":"none",boxShadow:l==="dark"?"0 4px 15px rgba(255, 255, 255, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.3)":"none"},children:"Создать тестовый баттл"})]})})})]})}),t.jsx(es,{onNavigate:n,currentPage:s,theme:l})]}),g&&t.jsx(pt,{isOpen:g,onClose:()=>x(!1),theme:l,children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("button",{onClick:()=>x(!1),className:"p-2 rounded-full transition-colors",style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:t.jsx(Vn,{className:"w-6 h-6"})}),t.jsx("h2",{className:"text-lg font-medium",style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:"Выбрать противника"}),t.jsx("div",{className:"w-10"})]}),t.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:K.map(ne=>t.jsxs("button",{onClick:()=>ae(ne),disabled:ne.status==="in_battle",className:`w-full flex items-center gap-4 p-4 rounded-xl text-left transition-all ${ne.status==="in_battle"?"opacity-50 cursor-not-allowed":"hover:scale-[0.98]"}`,style:{backgroundColor:l==="dark"?"#202734":"#F3F5F8",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF"},children:[t.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:l==="dark"?"#0F1116":"#FFFFFF",border:l==="dark"?"1px solid #2A2F36":"1px solid #E6E9EF"},children:t.jsx("span",{className:"text-lg",children:ne.name.charAt(0)})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium",style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:ne.name}),t.jsxs("div",{className:"text-sm",style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:[ne.role," • Команда ",ne.team," • Уровень ",ne.level]}),ne.status==="in_battle"&&t.jsx("div",{className:"text-xs mt-1",style:{color:l==="dark"?"#FF6B6B":"#EF4444"},children:"Уже в баттле"})]}),t.jsx("div",{className:"flex items-center gap-3 text-sm",children:t.jsxs("div",{className:"flex items-center gap-1",style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:[t.jsx(Id,{className:"w-4 h-4"}),t.jsx("span",{children:ne.achievements})]})})]},ne.id))})]})}),y&&C&&t.jsx(pt,{isOpen:y,onClose:()=>v(!1),theme:l,children:t.jsxs("div",{className:"p-6 text-center",children:[t.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:l==="dark"?"#0F1116":"#FFFFFF",border:l==="dark"?"2px solid #2A2F36":"2px solid #E6E9EF"},children:t.jsx("span",{className:"text-2xl",children:C.name.charAt(0)})}),t.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:"Вызвать на баттл?"}),t.jsxs("p",{className:"text-sm mb-6",style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:[C.name," из команды ",C.team]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:Ne,className:"flex-1 py-3 px-4 rounded-xl text-sm font-medium transition-all hover:scale-[0.98]",style:{backgroundColor:l==="dark"?"#2A2F36":"#F3F5F8",color:l==="dark"?"#E8ECF2":"#6B7280",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF"},children:"Отмена"}),t.jsx("button",{onClick:je,className:"flex-1 py-3 px-4 rounded-xl text-sm font-medium transition-all hover:scale-[0.98]",style:{background:l==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"#2B82FF",color:l==="dark"?"#1A1A1A":"#FFFFFF",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.2)":"none",boxShadow:l==="dark"?"0 4px 15px rgba(255, 255, 255, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.3)":"none"},children:"Вызвать"})]})]})}),F&&C&&t.jsx(pt,{isOpen:F,onClose:()=>N(!1),theme:l,children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("button",{onClick:()=>N(!1),className:"p-2 rounded-full transition-colors",style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:t.jsx(Vn,{className:"w-6 h-6"})}),t.jsx("h2",{className:"text-lg font-medium",style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:"Профиль сотрудника"}),t.jsx("div",{className:"w-10"})]}),t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:l==="dark"?"#0F1116":"#FFFFFF",border:l==="dark"?"2px solid #2A2F36":"2px solid #E6E9EF"},children:t.jsx("span",{className:"text-3xl",children:C.name.charAt(0)})}),t.jsx("h3",{className:"text-xl font-medium mb-1",style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:C.name}),t.jsx("p",{className:"text-sm",style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:C.role})]}),t.jsxs("div",{className:"space-y-4 mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:l==="dark"?"#202734":"#F3F5F8",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF"},children:[t.jsx("span",{style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:"Команда"}),t.jsx("span",{style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:C.team})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:l==="dark"?"#202734":"#F3F5F8",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF"},children:[t.jsx("span",{style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:"Уровень"}),t.jsx("span",{style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:C.level})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:l==="dark"?"#202734":"#F3F5F8",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF"},children:[t.jsx("span",{style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:"Достижения"}),t.jsx("span",{style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:C.achievements})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:l==="dark"?"#202734":"#F3F5F8",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF"},children:[t.jsx("span",{style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:"Выполненные задачи"}),t.jsx("span",{style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:C.completedTasks})]})]}),!E&&C.status==="available"&&t.jsx("button",{onClick:()=>{N(!1),ae(C)},className:"w-full py-3 px-4 rounded-xl text-sm font-medium transition-all hover:scale-[0.98]",style:{background:l==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"#2B82FF",color:l==="dark"?"#1A1A1A":"#FFFFFF",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.2)":"none",boxShadow:l==="dark"?"0 4px 15px rgba(255, 255, 255, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.3)":"none"},children:"Вызвать на баттл"})]})}),j&&xe&&t.jsx(pt,{isOpen:j,onClose:()=>S(!1),theme:l,children:t.jsxs("div",{className:"p-6 text-center",children:[t.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:l==="dark"?"#FF6B6B20":"#FEF2F2",border:l==="dark"?"2px solid #FF6B6B40":"2px solid #FECACA"},children:t.jsx(it,{className:"w-8 h-8",style:{color:"#EF4444"}})}),t.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:"Отменить баттл?"}),t.jsxs("p",{className:"text-sm mb-6",style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:["Баттл с ",xe.opponent?.name," будет отменён"]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>S(!1),className:"flex-1 py-3 px-4 rounded-xl text-sm font-medium transition-all hover:scale-[0.98]",style:{backgroundColor:l==="dark"?"#2A2F36":"#F3F5F8",color:l==="dark"?"#E8ECF2":"#6B7280",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF"},children:"Отмена"}),t.jsx("button",{onClick:Re,className:"flex-1 py-3 px-4 rounded-xl text-sm font-medium transition-all hover:scale-[0.98]",style:{background:"#EF4444",color:"#FFFFFF",border:"none"},children:"Отменить баттл"})]})]})}),D&&xe&&t.jsx(pt,{isOpen:D,onClose:()=>T(!1),theme:l,children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("button",{onClick:()=>T(!1),className:"p-2 rounded-full transition-colors",style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:t.jsx(Vn,{className:"w-6 h-6"})}),t.jsx("h2",{className:"text-lg font-medium",style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:"Подтвердить победу"}),t.jsx("div",{className:"w-10"})]}),t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:l==="dark"?"#34C75920":"#F0F9F0",border:l==="dark"?"2px solid #34C75940":"2px solid #BBF7D0"},children:t.jsx(st,{className:"w-8 h-8",style:{color:"#FFD700"}})}),t.jsxs("h3",{className:"text-lg font-medium mb-1",style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:["Победа над ",xe.opponent?.name]}),t.jsx("p",{className:"text-sm",style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:"Приложите 2 файла в качестве доказательства"})]}),t.jsxs("div",{className:"space-y-4 mb-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:"Комментарий (необязательно)"}),t.jsx("textarea",{value:ee,onChange:ne=>H(ne.target.value),placeholder:"Описание победы...",className:"w-full p-3 rounded-xl text-sm resize-none",rows:3,style:{backgroundColor:l==="dark"?"#202734":"#F3F5F8",border:l==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF",color:l==="dark"?"#E8ECF2":"#0F172A"}})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:"Файл 1 *"}),t.jsx("div",{onClick:()=>k.current?.click(),className:"flex items-center justify-center p-4 rounded-xl cursor-pointer transition-all hover:scale-[0.98] min-h-[60px]",style:{backgroundColor:l==="dark"?"#202734":"#F3F5F8",border:l==="dark"?`2px dashed ${le?"#34C759":"rgba(255, 255, 255, 0.06)"}`:`2px dashed ${le?"#34C759":"#E6E9EF"}`},children:le?t.jsxs("div",{className:"text-center",children:[t.jsx(Ei,{className:"w-6 h-6 mx-auto mb-1",style:{color:"#34C759"}}),t.jsx("p",{className:"text-sm font-medium",style:{color:"#34C759"},children:le.name})]}):t.jsxs("div",{className:"text-center",children:[t.jsx(Yt,{className:"w-6 h-6 mx-auto mb-1",style:{color:l==="dark"?"#A7B0BD":"#6B7280"}}),t.jsx("p",{className:"text-sm",style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:"Выберите файл"})]})}),t.jsx("input",{ref:k,type:"file",onChange:se(1),className:"hidden",accept:"image/*,video/*,.pdf,.doc,.docx"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:l==="dark"?"#E8ECF2":"#0F172A"},children:"Файл 2 *"}),t.jsx("div",{onClick:()=>I.current?.click(),className:"flex items-center justify-center p-4 rounded-xl cursor-pointer transition-all hover:scale-[0.98] min-h-[60px]",style:{backgroundColor:l==="dark"?"#202734":"#F3F5F8",border:l==="dark"?`2px dashed ${Fe?"#34C759":"rgba(255, 255, 255, 0.06)"}`:`2px dashed ${Fe?"#34C759":"#E6E9EF"}`},children:Fe?t.jsxs("div",{className:"text-center",children:[t.jsx(Ei,{className:"w-6 h-6 mx-auto mb-1",style:{color:"#34C759"}}),t.jsx("p",{className:"text-sm font-medium",style:{color:"#34C759"},children:Fe.name})]}):t.jsxs("div",{className:"text-center",children:[t.jsx(Yt,{className:"w-6 h-6 mx-auto mb-1",style:{color:l==="dark"?"#A7B0BD":"#6B7280"}}),t.jsx("p",{className:"text-sm",style:{color:l==="dark"?"#A7B0BD":"#6B7280"},children:"Выберите файл"})]})}),t.jsx("input",{ref:I,type:"file",onChange:se(2),className:"hidden",accept:"image/*,video/*,.pdf,.doc,.docx"})]})]}),t.jsx("button",{onClick:vt,disabled:!we,className:`w-full py-3 px-4 rounded-xl text-sm font-medium transition-all ${we?"hover:scale-[0.98]":"opacity-50 cursor-not-allowed"}`,style:{background:we?l==="dark"?"linear-gradient(145deg, #FFFFFF, #E0E0E0)":"#2B82FF":l==="dark"?"#4A5568":"#9CA3AF",color:we&&l==="dark"?"#1A1A1A":"#FFFFFF",border:l==="dark"&&we?"1px solid rgba(255, 255, 255, 0.2)":"none",boxShadow:l==="dark"&&we?"0 4px 15px rgba(255, 255, 255, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.3)":"none"},children:"Отправить на проверку"})]})})]})}function mC({variant:n="spotlight+grain+vignette",theme:s="light"}){const[o,i]=b.useState("");return b.useEffect(()=>{if(s==="dark"||!n.includes("grain")){i("");return}i((()=>{const u=document.createElement("canvas");u.width=512,u.height=512;const l=u.getContext("2d");if(!l)return"";const p=l.createImageData(512,512),m=p.data;for(let g=0;g<m.length;g+=4){const x=Math.random()*255;m[g]=x,m[g+1]=x,m[g+2]=x,m[g+3]=255}return l.putImageData(p,0,0),u.toDataURL()})())},[n,s]),s==="dark"?null:t.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh",overflow:"hidden",pointerEvents:"none",zIndex:1},children:[t.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",backgroundColor:"#F7F9FC"}}),(n==="spotlight"||n.includes("spotlight"))&&t.jsx("div",{style:{position:"absolute",top:"60px",left:"50%",transform:"translateX(-50%)",width:"520px",height:"520px",background:"radial-gradient(circle, rgba(255, 255, 255, 1) 0%, transparent 100%)",opacity:.2,borderRadius:"50%"}}),n.includes("grain")&&o&&t.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundImage:`url(${o})`,backgroundSize:"512px 512px",backgroundRepeat:"repeat",mixBlendMode:"overlay",opacity:.03}}),n.includes("vignette")&&t.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"radial-gradient(ellipse at center, transparent 20%, rgba(0, 0, 0, 0.06) 100%)",mixBlendMode:"multiply",opacity:.05}})]})}function Jh({checked:n,onChange:s,disabled:o=!1,theme:i="light"}){return t.jsx("button",{onClick:()=>!o&&s(!n),disabled:o,className:"relative transition-all duration-200 focus:outline-none",style:{width:"44px",height:"28px",borderRadius:"14px",backgroundColor:n?"#2B82FF":i==="dark"?"#2A2F36":"#E6E9EF",cursor:o?"not-allowed":"pointer",opacity:o?.5:1},children:t.jsx("div",{className:"absolute transition-all duration-200",style:{width:"22px",height:"22px",borderRadius:"50%",backgroundColor:"#FFFFFF",top:"3px",left:n?"19px":"3px",boxShadow:n?"0 2px 6px rgba(0, 0, 0, 0.08)":"0 1px 3px rgba(0, 0, 0, 0.12)"}})})}const hC=[{telegramId:"123456789",username:"ivan_petrov",role:"главный_админ"},{telegramId:"987654321",username:"maria_sidorova",role:"главный_админ"},{telegramId:"111222333",username:"alexey_kozlov",role:"старший_админ"},{telegramId:"444555666",username:"elena_morozova",role:"старший_админ"},{telegramId:"1609556178",username:"admin_senior",role:"старший_админ"},{telegramId:"777888999",username:"dmitry_volkov",role:"младший_админ"},{telegramId:"000111222",username:"anna_lebedeva",role:"младший_админ"},{telegramId:"333444555",username:"sergey_orlov",role:"тимлид",teamNumber:1},{telegramId:"666777888",username:"olga_sokolova",role:"тимлид",teamNumber:2},{telegramId:"999000111",username:"mikhail_rybakov",role:"тимлид",teamNumber:3}],xC={"df1GE%LwVAAC":"главный_админ","0caFyNh}w%":"старший_админ","~3SogEhz":"младший_админ","SToU{~":"тимлид"};function gC({isOpen:n,onClose:s,isDarkMode:o,onToggleDarkMode:i,onOpenAdminPanel:d,hasAdminAccess:u,setHasAdminAccess:l,theme:p="light"}){const[m,g]=b.useState(!0),[x,y]=b.useState(!1),[v,F]=b.useState(""),[N,j]=b.useState(null),[S,D]=b.useState(!1),[T,C]=b.useState(""),[L,B]=b.useState(""),[G,$]=b.useState(!1),[_,ee]=b.useState(0);b.useEffect(()=>{const O=localStorage.getItem("notifications");O!==null&&g(JSON.parse(O))},[]);const H=()=>{if(!o){const O=_+1;ee(O),O===8&&(D(!0),ee(0))}i()},le=O=>{g(O),localStorage.setItem("notifications",JSON.stringify(O))},ye=O=>{const Y=O.target.files?.[0];Y&&j(Y)},Fe=()=>{console.log("Отчет отправлен:",{text:v,file:N}),y(!1),F(""),j(null)},ke=()=>{if(L&&T){const O=xC[T];O?hC.find(R=>R.telegramId===L&&R.role===O)?(localStorage.setItem("adminLoginData",JSON.stringify({telegramId:L,accessCode:T})),l(!0),D(!1),B(""),C("")):alert(`Пользователь с ID ${L} не найден в роли "${O}"`):alert("Неверный код доступа")}},xe=[{icon:Ii,title:"Уведомления",subtitle:"Управление уведомлениями",control:t.jsx(Jh,{checked:m,onChange:le,theme:p})},{icon:K1,title:"Тема",subtitle:"Переключение темы приложения",control:t.jsx(Jh,{checked:o,onChange:H,theme:p})},{icon:V1,title:"Сообщить о проблеме",subtitle:"Отправить отчет разработчикам",control:null,onClick:()=>y(!0)}];return t.jsxs(t.Fragment,{children:[t.jsxs(pt,{isOpen:n,onClose:s,theme:p,children:[t.jsxs("div",{className:"flex items-center justify-between",style:{marginBottom:"20px"},children:[t.jsx("h3",{className:"font-medium",style:{color:p==="dark"?"#E8ECF2":"#0F172A",fontSize:"18px",lineHeight:"24px"},children:"Настройки"}),t.jsx("button",{onClick:s,className:"transition-colors",style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:p==="dark"?"#202734":"#F3F5F8",border:p==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(it,{style:{width:"16px",height:"16px",color:p==="dark"?"#A7B0BD":"#6B7280"}})})]}),t.jsxs("div",{style:{backgroundColor:p==="dark"?"#161A22":"#FFFFFF",borderRadius:"16px",padding:"0",border:p==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF",overflow:"hidden"},children:[xe.map((O,Y)=>{const R=O.icon;return t.jsxs("div",{className:`flex items-center transition-colors ${O.onClick?"cursor-pointer hover:bg-opacity-50":""}`,style:{height:"64px",padding:"0 16px",borderBottom:Y<xe.length-1?p==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF":"none",backgroundColor:"transparent"},onClick:O.onClick,children:[t.jsx("div",{className:"flex items-center justify-center mr-3",style:{width:"28px",height:"28px",borderRadius:"50%",backgroundColor:p==="dark"?"#0F1116":"#FFFFFF",border:p==="dark"?"1px solid #2A2F36":"1px solid #E6E9EF"},children:t.jsx(R,{style:{width:"18px",height:"18px",color:p==="dark"?"#E8ECF2":"#6B7280"}})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium",style:{color:p==="dark"?"#E8ECF2":"#0F172A",fontSize:"16px",lineHeight:"20px"},children:O.title}),t.jsx("div",{style:{color:p==="dark"?"#A7B0BD":"#6B7280",fontSize:"14px",lineHeight:"18px"},children:O.subtitle})]}),O.control&&t.jsx("div",{className:"ml-3",children:O.control})]},Y)}),u&&t.jsxs("div",{className:"flex items-center cursor-pointer hover:bg-opacity-50 transition-colors",style:{height:"64px",padding:"0 16px",backgroundColor:"transparent"},onClick:()=>{d?.(),s()},children:[t.jsx("div",{className:"flex items-center justify-center mr-3",style:{width:"28px",height:"28px",borderRadius:"50%",backgroundColor:p==="dark"?"#0F1116":"#FFFFFF",border:p==="dark"?"1px solid #2A2F36":"1px solid #E6E9EF"},children:t.jsx(ad,{style:{width:"18px",height:"18px",color:"#2B82FF"}})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium",style:{color:p==="dark"?"#E8ECF2":"#0F172A",fontSize:"16px",lineHeight:"20px"},children:"Админ панель"}),t.jsx("div",{style:{color:p==="dark"?"#A7B0BD":"#6B7280",fontSize:"14px",lineHeight:"18px"},children:"Административные функции"})]}),t.jsx("div",{className:"ml-3",children:t.jsx(cx,{style:{width:"18px",height:"18px",color:p==="dark"?"#A7B0BD":"#6B7280"}})})]})]})]}),t.jsx(pt,{isOpen:x,onClose:()=>{y(!1),F(""),j(null)},title:"Сообщить о проблеме",theme:p,actions:t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>{y(!1),F(""),j(null)},className:"transition-colors",style:{height:"44px",borderRadius:"12px",backgroundColor:p==="dark"?"#202734":"#F3F5F8",border:p==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF",color:p==="dark"?"#E8ECF2":"#0F172A",padding:"0 20px"},children:"Отменить"}),t.jsx("button",{onClick:Fe,disabled:!v.trim(),className:"transition-colors disabled:opacity-50",style:{height:"44px",borderRadius:"12px",backgroundColor:v.trim()?"#2B82FF":p==="dark"?"#202734":"#E6E9EF",color:"#FFFFFF",border:"none",padding:"0 20px"},children:"Отправить"})]}),children:t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{children:t.jsx("textarea",{value:v,onChange:O=>F(O.target.value),placeholder:"Опишите проблему подробно...",rows:4,className:"w-full transition-colors resize-none",style:{height:"88px",borderRadius:"12px",backgroundColor:p==="dark"?"#202734":"#F3F5F8",border:p==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF",color:p==="dark"?"#E8ECF2":"#0F172A",padding:"12px",fontSize:"14px",outline:"none"}})}),t.jsxs("div",{children:[t.jsx("label",{className:"block mb-2 font-medium",style:{color:p==="dark"?"#E8ECF2":"#0F172A",fontSize:"14px"},children:"Прикрепить файл (опционально)"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"flex-1 min-w-0 p-3 rounded-lg overflow-hidden",style:{backgroundColor:p==="dark"?"#202734":"#F3F5F8",border:p==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF",color:p==="dark"?"#A7B0BD":"#6B7280"},children:t.jsx("span",{className:"block truncate text-sm",children:N?N.name:"Файл не выбран"})}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"file",id:"file-upload",accept:"image/*,video/*,.pdf,.doc,.docx",onChange:ye,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),t.jsx("button",{type:"button",className:"p-3 rounded-lg transition-colors",style:{backgroundColor:"#2B82FF",color:"#FFFFFF"},children:t.jsx(Yt,{style:{width:"18px",height:"18px"}})})]})]})]})]})}),t.jsx(pt,{isOpen:S,onClose:()=>{D(!1),B(""),C("")},title:"Админ панель",theme:p,actions:t.jsx("button",{onClick:ke,disabled:!L||!T,className:"w-full transition-colors disabled:opacity-50",style:{height:"44px",borderRadius:"12px",backgroundColor:L&&T?"#2B82FF":p==="dark"?"#202734":"#E6E9EF",color:"#FFFFFF",border:"none"},children:t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx(ad,{style:{width:"18px",height:"18px"}}),t.jsx("span",{children:"Войти в админку"})]})}),children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block mb-2 font-medium",style:{color:p==="dark"?"#E8ECF2":"#0F172A",fontSize:"14px"},children:"Telegram ID"}),t.jsx("input",{type:"text",value:L,onChange:O=>B(O.target.value),placeholder:"Введите ваш Telegram ID",className:"w-full transition-colors",style:{height:"44px",borderRadius:"12px",backgroundColor:p==="dark"?"#202734":"#F3F5F8",border:p==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF",color:p==="dark"?"#E8ECF2":"#0F172A",padding:"0 12px",fontSize:"14px",outline:"none"}})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block mb-2 font-medium",style:{color:p==="dark"?"#E8ECF2":"#0F172A",fontSize:"14px"},children:"Код доступа"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:G?"text":"password",value:T,onChange:O=>C(O.target.value),placeholder:"Введите код доступа",className:"w-full transition-colors pr-12",style:{height:"44px",borderRadius:"12px",backgroundColor:p==="dark"?"#202734":"#F3F5F8",border:p==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF",color:p==="dark"?"#E8ECF2":"#0F172A",padding:"0 12px",fontSize:"14px",outline:"none"}}),t.jsx("button",{type:"button",onClick:()=>$(!G),className:"absolute right-3 top-1/2 -translate-y-1/2 transition-colors",style:{color:p==="dark"?"#A7B0BD":"#6B7280"},children:G?t.jsx(ux,{style:{width:"18px",height:"18px"}}):t.jsx(Vs,{style:{width:"18px",height:"18px"}})})]})]}),t.jsx("div",{className:"text-center mt-4",style:{color:p==="dark"?"#A7B0BD":"#6B7280",fontSize:"12px"},children:"Доступ только для администраторов и тимлидов"})]})})]})}function vC({isOpen:n,onClose:s,theme:o="light"}){const[i,d]=Md.useState([{id:"1",type:"battle_evidence",title:"Новые доказательства баттла",message:"Алексей Петров отправил доказательства выполнения баттла",time:"2 мин назад",from:"Алексей Петров",isNew:!0},{id:"2",type:"task_submission",title:"Задача выполнена",message:"Мария Иванова отметила задачу как выполненную",time:"15 мин назад",from:"Мария Иванова",isNew:!0},{id:"3",type:"user_report",title:"Сообщение о проблеме",message:"Сергей Сидоров сообщил о технической проблеме",time:"1 час назад",from:"Сергей Сидоров",isNew:!1}]),u=()=>{d([])},l=p=>{switch(p){case"battle_evidence":return t.jsx(A1,{style:{width:"16px",height:"16px",color:"#2B82FF"}});case"task_submission":return t.jsx(Wr,{style:{width:"16px",height:"16px",color:"#34c759"}});case"user_report":return t.jsx(zn,{style:{width:"16px",height:"16px",color:"#ff9500"}});default:return t.jsx(Wr,{style:{width:"16px",height:"16px",color:o==="dark"?"#A7B0BD":"#6B7280"}})}};return t.jsx(pt,{isOpen:n,onClose:s,title:"Уведомления",theme:o,actions:i.length>0?t.jsx("button",{onClick:u,className:"w-full transition-colors text-center",style:{height:"44px",borderRadius:"12px",backgroundColor:"transparent",color:"#2B82FF",border:"none",fontSize:"14px"},children:"Отметить все как прочитанные"}):void 0,children:t.jsx("div",{style:{maxHeight:"60vh",overflowY:"auto"},children:i.length>0?t.jsx("div",{className:"space-y-3",children:i.map(p=>t.jsx("div",{className:"p-4 rounded-xl transition-colors cursor-pointer",style:{backgroundColor:p.isNew?o==="dark"?"rgba(43, 130, 255, 0.12)":"rgba(43, 130, 255, 0.10)":o==="dark"?"#202734":"#F3F5F8",border:p.isNew?"1px solid rgba(43, 130, 255, 0.20)":o==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF"},children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{style:{marginTop:"4px"},children:l(p.type)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("h4",{className:"font-medium",style:{fontSize:"14px",color:p.isNew?o==="dark"?"#E8ECF2":"#0F172A":o==="dark"?"#A7B0BD":"#6B7280"},children:p.title}),t.jsx("div",{className:"flex items-center gap-2",children:p.isNew&&t.jsx("div",{className:"rounded-full flex-shrink-0",style:{width:"8px",height:"8px",backgroundColor:"#2B82FF"}})})]}),t.jsx("p",{className:"mb-2",style:{fontSize:"12px",color:o==="dark"?"#A7B0BD":"#6B7280"},children:p.message}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{style:{fontSize:"12px",color:o==="dark"?"#A7B0BD":"#6B7280"},children:["От: ",p.from]}),t.jsx("span",{style:{fontSize:"12px",color:o==="dark"?"#A7B0BD":"#6B7280"},children:p.time})]})]})]})},p.id))}):t.jsx("div",{className:"flex items-center justify-center",style:{minHeight:"120px"},children:t.jsxs("div",{className:"text-center",children:[t.jsx(Wr,{style:{width:"48px",height:"48px",color:o==="dark"?"rgba(167, 176, 189, 0.5)":"rgba(107, 114, 128, 0.5)",margin:"0 auto 16px"}}),t.jsx("p",{style:{color:o==="dark"?"#A7B0BD":"#6B7280",fontSize:"14px"},children:"Нет новых уведомлений"})]})})})})}function yC({onClose:n,onToggleDarkMode:s,onNavigateToWorkers:o,onNavigateToAchievementsModeration:i,onNavigateToGames:d,onNavigateToCases:u,onNavigateToBattles:l}){const[p,m]=b.useState(!1),[g,x]=b.useState("active"),[y,v]=b.useState(!1),[F,N]=b.useState(!1),j=[],S=j.filter(B=>B.status==="active"),D=j.filter(B=>B.status==="resolved"),T=[{title:"Уведомления",value:"0",icon:Ii,hasAction:!0,action:()=>N(!0)},{title:"Сообщения о проблемах",value:"0",icon:O1,hasAction:!0,action:()=>m(!0)},{title:"Кол-во выполненных задач",value:"0",icon:Wn},{title:"Достижений получено",value:"0",icon:st}],C=[],L=[{icon:Xr,label:"Главная",action:null},{icon:Yr,label:"Сотрудники",action:o},{icon:Qr,label:"Баттлы",action:l},{icon:st,label:"Достижения",action:null},{icon:Wn,label:"Задачи",action:null},{icon:wr,label:"Товары",action:null},{icon:Kr,label:"Игры",action:d},{icon:zs,label:"Кейсы",action:u}];return t.jsxs("div",{className:"min-h-screen bg-background",children:[t.jsxs("div",{className:"p-6 space-y-6 pb-60",children:[t.jsx("h2",{className:"text-lg font-medium text-foreground text-center",children:"Главная"}),t.jsx("div",{className:"grid grid-cols-2 gap-4",children:T.map((B,G)=>{const $=B.icon;return t.jsx("div",{className:"glass-card p-4 rounded-2xl apple-shadow cursor-pointer",onClick:B.hasAction?B.action:void 0,children:t.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx($,{className:"w-5 h-5 text-primary flex-shrink-0"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:B.title})]}),t.jsx("div",{className:"text-2xl font-medium text-foreground",children:B.value})]})},G)})}),t.jsxs("div",{children:[t.jsx("div",{className:"mb-4",children:t.jsx("h3",{className:"text-lg font-medium text-foreground text-center",children:"Быстрые действия"})}),t.jsx("div",{className:"glass-card rounded-2xl overflow-hidden apple-shadow",children:t.jsx("div",{className:"p-4 text-center text-muted-foreground text-sm",children:"Нет уведомлений для проверки"})})]}),t.jsxs("div",{children:[t.jsx("div",{className:"mb-4",children:t.jsx("h3",{className:"text-lg font-medium text-foreground text-center",children:"Последняя активность"})}),t.jsx("div",{className:"glass-card rounded-2xl overflow-hidden apple-shadow relative",children:C.length===0?t.jsxs("div",{className:"p-8 text-center text-muted-foreground relative",children:["Активных пользователей нет",t.jsx("button",{onClick:()=>v(!0),className:"absolute top-4 right-4 p-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-lg transition-colors",title:"История активности",children:t.jsx(Wr,{className:"w-5 h-5 text-muted-foreground"})})]}):C.map((B,G)=>t.jsxs("div",{className:`p-4 flex items-center justify-between ${G!==C.length-1?"border-b border-border/20":""}`,children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-sm font-medium text-foreground",children:B.user}),t.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:B.action})]}),t.jsx("div",{className:"text-xs text-muted-foreground ml-4",children:B.time})]},G))})]})]}),t.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-background border-t border-border/20",children:t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"grid grid-cols-4 gap-4 mb-4",children:L.slice(0,4).map((B,G)=>{const $=B.icon,_=B.label==="Главная";return t.jsxs("button",{className:"flex flex-col items-center text-center",onClick:B.action||void 0,children:[t.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-2 apple-shadow ${_?"bg-primary":"glass-card"}`,children:t.jsx($,{className:`w-6 h-6 ${_?"text-white":"text-foreground/70"}`})}),t.jsx("span",{className:`text-xs ${_?"text-primary font-medium":"text-muted-foreground"}`,children:B.label})]},G)})}),t.jsx("div",{className:"grid grid-cols-4 gap-4",children:L.slice(4,8).map((B,G)=>{const $=B.icon;return t.jsxs("button",{className:"flex flex-col items-center text-center",onClick:B.action||void 0,children:[t.jsx("div",{className:"w-12 h-12 glass-card rounded-xl flex items-center justify-center mb-2 apple-shadow",children:t.jsx($,{className:"w-6 h-6 text-foreground/70"})}),t.jsx("span",{className:"text-xs text-muted-foreground",children:B.label})]},G)})})]})}),p&&t.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-background rounded-3xl w-full max-w-sm max-h-[80vh] overflow-hidden apple-shadow border border-border/20",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border/20",children:[t.jsx("h2",{className:"text-lg font-medium text-foreground text-center flex-1",children:"Сообщения о проблемах"}),t.jsx("button",{onClick:()=>m(!1),className:"p-2 hover:bg-black/5 rounded-lg transition-colors",children:t.jsx(it,{className:"w-5 h-5 text-foreground/70"})})]}),t.jsxs("div",{className:"flex border-b border-border/20",children:[t.jsxs("button",{onClick:()=>x("active"),className:`flex-1 py-3 px-4 text-sm font-medium transition-colors text-center ${g==="active"?"text-primary border-b-2 border-primary":"text-muted-foreground hover:text-foreground"}`,children:["Активные (",S.length,")"]}),t.jsxs("button",{onClick:()=>x("resolved"),className:`flex-1 py-3 px-4 text-sm font-medium transition-colors text-center ${g==="resolved"?"text-primary border-b-2 border-primary":"text-muted-foreground hover:text-foreground"}`,children:["Решены (",D.length,")"]})]}),t.jsxs("div",{className:"overflow-y-auto max-h-96 p-6",children:[(g==="active"?S:D).map(B=>t.jsxs("div",{className:"mb-4 p-4 bg-secondary rounded-2xl apple-shadow",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-medium text-foreground",children:B.user}),t.jsx("span",{className:"text-xs text-muted-foreground",children:B.timestamp})]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:B.description}),B.file&&t.jsxs("div",{className:"text-xs text-primary",children:["📎 ",B.file]}),g==="active"&&t.jsx("button",{className:"mt-3 px-3 py-1 bg-primary text-white text-xs rounded-lg hover:bg-primary/90 transition-colors",children:"Решить"})]},B.id)),(g==="active"?S:D).length===0&&t.jsx("div",{className:"text-center text-muted-foreground py-8",children:g==="active"?"Активных обращений нет":"Решенных обращений нет"})]})]})}),t.jsx(Ke,{open:y,onOpenChange:v,children:t.jsx(Ge,{className:"glass-card border-none max-w-sm p-0 [&>button]:hidden",children:t.jsxs("div",{className:"p-6",children:[t.jsxs(Ho,{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("button",{onClick:()=>v(!1),className:"p-2 hover:bg-black/5 rounded-lg transition-colors",children:t.jsx(Vn,{className:"w-5 h-5 text-foreground/70"})}),t.jsx(qe,{className:"text-lg font-medium text-foreground text-center flex-1",children:"История действий"})]}),t.jsx(Xe,{className:"sr-only",children:"История действий пользователей"})]}),t.jsx("div",{className:"text-center text-muted-foreground py-8",children:"История активности отсутствует"})]})})}),t.jsx(vC,{isOpen:F,onClose:()=>N(!1)})]})}function Mo({className:n,type:s,...o}){return t.jsx("input",{type:s,"data-slot":"input",className:gn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...o})}function Ms({className:n,...s}){return t.jsx("textarea",{"data-slot":"textarea",className:gn("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...s})}function bC({achievements:n,setAchievements:s,currentAdminPage:o="achievements",setCurrentAdminPage:i}){const[d,u]=b.useState(!1),[l,p]=b.useState(!1),[m,g]=b.useState(!1),[x,y]=b.useState(!1),[v,F]=b.useState(!1),[N,j]=b.useState(null),[S,D]=b.useState(null),[T,C]=b.useState(!1),[L,B]=b.useState(!1),[G,$]=b.useState("XP"),[_,ee]=b.useState("100"),[H,le]=b.useState(!1),[ye,Fe]=b.useState("date"),[ke,xe]=b.useState(!1),[O,Y]=b.useState(""),[R,k]=b.useState(""),[I,E]=b.useState(null),[V,K]=b.useState({title:"",description:"",subtasks:[""],image:null,rewardType:"XP",rewardAmount:100}),de=[{icon:Xr,label:"Главная",section:"dashboard"},{icon:Yr,label:"Воркеры",section:"workers"},{icon:Qr,label:"Баттлы",section:"battles"},{icon:st,label:"Достижения",section:"achievements"},{icon:Wn,label:"Задачи",section:"tasks"},{icon:wr,label:"Товары",section:"shop"},{icon:Kr,label:"Игры",section:"games"},{icon:zs,label:"Кейсы",section:"cases"}],ae=n.length>0?n:[{id:"1",title:"Первые шаги",description:"Выполните первую задачу в системе",icon:"🏆",isUnlocked:!1,category:"general",rarity:"common",requirements:{type:"tasks",target:1,current:0}},{id:"2",title:"Командный игрок",description:"Выполните 5 задач в команде",icon:"👥",isUnlocked:!1,category:"tasks",rarity:"rare",requirements:{type:"team_tasks",target:5,current:2}},{id:"3",title:"Эксперт баттлов",description:"Выиграйте 10 баттлов подряд",icon:"⚡",isUnlocked:!1,category:"battles",rarity:"epic",requirements:{type:"battle_wins",target:10,current:2}},{id:"4",title:"Легенда GRITHER",description:"Достигните максимального уровня",icon:"👑",isUnlocked:!1,category:"progression",rarity:"legendary",requirements:{type:"level",target:100,current:5}}],je=[{id:"1",achievementTitle:"Первые шаги",status:"на проверке",employee:"Алексей Иванов, Команда А",progress:100,dateSubmitted:"2024-01-15"},{id:"2",achievementTitle:"Командный игрок",status:"на проверке",employee:"Мария Петрова, Команда Б",progress:100,dateSubmitted:"2024-01-14"},{id:"3",achievementTitle:"Эксперт баттлов",status:"на проверке",employee:"Дмитрий Сидоров, Команда В",progress:100,dateSubmitted:"2024-01-13"}],Ne=()=>{const Q={id:Date.now().toString(),title:V.title||"Новое достижение",description:V.description,icon:"🏆",isUnlocked:!1,category:"general",rarity:"common",requirements:{type:"custom",target:1,current:0}};s([...n,Q]),u(!1),Ae()},Ae=()=>{K({title:"",description:"",subtasks:[""],image:null,rewardType:"XP",rewardAmount:100}),C(!1),B(!1)},Re=()=>{K({...V,subtasks:[...V.subtasks,""]})},We=(Q,Be)=>{const Pe=[...V.subtasks];Pe[Q]=Be,K({...V,subtasks:Pe})},gt=Q=>{if(V.subtasks.length>1){const Be=V.subtasks.filter((Pe,bt)=>bt!==Q);K({...V,subtasks:Be})}},vt=Q=>{const Be=Q.target.files?.[0];Be&&K({...V,image:Be})},se=Q=>{const Be=Q.target.files?.[0];Be&&E(Be)},we=Q=>{j(Q),K({title:Q.title,description:Q.description,subtasks:["Подзадача"],image:null,rewardType:"XP",rewardAmount:Q.requirements.target||100}),p(!0)},ne=()=>{y(!0)},Ie=Q=>{console.log("Approved:",Q)},ze=Q=>{D(Q),F(!0)},Bt=()=>{if(!O.trim()){alert("Укажите причину отклонения");return}console.log("Rejected:",S,O,R,I),F(!1),Y(""),k(""),E(null),D(null)},yt=[...je].sort((Q,Be)=>ye==="alphabet"?Q.achievementTitle.localeCompare(Be.achievementTitle):new Date(Be.dateSubmitted).getTime()-new Date(Q.dateSubmitted).getTime()),Ot=()=>{if(N&&(T||L)){const Q=n.map(Be=>Be.id===N.id?{...Be,title:V.title,description:V.description,requirements:{...Be.requirements,target:V.rewardAmount}}:Be);s(Q),C(!1),B(!1)}},ie=()=>{N&&($("XP"),ee(V.rewardAmount.toString()),g(!0))},ue=()=>{const Q=parseInt(_)||0;if(K({...V,rewardAmount:Q,rewardType:G}),N){const Be=n.map(Pe=>Pe.id===N.id?{...Pe,requirements:{...Pe.requirements,target:Q}}:Pe);s(Be)}g(!1),le(!1)};return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-background pb-40",children:[t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"text-center mb-8",children:t.jsx("h2",{className:"text-xl font-medium text-foreground",children:"Панель управления"})}),t.jsx("div",{className:"px-6 pb-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("button",{onClick:()=>u(!0),className:"px-4 py-2 glass-card rounded-lg hover:bg-black/5 dark:hover:bg-white/5 transition-colors text-foreground",children:"Добавить"}),t.jsx("button",{onClick:ne,className:"px-4 py-2 glass-card rounded-lg hover:bg-black/5 dark:hover:bg-white/5 transition-colors text-foreground",children:"Проверка"})]})}),t.jsx("div",{className:"px-6",children:t.jsxs("div",{className:"glass-card rounded-2xl apple-shadow p-4",children:[t.jsx("div",{className:"flex items-center justify-center mb-4",children:t.jsx("h2",{className:"text-lg font-medium text-foreground text-center",children:"Доступные достижения"})}),t.jsxs("div",{className:"space-y-3",children:[ae.map(Q=>t.jsxs("div",{className:"flex items-center justify-between p-3 border border-border/20 rounded-lg cursor-pointer hover:bg-black/5 dark:hover:bg-white/5 transition-colors",onClick:()=>we(Q),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-secondary rounded-full flex items-center justify-center",children:t.jsx(st,{className:"w-5 h-5 text-foreground/70"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-foreground",children:Q.title}),t.jsx("div",{className:"text-xs text-muted-foreground",children:Q.description})]})]}),t.jsx("div",{className:"text-right",children:t.jsxs("div",{className:"text-xs text-muted-foreground",children:[Math.round(Q.requirements.current/Q.requirements.target*100),"%"]})})]},Q.id)),ae.length===0&&t.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Достижения не найдены"})]})]})}),t.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-background border-t border-border/20",children:t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"grid grid-cols-4 gap-4 mb-4",children:de.slice(0,4).map((Q,Be)=>{const Pe=Q.icon,bt=Q.section===o;return t.jsxs("button",{className:"flex flex-col items-center text-center",onClick:()=>i?.(Q.section),children:[t.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-2 apple-shadow ${bt?"bg-primary":"glass-card"}`,children:t.jsx(Pe,{className:`w-6 h-6 ${bt?"text-white":"text-foreground/70"}`})}),t.jsx("span",{className:`text-xs ${bt?"text-primary font-medium":"text-muted-foreground"}`,children:Q.label})]},Be)})}),t.jsx("div",{className:"grid grid-cols-4 gap-4",children:de.slice(4,8).map((Q,Be)=>{const Pe=Q.icon,bt=Q.section===o;return t.jsxs("button",{className:"flex flex-col items-center text-center",onClick:()=>i?.(Q.section),children:[t.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-2 apple-shadow ${bt?"bg-primary":"glass-card"}`,children:t.jsx(Pe,{className:`w-6 h-6 ${bt?"text-white":"text-foreground/70"}`})}),t.jsx("span",{className:`text-xs ${bt?"text-primary font-medium":"text-muted-foreground"}`,children:Q.label})]},Be)})})]})})]}),t.jsx(Ke,{open:d,onOpenChange:u,children:t.jsxs(Ge,{className:"bg-background border-none max-w-sm p-0 [&>button]:hidden max-h-[90vh] overflow-hidden rounded-3xl",children:[t.jsx(qe,{className:"sr-only",children:"Создание достижения"}),t.jsx(Xe,{className:"sr-only",children:"Модальное окно для создания нового достижения с указанием названия, описания, подзадач и награды"}),t.jsxs("div",{className:"p-6 pt-2",children:[t.jsx("h2",{className:"text-lg font-medium text-foreground text-center mb-4",children:"Условия выполнения достижения"}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"text-center",children:t.jsx(Mo,{placeholder:"Название достижения",value:V.title,onChange:Q=>K({...V,title:Q.target.value}),className:"bg-transparent border border-border rounded-lg text-center font-medium"})}),t.jsx("div",{className:"glass-card rounded-2xl p-4",children:t.jsxs("div",{className:"flex gap-4",children:[t.jsx("div",{className:"w-20 h-20 bg-secondary rounded-2xl flex items-center justify-center",children:t.jsx(st,{className:"w-8 h-8 text-foreground/70"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx(Ms,{placeholder:"Краткое описание того, что нужно сделать для получения этого достижения",value:V.description,onChange:Q=>K({...V,description:Q.target.value}),className:"bg-transparent border-none resize-none min-h-16 text-sm focus:outline-none p-0"}),t.jsxs("div",{className:"mt-4 space-y-2",children:[V.subtasks.map((Q,Be)=>t.jsxs("div",{className:"flex items-center gap-2 pl-2 border-l-2 border-muted",children:[t.jsx(Mo,{placeholder:"Подзадача",value:Q,onChange:Pe=>We(Be,Pe.target.value),className:"bg-transparent border-none text-sm p-0 h-6"}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("button",{className:"p-1 hover:bg-black/5 dark:hover:bg-white/5 rounded transition-colors",children:t.jsx(Yt,{className:"w-3 h-3 text-muted-foreground"})}),V.subtasks.length>1&&t.jsx("button",{onClick:()=>gt(Be),className:"p-1 hover:bg-black/5 dark:hover:bg-white/5 rounded transition-colors",children:t.jsx(it,{className:"w-3 h-3 text-muted-foreground"})})]})]},Be)),t.jsxs("button",{onClick:Re,className:"flex items-center gap-2 pl-2 py-1 text-sm text-primary hover:bg-black/5 dark:hover:bg-white/5 rounded transition-colors",children:[t.jsx(Un,{className:"w-3 h-3"}),t.jsx("span",{children:"Добавить подзадачу"})]})]})]}),t.jsxs("div",{className:"flex flex-col gap-1 pt-2",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:vt,className:"hidden",id:"image-upload-create"}),t.jsx("label",{htmlFor:"image-upload-create",className:"p-1 hover:bg-black/5 dark:hover:bg-white/5 rounded transition-colors cursor-pointer",children:t.jsx(Yt,{className:"w-4 h-4 text-muted-foreground"})})]})]})}),t.jsx("div",{className:"text-center",children:t.jsxs("div",{className:"text-sm font-medium text-foreground",children:["Награда: ",V.rewardAmount," ",V.rewardType]})}),t.jsxs("div",{className:"flex gap-3 pt-4 mt-6",children:[t.jsx("button",{onClick:()=>{u(!1),Ae()},className:"flex-1 py-3 px-4 bg-secondary text-foreground rounded-full text-sm font-medium transition-colors hover:bg-accent",children:"Отменить"}),t.jsx("button",{onClick:()=>{Ne(),Ae()},className:"flex-1 py-3 px-4 bg-primary text-primary-foreground rounded-full text-sm font-medium transition-colors hover:bg-primary/90",children:"Применить"})]})]})]})]})}),t.jsx(Ke,{open:l,onOpenChange:p,children:t.jsxs(Ge,{className:"bg-background border-none max-w-sm p-0 [&>button]:hidden rounded-3xl",children:[t.jsx(qe,{className:"sr-only",children:"Редактирование достижения"}),t.jsx(Xe,{className:"sr-only",children:"Модальное окно с подробной информацией о достижении и возможностью редактирования названия, описания и награды"}),t.jsxs("div",{className:"p-6 pt-2",children:[t.jsx("h2",{className:"text-lg font-medium text-foreground text-center mb-4",children:"Условия выполнения достижения"}),N&&t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"text-center",children:L?t.jsx(Mo,{value:V.title,onChange:Q=>K({...V,title:Q.target.value}),onBlur:()=>B(!1),className:"bg-transparent border border-border rounded-lg text-center font-medium",autoFocus:!0}):t.jsx("button",{onClick:()=>B(!0),className:"text-lg font-medium text-foreground hover:bg-black/5 dark:hover:bg-white/5 rounded px-2 py-1 transition-colors",children:V.title})}),t.jsx("div",{className:"glass-card rounded-2xl p-4",children:t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"relative w-20 h-20 bg-secondary rounded-2xl flex items-center justify-center",children:[t.jsx(st,{className:"w-8 h-8 text-foreground/70"}),t.jsxs("div",{className:"absolute -top-1 -right-1",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:vt,className:"hidden",id:"image-upload-detail"}),t.jsx("label",{htmlFor:"image-upload-detail",className:"w-6 h-6 bg-primary rounded-full flex items-center justify-center cursor-pointer hover:scale-105 transition-transform apple-shadow",children:t.jsx(Uo,{className:"w-3 h-3 text-white"})})]})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"relative",children:T?t.jsx(Ms,{value:V.description,onChange:Q=>K({...V,description:Q.target.value}),className:"bg-transparent border-none resize-none min-h-16 text-sm focus:outline-none p-0"}):t.jsx("div",{className:"text-sm text-foreground min-h-16 py-2",children:V.description})}),t.jsx("div",{className:"mt-4 pl-2 border-l-2 border-muted",children:t.jsx("div",{className:"text-sm text-muted-foreground",children:"Подзадача"})})]}),t.jsxs("div",{className:"flex flex-col gap-1 pt-2",children:[t.jsx("button",{onClick:()=>C(!T),className:"p-1 hover:bg-black/5 dark:hover:bg-white/5 rounded transition-colors",children:t.jsx(Uo,{className:"w-4 h-4 text-muted-foreground"})}),t.jsx("button",{className:"p-1 hover:bg-black/5 dark:hover:bg-white/5 rounded transition-colors",children:t.jsx(Yt,{className:"w-4 h-4 text-muted-foreground"})})]})]})}),t.jsx("div",{className:"text-center",children:t.jsxs("button",{onClick:ie,className:"text-sm font-medium text-foreground hover:bg-black/5 dark:hover:bg-white/5 rounded px-2 py-1 transition-colors",children:["Награда: ",V.rewardAmount," ",V.rewardType]})}),t.jsxs("div",{className:"flex gap-3 pt-4 mt-6",children:[t.jsx("button",{onClick:()=>{p(!1),Ae()},className:"flex-1 py-3 px-4 bg-secondary text-foreground rounded-full text-sm font-medium transition-colors hover:bg-accent",children:"Отменить"}),t.jsx("button",{onClick:()=>{(T||L)&&Ot(),p(!1),Ae()},className:"flex-1 py-3 px-4 bg-primary text-primary-foreground rounded-full text-sm font-medium transition-colors hover:bg-primary/90",children:"Применить"})]})]})]})]})}),t.jsx(Ke,{open:m,onOpenChange:g,children:t.jsxs(Ge,{className:"bg-background border-none max-w-sm p-0 [&>button]:hidden rounded-3xl",children:[t.jsx(qe,{className:"text-lg font-medium text-foreground text-center",children:"Настройка награды"}),t.jsx(Xe,{className:"sr-only",children:"Модальное окно для настройки типа и количества награды за достижение"}),t.jsx("div",{className:"p-6 pt-2",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"text-center",children:t.jsxs("div",{className:"flex gap-2 justify-center",children:[t.jsx("button",{onClick:()=>$("XP"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${G==="XP"?"bg-primary text-primary-foreground":"bg-secondary text-foreground hover:bg-accent"}`,children:"XP"}),t.jsx("button",{onClick:()=>$("G-coin"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${G==="G-coin"?"bg-primary text-primary-foreground":"bg-secondary text-foreground hover:bg-accent"}`,children:"G-coin"})]})}),t.jsx("div",{className:"text-center",children:t.jsx(Mo,{type:"number",value:_,onChange:Q=>ee(Q.target.value),className:"bg-transparent border border-border rounded-lg text-center font-medium",min:"1"})}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{onClick:()=>g(!1),className:"flex-1 py-3 px-4 bg-secondary text-foreground rounded-full text-sm font-medium transition-colors hover:bg-accent",children:"Отменить"}),t.jsx("button",{onClick:ue,className:"flex-1 py-3 px-4 bg-primary text-primary-foreground rounded-full text-sm font-medium transition-colors hover:bg-primary/90",children:"Сохранить"})]})]})})]})}),t.jsx(Ke,{open:x,onOpenChange:y,children:t.jsxs(Ge,{className:"bg-background border-none max-w-sm p-0 [&>button]:hidden max-h-[90vh] overflow-hidden rounded-3xl",children:[t.jsx(qe,{className:"text-lg font-medium text-foreground text-center",children:"Модерация достижений"}),t.jsx(Xe,{className:"sr-only",children:"Модальное окно для проверки и модерации достижений, отправленных пользователями на проверку"}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"text-sm font-medium text-foreground",children:["Достижения на проверке (",yt.length,")"]}),t.jsxs("div",{className:"relative",children:[t.jsx("button",{onClick:()=>xe(!ke),className:"p-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-lg transition-colors",children:t.jsx(vr,{className:"w-4 h-4 text-foreground/70"})}),ke&&t.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-background border border-border rounded-lg shadow-lg z-10 min-w-[160px]",children:[t.jsx("button",{onClick:()=>{Fe("date"),xe(!1)},className:`w-full px-4 py-2 text-left text-sm hover:bg-accent transition-colors ${ye==="date"?"text-primary font-medium":"text-foreground"}`,children:"По дате"}),t.jsx("button",{onClick:()=>{Fe("alphabet"),xe(!1)},className:`w-full px-4 py-2 text-left text-sm hover:bg-accent transition-colors ${ye==="alphabet"?"text-primary font-medium":"text-foreground"}`,children:"По алфавиту"})]})]})]}),t.jsx("div",{className:"space-y-3",children:yt.length>0?yt.map(Q=>t.jsxs("div",{className:"glass-card rounded-2xl p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-sm font-medium text-foreground mb-1",children:Q.achievementTitle}),t.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:Q.employee}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Прогресс: ",Q.progress,"% • ",Q.dateSubmitted]})]}),t.jsx("div",{className:"text-xs px-2 py-1 bg-orange-500/20 text-orange-600 rounded-full",children:Q.status})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>Ie(Q),className:"flex-1 py-2 px-3 bg-green-500/20 text-green-600 rounded-lg text-sm font-medium hover:bg-green-500/30 transition-colors",children:"Одобрить"}),t.jsx("button",{onClick:()=>ze(Q),className:"flex-1 py-2 px-3 bg-red-500/20 text-red-600 rounded-lg text-sm font-medium hover:bg-red-500/30 transition-colors",children:"Отклонить"})]})]},Q.id)):t.jsx("div",{className:"text-center py-8",children:t.jsx("div",{className:"text-muted-foreground text-sm",children:"Нет достижений на проверке"})})}),t.jsx("div",{className:"pt-6 mt-6 border-t border-border/20",children:t.jsx("button",{onClick:()=>{y(!1),xe(!1)},className:"w-full py-3 px-4 bg-secondary text-foreground rounded-full text-sm font-medium transition-colors hover:bg-accent",children:"Закрыть"})})]})]})}),t.jsx(Ke,{open:v,onOpenChange:F,children:t.jsxs(Ge,{className:"bg-background border-none max-w-sm p-0 [&>button]:hidden rounded-3xl",children:[t.jsx(qe,{className:"text-lg font-medium text-foreground text-center",children:"Отклонение достижения"}),t.jsx(Xe,{className:"sr-only",children:"Модальное окно для указания причины отклонения достижения с возможностью добавления комментария и файла"}),t.jsx("div",{className:"p-6 pt-2",children:t.jsxs("div",{className:"space-y-4",children:[S&&t.jsxs("div",{className:"glass-card rounded-xl p-3 mb-4",children:[t.jsx("div",{className:"text-sm font-medium text-foreground mb-1",children:S.achievementTitle}),t.jsx("div",{className:"text-xs text-muted-foreground",children:S.employee})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Причина отклонения *"}),t.jsx(Ms,{value:O,onChange:Q=>Y(Q.target.value),placeholder:"Укажите причину отклонения...",className:"bg-transparent border border-border rounded-lg text-sm min-h-[80px]"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Дополнительный комментарий"}),t.jsx(Ms,{value:R,onChange:Q=>k(Q.target.value),placeholder:"Дополнительные пояснения (опционально)",className:"bg-transparent border border-border rounded-lg text-sm min-h-[60px]"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Прикрепить файл"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"flex-1 p-2 border border-border rounded-lg bg-input-background text-muted-foreground text-sm",children:I?I.name:"Файл не выбран"}),t.jsx("input",{type:"file",id:"reject-file-upload",accept:"image/*,video/*,.pdf,.doc,.docx",onChange:se,className:"hidden"}),t.jsx("label",{htmlFor:"reject-file-upload",className:"p-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors cursor-pointer",children:t.jsx(Yt,{className:"w-4 h-4"})})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{onClick:()=>{F(!1),Y(""),k(""),E(null),D(null)},className:"flex-1 py-3 px-4 bg-secondary text-foreground rounded-full text-sm font-medium transition-colors hover:bg-accent",children:"Отменить"}),t.jsx("button",{onClick:Bt,className:"flex-1 py-3 px-4 bg-red-500 text-white rounded-full text-sm font-medium transition-colors hover:bg-red-600",children:"Отклонить"})]})]})})]})})]})})}function jC({currentAdminPage:n="tasks",setCurrentAdminPage:s,tasks:o,setTasks:i}){const d=[{id:"1",name:"Александр Петров",team:"Команда А"},{id:"2",name:"Мария Иванова",team:"Команда Б"},{id:"3",name:"Дмитрий Сидоров",team:"Команда А"},{id:"4",name:"Елена Козлова",team:"Команда В"},{id:"5",name:"Андрей Морозов",team:"Команда Б"},{id:"6",name:"Ольга Волкова",team:"Команда А"}],u=[{icon:Xr,label:"Главная",section:"dashboard"},{icon:Yr,label:"Воркеры",section:"workers"},{icon:Qr,label:"Баттлы",section:"battles"},{icon:st,label:"Достижения",section:"achievements"},{icon:Wn,label:"Задачи",section:"tasks"},{icon:wr,label:"Товары",section:"shop"},{icon:Kr,label:"Игры",section:"games"},{icon:zs,label:"Кейсы",section:"cases"}],l=o.filter(K=>K.status==="active").map(K=>({id:K.id,title:K.title,description:K.description,subtasks:[],assignedTo:[K.assignedTo||"user1"],assignedBy:"Админ",dateAssigned:K.createdAt||new Date().toISOString().split("T")[0],deadline:K.deadline,reward:{type:K.rewardType==="coins"?"G-coin":"XP",amount:K.reward},difficulty:"среднее",status:"pending"})),p=o.filter(K=>K.status==="completed").map(K=>({id:K.id,title:K.title,description:K.description,subtasks:[],assignedTo:[K.assignedTo||"user1"],assignedBy:"Админ",dateAssigned:K.createdAt||new Date().toISOString().split("T")[0],deadline:K.deadline,reward:{type:K.rewardType==="coins"?"G-coin":"XP",amount:K.reward},difficulty:"среднее",status:"completed",completedDate:K.completedAt})),[m,g]=b.useState(!1),[x,y]=b.useState(!1),[v,F]=b.useState(!1),[N,j]=b.useState(!1),[S,D]=b.useState(!1),[T,C]=b.useState(!1),[L,B]=b.useState(null),[G,$]=b.useState(""),[_,ee]=b.useState("date"),[H,le]=b.useState(!1),[ye,Fe]=b.useState("date"),[ke,xe]=b.useState(!1),[O,Y]=b.useState({title:"",description:"",subtasks:[{id:"1",description:"",requiresAttachment:!1}],assignedTo:[],deadline:"",reward:{type:"XP",amount:100},difficulty:"среднее"}),[R,k]=b.useState({type:"XP",amount:100}),I=()=>{if(!O.title||!O.description)return;const K={id:Date.now().toString(),title:O.title,description:O.description,reward:O.reward.amount,rewardType:O.reward.type==="XP"?"xp":"coins",deadline:O.deadline||new Date(Date.now()+10080*60*1e3).toLocaleDateString("ru-RU"),category:"individual",status:"active",assignedTo:O.assignedTo[0]||"user1",createdBy:"admin",createdAt:new Date().toLocaleDateString("ru-RU"),isPublished:!0};i([...o,K]),Y({title:"",description:"",subtasks:[{id:"1",description:"",requiresAttachment:!1}],assignedTo:[],deadline:"",reward:{type:"XP",amount:100},difficulty:"среднее"}),g(!1)},E=K=>{B(K),F(!0)},V=()=>{D(!0)};return[...l],[...p],t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"min-h-screen bg-background pb-40",children:t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"text-center mb-8",children:t.jsx("h2",{className:"text-xl font-medium text-foreground",children:"Панель управления"})}),t.jsx("div",{className:"px-6 pb-4",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("button",{onClick:()=>g(!0),className:"px-4 py-2 glass-card rounded-lg hover:bg-black/5 dark:hover:bg-white/5 transition-colors text-foreground",children:"Доб. задачу"})})}),t.jsx("div",{className:"px-6",children:t.jsxs("div",{className:"glass-card rounded-2xl apple-shadow p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("button",{onClick:()=>y(!0),className:"glass-card p-3 rounded-xl transition-colors hover:bg-accent/50",title:"История задач",children:t.jsx(M1,{size:16,className:"text-foreground/70"})}),t.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Активные задачи"}),t.jsx("div",{className:"glass-card p-3 rounded-xl",children:t.jsx(vr,{size:16,className:"text-foreground/70"})})]}),t.jsx("div",{className:"space-y-3",children:l.length===0?t.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Активных задач нет"}):l.map(K=>t.jsx("div",{className:"glass-card rounded-2xl p-4 cursor-pointer",onClick:()=>E(K),children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium text-foreground text-sm mb-1",children:K.title}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Награда: ",K.reward.amount," ",K.reward.type]})]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:K.dateAssigned})]})},K.id))})]})}),t.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-background border-t border-border/20",children:t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"grid grid-cols-4 gap-4 mb-4",children:u.slice(0,4).map((K,de)=>{const ae=K.icon,je=K.section===n;return t.jsxs("button",{className:"flex flex-col items-center text-center",onClick:()=>s?.(K.section),children:[t.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-2 apple-shadow ${je?"bg-primary":"glass-card"}`,children:t.jsx(ae,{className:`w-6 h-6 ${je?"text-white":"text-foreground/70"}`})}),t.jsx("span",{className:`text-xs ${je?"text-primary font-medium":"text-muted-foreground"}`,children:K.label})]},de)})}),t.jsx("div",{className:"grid grid-cols-4 gap-4",children:u.slice(4,8).map((K,de)=>{const ae=K.icon,je=K.section===n;return t.jsxs("button",{className:"flex flex-col items-center text-center",onClick:()=>s?.(K.section),children:[t.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-2 apple-shadow ${je?"bg-primary":"glass-card"}`,children:t.jsx(ae,{className:`w-6 h-6 ${je?"text-white":"text-foreground/70"}`})}),t.jsx("span",{className:`text-xs ${je?"text-primary font-medium":"text-muted-foreground"}`,children:K.label})]},de)})})]})})]})}),t.jsx(Ke,{open:x,onOpenChange:y,children:t.jsxs(Ge,{className:"bg-background border-none max-w-sm p-0 [&>button]:hidden max-h-[90vh] overflow-hidden rounded-3xl",children:[t.jsx(qe,{className:"sr-only",children:"История задач"}),t.jsx(Xe,{className:"sr-only",children:"Модальное окно со списком выполненных задач"}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-medium text-foreground",children:"История задач"}),t.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-black/5 rounded-lg transition-colors",children:t.jsx(it,{className:"w-5 h-5 text-foreground/70"})})]}),t.jsx("div",{className:"space-y-3",children:p.length===0?t.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Выполненных задач нет"}):p.map(K=>t.jsx("div",{className:"glass-card rounded-2xl p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium text-foreground text-sm mb-1",children:K.title}),t.jsxs("div",{className:"text-xs text-green-600",children:["Выполнено: ",K.completedDate]})]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Награда: ",K.reward.amount," ",K.reward.type]})]})},K.id))})]})]})}),t.jsx(Ke,{open:m,onOpenChange:g,children:t.jsxs(Ge,{className:"bg-background border-none max-w-sm p-0 [&>button]:hidden max-h-[90vh] overflow-hidden rounded-3xl",children:[t.jsx(qe,{className:"sr-only",children:"Создание задачи"}),t.jsx(Xe,{className:"sr-only",children:"Модальное окно для создания новой задачи с подзадачами, выбором сотрудников и настройкой награды"}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("button",{onClick:()=>g(!1),className:"p-2 hover:bg-black/5 rounded-lg transition-colors",children:t.jsx(Vn,{className:"w-5 h-5 text-foreground/70"})}),t.jsx(Mo,{placeholder:"Название задачи",value:O.title,onChange:K=>Y({...O,title:K.target.value}),className:"flex-1 mx-4 bg-transparent border border-border rounded-lg text-center font-medium"}),t.jsx("button",{onClick:V,className:"w-10 h-10 bg-secondary rounded-full flex items-center justify-center hover:bg-accent transition-colors",children:t.jsx(zn,{className:"w-5 h-5 text-foreground/70"})})]}),t.jsx("div",{className:"glass-card rounded-2xl p-4 mb-6",children:t.jsx(Ms,{placeholder:"Описание того, что нужно сделать для выполнения задачи",value:O.description,onChange:K=>Y({...O,description:K.target.value}),className:"bg-transparent border-none resize-none min-h-16 text-sm focus:outline-none p-0"})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>g(!1),className:"flex-1 py-3 px-4 bg-secondary text-secondary-foreground rounded-full text-sm font-medium transition-colors hover:bg-secondary/80",children:"Отмена"}),t.jsx("button",{onClick:I,disabled:!O.title||!O.description,className:"flex-1 py-3 px-4 bg-primary text-primary-foreground rounded-full text-sm font-medium transition-colors hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed",children:"Создать"})]})]})]})}),t.jsx(Ke,{open:v,onOpenChange:F,children:t.jsxs(Ge,{className:"bg-background border-none max-w-md p-0 [&>button]:hidden max-h-[90vh] overflow-hidden rounded-3xl",children:[t.jsx(qe,{className:"sr-only",children:L?L.title:"Детали задачи"}),t.jsx(Xe,{className:"sr-only",children:"Модальное окно с подробной информацией о задаче, включая описание, подзадачи и возможность одобрения или отклонения"}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Детали задачи"}),t.jsx("button",{onClick:()=>F(!1),className:"p-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-lg transition-colors",children:t.jsx(it,{className:"w-5 h-5 text-foreground/70"})})]}),L&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-base font-medium text-foreground mb-2",children:L.title}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:L.description}),t.jsx("div",{className:"flex gap-3",children:t.jsx("button",{onClick:()=>F(!1),className:"flex-1 py-3 px-4 bg-secondary text-secondary-foreground rounded-full text-sm font-medium transition-colors hover:bg-secondary/80",children:"Закрыть"})})]})]})]})}),t.jsx(Ke,{open:N,onOpenChange:j,children:t.jsxs(Ge,{className:"bg-background border-none max-w-sm p-6 rounded-3xl",children:[t.jsx(qe,{className:"text-lg font-medium text-foreground text-center mb-4",children:"Настройка награды"}),t.jsx(Xe,{className:"sr-only",children:"Модальное окно для настройки типа и количества награды за выполнение задачи"}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>j(!1),className:"flex-1 py-3 px-4 bg-secondary text-secondary-foreground rounded-full text-sm font-medium transition-colors hover:bg-secondary/80",children:"Отмена"}),t.jsx("button",{onClick:()=>j(!1),className:"flex-1 py-3 px-4 bg-primary text-primary-foreground rounded-full text-sm font-medium transition-colors hover:bg-primary/90",children:"Сохранить"})]})]})}),t.jsx(Ke,{open:S,onOpenChange:D,children:t.jsxs(Ge,{className:"bg-background border-none max-w-sm p-0 [&>button]:hidden max-h-[80vh] overflow-hidden rounded-3xl",children:[t.jsx(qe,{className:"sr-only",children:"Выбор сотрудников"}),t.jsx(Xe,{className:"sr-only",children:"Модальное окно для выбора сотрудников, которым будет назначена задача"}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Выбор сотрудников"}),t.jsx("button",{onClick:()=>D(!1),className:"p-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-lg transition-colors",children:t.jsx(it,{className:"w-5 h-5 text-foreground/70"})})]}),t.jsx("div",{className:"space-y-2 mb-4",children:d.map(K=>t.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-accent/50 rounded-lg",children:[t.jsx("input",{type:"checkbox",className:"rounded"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-foreground",children:K.name}),t.jsx("div",{className:"text-xs text-muted-foreground",children:K.team})]})]},K.id))}),t.jsx("button",{onClick:()=>D(!1),className:"w-full py-3 px-4 bg-primary text-primary-foreground rounded-full text-sm font-medium transition-colors hover:bg-primary/90",children:"Готово"})]})]})}),t.jsx(Ke,{open:T,onOpenChange:C,children:t.jsxs(Ge,{className:"bg-background border-none max-w-sm p-0 [&>button]:hidden rounded-3xl",children:[t.jsx(qe,{className:"sr-only",children:"Отклонение задачи"}),t.jsx(Xe,{className:"sr-only",children:"Модальное окно для ввода причины отклонения задачи с текстовым полем"}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Причина отклонения"}),t.jsx("button",{onClick:()=>C(!1),className:"p-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-lg transition-colors",children:t.jsx(it,{className:"w-5 h-5 text-foreground/70"})})]}),t.jsx(Ms,{placeholder:"Укажите, что выполнено неправильно...",value:G,onChange:K=>$(K.target.value),className:"mb-4 min-h-[100px]"}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>C(!1),className:"flex-1 py-3 px-4 bg-secondary text-secondary-foreground rounded-full text-sm font-medium transition-colors hover:bg-secondary/80",children:"Отмена"}),t.jsx("button",{onClick:()=>C(!1),disabled:!G.trim(),className:"flex-1 py-3 px-4 bg-red-500 text-white rounded-full text-sm font-medium transition-colors hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Отправить"})]})]})]})})]})}const ex=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,tx=wx,wC=(n,s)=>o=>{var i;if(s?.variants==null)return tx(n,o?.class,o?.className);const{variants:d,defaultVariants:u}=s,l=Object.keys(d).map(g=>{const x=o?.[g],y=u?.[g];if(x===null)return null;const v=ex(x)||ex(y);return d[g][v]}),p=o&&Object.entries(o).reduce((g,x)=>{let[y,v]=x;return v===void 0||(g[y]=v),g},{}),m=s==null||(i=s.compoundVariants)===null||i===void 0?void 0:i.reduce((g,x)=>{let{class:y,className:v,...F}=x;return Object.entries(F).every(N=>{let[j,S]=N;return Array.isArray(S)?S.includes({...u,...p}[j]):{...u,...p}[j]===S})?[...g,y,v]:g},[]);return tx(n,l,m,o?.class,o?.className)},kC=wC("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function St({className:n,variant:s,size:o,asChild:i=!1,...d}){const u=i?N2:"button";return t.jsx(u,{"data-slot":"button",className:gn(kC({variant:s,size:o,className:n})),...d})}function NC({onBack:n,onNavigateToSection:s,onNavigateToModeration:o,shopItems:i,setShopItems:d}){const[u,l]=b.useState(!1),[p,m]=b.useState(!1),[g,x]=b.useState(null),[y,v]=b.useState("asc"),F=[{icon:Xr,label:"Главная",section:"dashboard"},{icon:Yr,label:"Воркеры",section:"workers"},{icon:Qr,label:"Баттлы",section:"battles"},{icon:st,label:"Достижения",section:"achievements"},{icon:Wn,label:"Задачи",section:"tasks"},{icon:wr,label:"Товары",section:"shop"},{icon:Kr,label:"Игры",section:"games"},{icon:zs,label:"Кейсы",section:"cases"}],N=[{value:"bonus",label:"Бонус"},{value:"privilege",label:"Привилегия"},{value:"cosmetic",label:"Косметика"},{value:"tool",label:"Инструмент"}],j=[...i].sort((T,C)=>y==="asc"?T.price-C.price:C.price-T.price),S=T=>{x(T),m(!0)},D=()=>{v(y==="asc"?"desc":"asc")};return t.jsxs("div",{className:"min-h-screen bg-background",children:[t.jsxs("div",{className:"p-6",children:[t.jsx("h1",{className:"text-lg font-medium text-foreground text-center mb-4",children:"Панель управления"}),t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("button",{onClick:()=>l(!0),className:"px-4 py-2 glass-card rounded-lg hover:bg-black/5 dark:hover:bg-white/5 transition-colors text-foreground flex items-center gap-2",children:[t.jsx(Un,{className:"w-4 h-4"}),"Доб. товар"]}),t.jsx("button",{onClick:()=>o?.(),className:"px-4 py-2 glass-card rounded-lg hover:bg-black/5 dark:hover:bg-white/5 transition-colors text-foreground",children:"Одобрить"})]})]}),t.jsx("div",{className:"px-6 space-y-6 pb-60",children:t.jsxs("div",{className:"glass-card rounded-2xl apple-shadow p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-lg font-medium text-foreground",children:"Доступные товары"}),t.jsx("button",{onClick:D,className:"p-2 glass-card rounded-lg hover:bg-black/5 dark:hover:bg-white/5 transition-colors",title:`Сортировать по стоимости ${y==="asc"?"по убыванию":"по возрастанию"}`,children:t.jsx(n1,{className:"w-4 h-4 text-muted-foreground"})})]}),t.jsxs("div",{className:"space-y-3",children:[j.map(T=>t.jsxs("div",{className:"flex items-center justify-between p-3 border border-border/20 rounded-lg cursor-pointer hover:bg-black/5 dark:hover:bg-white/5 transition-colors",onClick:()=>S(T),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-secondary rounded-lg flex items-center justify-center overflow-hidden",children:T.image?t.jsx(Kn,{src:T.image,alt:T.title,className:"w-full h-full object-cover"}):t.jsx(Vo,{className:"w-5 h-5 text-primary"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-foreground",children:T.title}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Стоимость: ",T.price,"g"]})]})]}),t.jsx("button",{onClick:C=>{C.stopPropagation()},className:"px-4 py-2 glass-card rounded-lg text-sm font-medium text-foreground hover:bg-black/5 dark:hover:bg-white/5 transition-colors",children:"Купить"})]},T.id)),j.length===0&&t.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Нет товаров для отображения"})]})]})}),u&&t.jsx(nx,{isEdit:!1,item:null,onClose:()=>l(!1),onSave:T=>{console.log("Получены данные для добавления товара:",T);const C={id:Date.now().toString(),...T,isActive:!0};console.log("Новый товар:",C),d(L=>{const B=[...L,C];return console.log("Обновленный список товаров:",B),B}),l(!1)},categories:N}),p&&g&&t.jsx(nx,{isEdit:!0,item:g,onClose:()=>{m(!1),x(null)},onSave:T=>{console.log("Получены данные для редактирования товара:",T),console.log("ID редактируемого товара:",g.id),d(C=>{const L=C.map(B=>B.id===g.id?{...B,...T}:B);return console.log("Обновленный список товаров после редактирования:",L),L}),m(!1),x(null)},onDelete:()=>{d(T=>T.filter(C=>C.id!==g.id)),m(!1),x(null)},categories:N}),t.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-background border-t border-border/20",children:t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"grid grid-cols-4 gap-4 mb-4",children:F.slice(0,4).map((T,C)=>{const L=T.icon,B=T.section==="shop";return t.jsxs("button",{className:"flex flex-col items-center text-center",onClick:()=>T.section==="dashboard"?n():s(T.section),children:[t.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-2 apple-shadow ${B?"bg-primary":"glass-card"}`,children:t.jsx(L,{className:`w-6 h-6 ${B?"text-white":"text-foreground/70"}`})}),t.jsx("span",{className:`text-xs ${B?"text-primary font-medium":"text-muted-foreground"}`,children:T.label})]},C)})}),t.jsx("div",{className:"grid grid-cols-4 gap-4",children:F.slice(4,8).map((T,C)=>{const L=T.icon,B=T.section==="shop";return t.jsxs("button",{className:"flex flex-col items-center text-center",onClick:()=>s(T.section),children:[t.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-2 apple-shadow ${B?"bg-primary":"glass-card"}`,children:t.jsx(L,{className:`w-6 h-6 ${B?"text-white":"text-foreground/70"}`})}),t.jsx("span",{className:`text-xs ${B?"text-primary font-medium":"text-muted-foreground"}`,children:T.label})]},C)})})]})})]})}function nx({isEdit:n,item:s,onClose:o,onSave:i,onDelete:d,categories:u}){const[l,p]=b.useState({name:s?.name||"",title:s?.name||"",price:s?.price||0,description:s?.description||"",category:s?.category||"bonus",image:s?.image||"",stock:s?.stock||0,emoji:s?.emoji||"📦"}),[m,g]=b.useState(!1);b.useEffect(()=>{const j=S=>{S.preventDefault(),S.stopPropagation(),console.log("HTML5 validation blocked")};return document.addEventListener("invalid",j,!0),()=>{document.removeEventListener("invalid",j,!0)}},[]);const x=j=>{j.preventDefault()},y=(j,S)=>{p(D=>({...D,[j]:S}))},v=()=>{const j={name:l.name.trim()||l.title.trim()||"Новый товар",price:l.price>0?l.price:1,description:l.description,category:l.category,image:l.image,stock:l.stock>=0?l.stock:0,emoji:l.emoji};console.log("Сохранение товара:",j),i(j)},F=()=>{d&&d()},N=j=>{const S=j.target.files?.[0];if(S){const D=new FileReader;D.onload=T=>{const C=T.target?.result;y("image",C)},D.readAsDataURL(S)}};return t.jsx(Ke,{open:!0,onOpenChange:j=>!j&&o(),modal:!0,children:t.jsx(Ge,{className:"bg-background border-none max-w-sm p-0 [&>button]:hidden max-h-[90vh] overflow-hidden rounded-3xl",onInvalid:j=>{j.preventDefault(),j.stopPropagation()},onSubmit:j=>{j.preventDefault(),j.stopPropagation()},children:t.jsxs("div",{onInvalid:j=>{j.preventDefault(),j.stopPropagation(),console.log("Dialog validation blocked")},onSubmit:j=>{j.preventDefault(),j.stopPropagation(),console.log("Dialog submit blocked")},children:[t.jsx(qe,{className:"sr-only",children:n?"Редактирование товара":"Добавле��ие товара"}),t.jsxs(Xe,{className:"sr-only",children:["Модальное окно для ",n?"редактирования существующего":"добавления нового"," товара в магазин с возможностью настройки названия, цены, категории и изображения"]}),t.jsxs("form",{className:"p-6",noValidate:!0,autoComplete:"off",onSubmit:x,onInvalid:j=>j.preventDefault(),"data-lpignore":"true",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-lg font-medium text-foreground text-center flex-1",children:n?s?.name||"Товар":"Добавление товара"}),t.jsx("button",{type:"button",onClick:o,className:"p-2 hover:bg-black/5 rounded-lg transition-colors",formNoValidate:!0,children:t.jsx(it,{className:"w-5 h-5 text-foreground/70"})})]}),t.jsxs("div",{className:"overflow-y-auto max-h-[calc(80vh-200px)] space-y-4",children:[t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-20 h-20 bg-secondary rounded-2xl flex items-center justify-center overflow-hidden cursor-pointer hover:bg-secondary/80 transition-colors",onClick:()=>document.getElementById("image-upload")?.click(),children:l.image?t.jsx(Kn,{src:l.image,alt:l.name||l.title,className:"w-full h-full object-cover"}):t.jsx(Vo,{className:"w-8 h-8 text-muted-foreground"})}),t.jsx("input",{id:"image-upload",type:"file",accept:"image/*",onChange:N,className:"hidden",tabIndex:-1})]}),t.jsxs("div",{className:"flex-1 glass-card rounded-2xl p-3",children:[t.jsx("div",{className:"text-sm font-medium text-foreground mb-2",children:"Описание товара"}),t.jsx("textarea",{value:l.description,onChange:j=>y("description",j.target.value),placeholder:"• Подзадача",className:"w-full bg-transparent text-sm text-muted-foreground resize-none border-none outline-none",rows:3,autoComplete:"off","data-lpignore":"true",onInvalid:j=>j.preventDefault()})]})]}),n&&t.jsx("div",{className:"text-center",children:m?t.jsxs("div",{className:"glass-card rounded-2xl p-4",children:[t.jsx("div",{className:"text-sm font-medium text-foreground/80 mb-3 text-center",children:"Изменить стоимость товара"}),t.jsxs("div",{className:"flex gap-3 mb-4",children:[t.jsx("input",{type:"text",value:l.price,onChange:j=>{const S=j.target.value.replace(/[^0-9]/g,"");y("price",parseInt(S)||0)},onKeyDown:j=>{j.key==="Enter"&&j.preventDefault()},placeholder:"0",className:"flex-1 p-3 bg-input-background border border-border rounded-2xl text-sm text-center",autoComplete:"off","data-lpignore":"true",onInvalid:j=>j.preventDefault()}),t.jsx("div",{className:"w-16 p-3 bg-input-background border border-border rounded-2xl text-sm text-center text-muted-foreground",children:"G"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(St,{type:"button",variant:"outline",onClick:()=>g(!1),className:"flex-1",formNoValidate:!0,children:"Отменить"}),t.jsx(St,{type:"button",onClick:()=>g(!1),className:"flex-1 bg-primary text-primary-foreground",formNoValidate:!0,children:"Применить"})]})]}):t.jsxs("div",{className:"inline-block glass-card rounded-2xl px-4 py-2 cursor-pointer hover:bg-black/5 dark:hover:bg-white/5 transition-colors",onClick:()=>g(!0),children:[t.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Цена:"}),t.jsxs("div",{className:"font-medium text-foreground",children:[l.price,"g"]})]})}),!n&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-foreground/80 mb-2",children:"Название товара"}),t.jsx("input",{type:"text",value:l.name,onChange:j=>{y("name",j.target.value),y("title",j.target.value)},placeholder:"Введите название товара...",className:"w-full p-3 bg-input-background border border-border rounded-2xl text-sm",autoComplete:"off","data-lpignore":"true",onKeyDown:j=>{j.key==="Enter"&&j.preventDefault()},onInvalid:j=>j.preventDefault()})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-foreground/80 mb-2",children:"Цена (G-монеты)"}),t.jsx("input",{type:"text",value:l.price,onChange:j=>{const S=j.target.value.replace(/[^0-9]/g,"");y("price",parseInt(S)||0)},placeholder:"0",className:"w-full p-3 bg-input-background border border-border rounded-2xl text-sm",autoComplete:"off","data-lpignore":"true",onKeyDown:j=>{j.key==="Enter"&&j.preventDefault()},onInvalid:j=>j.preventDefault()})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-foreground/80 mb-2",children:"Количество в наличии"}),t.jsx("input",{type:"text",value:l.stock,onChange:j=>{const S=j.target.value.replace(/[^0-9]/g,"");y("stock",parseInt(S)||0)},placeholder:"0",className:"w-full p-3 bg-input-background border border-border rounded-2xl text-sm",autoComplete:"off","data-lpignore":"true",onKeyDown:j=>{j.key==="Enter"&&j.preventDefault()},onInvalid:j=>j.preventDefault()})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-foreground/80 mb-2",children:"Эмодзи товара"}),t.jsx("input",{type:"text",value:l.emoji,onChange:j=>y("emoji",j.target.value),placeholder:"📦",className:"w-full p-3 bg-input-background border border-border rounded-2xl text-sm",autoComplete:"off","data-lpignore":"true",onKeyDown:j=>{j.key==="Enter"&&j.preventDefault()},onInvalid:j=>j.preventDefault()})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-foreground/80 mb-2",children:"Категория"}),t.jsx("select",{value:l.category,onChange:j=>y("category",j.target.value),className:"w-full p-3 bg-input-background border border-border rounded-2xl text-sm",autoComplete:"off","data-lpignore":"true",onInvalid:j=>j.preventDefault(),children:u.map(j=>t.jsx("option",{value:j.value,children:j.label},j.value))})]})]})]}),t.jsxs("div",{className:`${n?"grid grid-cols-3 gap-3":"flex gap-3"} pt-4 border-t border-border/20 mt-4`,children:[t.jsx(St,{type:"button",variant:"outline",onClick:o,className:n?"col-span-1":"flex-1",formNoValidate:!0,children:"Отменить"}),n&&t.jsx(St,{type:"button",variant:"outline",onClick:F,className:"col-span-1 text-destructive border-destructive hover:bg-destructive hover:text-destructive-foreground",formNoValidate:!0,children:"Удалить"}),t.jsx(St,{type:"button",onClick:()=>{console.log("Кнопка сохранения нажата, isEdit:",n),console.log("Текущие данные формы:",l),v()},className:n?"col-span-1 bg-primary text-primary-foreground":"flex-1 bg-primary text-primary-foreground",formNoValidate:!0,children:n?"Применить":"Добавить"})]})]})]})})})}function FC({order:n,isOpen:s,onClose:o,onApprove:i,onReject:d}){const[u,l]=b.useState(!1),[p,m]=b.useState(!1),[g,x]=b.useState(""),[y,v]=b.useState(""),F=()=>{if(!g.trim()){alert("Необходимо заполнить информацию для отслеживания");return}i(n.id,g),o(),x(""),l(!1)},N=()=>{if(!y.trim()){alert("Необходимо указать причину отклонения");return}d(n.id,y),o(),v(""),m(!1)};return n?t.jsx(Ke,{open:s,onOpenChange:j=>!j&&o(),children:t.jsx(Ge,{className:"bg-background border-none max-w-sm p-0 [&>button]:hidden max-h-[90vh] overflow-hidden rounded-3xl",children:t.jsxs("div",{className:"p-6",children:[t.jsxs(Ho,{children:[t.jsx(qe,{className:"text-lg font-medium text-foreground text-center mb-4",children:"Товар"}),t.jsx(Xe,{className:"sr-only",children:"Детали заказа товара для модерации"}),t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"flex-1"}),t.jsx("button",{onClick:o,className:"p-2 hover:bg-black/5 rounded-lg transition-colors",children:t.jsx(it,{className:"w-5 h-5 text-foreground/70"})})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"glass-card rounded-2xl p-4",children:[t.jsxs("div",{className:"text-sm font-medium text-foreground mb-3",children:["Заказ #",n.id]}),t.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:["Дата заказа: ",new Date(n.createdAt).toLocaleDateString()]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Общая стоимость: ",n.total," коинов"]})]}),t.jsxs("div",{className:"glass-card rounded-2xl p-4",children:[t.jsx("div",{className:"text-sm font-medium text-foreground mb-3",children:"Товары в заказе:"}),t.jsx("div",{className:"space-y-2",children:n.items.map((j,S)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-lg",children:j.emoji}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-foreground",children:j.name}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:[j.price," коинов x ",j.quantity]})]})]}),t.jsxs("div",{className:"text-sm font-medium text-foreground",children:[j.price*j.quantity," коинов"]})]},S))})]}),t.jsxs("div",{className:"glass-card rounded-2xl p-4",children:[t.jsxs("div",{className:"text-sm font-medium text-foreground mb-2",children:["Сотрудник: ",n.customerName||"Неизвестен"]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Команда: ",n.customerTeam||"Не указана"]})]}),u&&t.jsxs("div",{className:"glass-card rounded-2xl p-4",children:[t.jsx("div",{className:"text-sm font-medium text-foreground mb-3",children:"Информация для отслеживания *"}),t.jsx("textarea",{value:g,onChange:j=>x(j.target.value),placeholder:"Введите трек-номер, ссылку на сертификат или другую информацию для отслеживания...",className:"w-full p-3 bg-input-background border border-border rounded-2xl text-sm resize-none",rows:3}),t.jsxs("div",{className:"flex gap-2 mt-3",children:[t.jsx(St,{variant:"outline",onClick:()=>l(!1),className:"flex-1",children:"Отменить"}),t.jsx(St,{onClick:F,className:"flex-1 bg-green-500 hover:bg-green-600 text-white",children:"Одобрить"})]})]}),p&&t.jsxs("div",{className:"glass-card rounded-2xl p-4",children:[t.jsx("div",{className:"text-sm font-medium text-foreground mb-3",children:"Причина отклонения *"}),t.jsx("textarea",{value:y,onChange:j=>v(j.target.value),placeholder:"Укажите причину отклонения заказа...",className:"w-full p-3 bg-input-background border border-border rounded-2xl text-sm resize-none",rows:3}),t.jsxs("div",{className:"flex gap-2 mt-3",children:[t.jsx(St,{variant:"outline",onClick:()=>m(!1),className:"flex-1",children:"Отменить"}),t.jsx(St,{onClick:N,className:"flex-1 bg-red-500 hover:bg-red-600 text-white",children:"Отклонить"})]})]}),!u&&!p&&t.jsxs("div",{className:"flex gap-3",children:[t.jsx(St,{variant:"outline",onClick:()=>m(!0),className:"flex-1 border-red-200 text-red-600 hover:bg-red-50",children:"Отклонить"}),t.jsx(St,{onClick:()=>l(!0),className:"flex-1 bg-primary text-primary-foreground",children:"Одобрить"})]})]})]})})}):null}function CC({onBack:n,orders:s,setOrders:o,onUpdateUserBalance:i}){const[d,u]=b.useState(null),[l,p]=b.useState(!1),m=v=>{u(v),p(!0)},g=(v,F)=>{o(s.map(N=>N.id===v?{...N,status:"active",trackingInfo:F}:N)),console.log(`Заказ ${v} одобрен администратором с информацией для отслеживания: ${F}`)},x=(v,F)=>{const N=s.find(j=>j.id===v);N&&i&&(i(N.userId,N.total),console.log(`Возвращено ${N.total} коинов пользователю ${N.userId} за отклоненный заказ`)),o(s.map(j=>j.id===v?{...j,status:"rejected",rejectionReason:F}:j)),console.log(`Заказ ${v} отклонен администратором с причиной: ${F}`)},y=s.filter(v=>v.status==="pending");return t.jsxs("div",{className:"min-h-screen bg-background",children:[t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[t.jsx("button",{onClick:n,className:"p-2 hover:bg-black/5 rounded-lg transition-colors",children:t.jsx(Vn,{className:"w-5 h-5 text-foreground/70"})}),t.jsx("h1",{className:"text-lg font-medium text-foreground",children:"Модерация товаров"})]})}),t.jsx("div",{className:"px-6 space-y-4 pb-20",children:y.length===0?t.jsxs("div",{className:"glass-card rounded-2xl p-8 text-center",children:[t.jsx(Vo,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),t.jsx("div",{className:"text-foreground font-medium mb-2",children:"Нет заказов на модерации"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Все заказы обработаны"})]}):y.map(v=>t.jsx("div",{className:"glass-card rounded-2xl p-4 cursor-pointer hover:bg-black/5 dark:hover:bg-white/5 transition-colors",onClick:()=>m(v),children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-secondary rounded-lg flex items-center justify-center overflow-hidden",children:v.items[0]?.emoji?t.jsx("span",{className:"text-lg",children:v.items[0].emoji}):t.jsx(Vo,{className:"w-5 h-5 text-primary"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-sm font-medium text-foreground",children:["Заказ #",v.id]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:[v.items.length," товар(ов) • ",v.total," коинов"]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:v.customerName||"Неизвестный пользователь"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:F=>{F.stopPropagation(),x(v.id,"Отклонено администратором без указания причины")},className:"p-2 hover:bg-red-50 rounded-lg transition-colors",children:t.jsx(j1,{className:"w-5 h-5 text-red-500"})}),t.jsx("button",{onClick:F=>{F.stopPropagation(),g(v.id,"Одобрено администратором без дополнительной информации")},className:"p-2 hover:bg-green-50 rounded-lg transition-colors",children:t.jsx(dx,{className:"w-5 h-5 text-green-500"})})]})]})},v.id))}),t.jsx(FC,{order:d,isOpen:l,onClose:()=>{p(!1),u(null)},onApprove:g,onReject:x})]})}function SC({onBack:n,onNavigateToSection:s}){const o=[{icon:Xr,label:"Главная",section:"dashboard"},{icon:Yr,label:"Воркеры",section:"workers"},{icon:Qr,label:"Баттлы",section:"battles"},{icon:st,label:"Достижения",section:"achievements"},{icon:Wn,label:"Задачи",section:"tasks"},{icon:wr,label:"Товары",section:"shop"},{icon:Kr,label:"Игры",section:"games"},{icon:zs,label:"Кейсы",section:"cases"}],[i,d]=b.useState([{id:"1",name:"ППП",description:"Колесо фортуны • Кулдаун 300с",type:"wheel",status:"draft",icon:"🎮",config:{sectors:[],spinAnimationMs:3e3},rewards:[],access:{visibility:"public",cooldownSeconds:300},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),stats:{totalPlays:0,totalRewards:0,uniquePlayers:0}}]),[u,l]=b.useState(!1),[p,m]=b.useState(null),g=v=>{m(v),l(!0)},x=v=>{switch(v){case"published":return"Опубликовано";case"draft":return"Черновик";case"archived":return"Архив";default:return v}},y=v=>new Date(v).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"});return t.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[t.jsxs("div",{className:"p-4 sm:p-6 space-y-6 max-w-full overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h1",{className:"text-xl font-medium text-foreground",children:"Управление играми"}),t.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-xl hover:scale-[0.98] transition-transform apple-shadow",children:[t.jsx(Un,{className:"w-4 h-4"}),"Создать игру"]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsx("div",{className:"glass-card p-4 rounded-2xl apple-shadow",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-medium text-foreground mb-1",children:i.length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Всего игр"})]})}),t.jsx("div",{className:"glass-card p-4 rounded-2xl apple-shadow",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-medium text-green-600 mb-1",children:i.filter(v=>v.status==="published").length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Опубликовано"})]})}),t.jsx("div",{className:"glass-card p-4 rounded-2xl apple-shadow",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-medium text-muted-foreground mb-1",children:i.filter(v=>v.status==="archived").length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"В архиве"})]})})]}),t.jsx("div",{className:"space-y-4",children:i.length>0?i.map(v=>t.jsx("div",{className:"glass-card rounded-2xl p-4 apple-shadow",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 glass-card rounded-xl flex items-center justify-center shrink-0",children:t.jsx(y1,{className:"w-6 h-6 text-foreground/70"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2 gap-2",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"font-medium text-foreground truncate",children:v.name}),t.jsx("div",{className:"text-sm text-muted-foreground truncate",children:v.description})]}),t.jsx("div",{className:"flex items-center gap-1 shrink-0",children:t.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${v.status==="published"?"bg-green-100 text-green-800":v.status==="draft"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"}`,children:x(v.status)})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-3",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Игр: "}),t.jsx("span",{className:"text-foreground",children:v.stats.totalPlays})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Наград: "}),t.jsx("span",{className:"text-foreground",children:v.stats.totalRewards})]})]}),t.jsx("div",{className:"flex items-center justify-between text-sm gap-2 mb-3",children:t.jsxs("div",{className:"text-muted-foreground",children:["Обновлено: ",y(v.updatedAt)," • Опубликовано: ",v.publishedAt?y(v.publishedAt):"Не опубликовано"]})}),t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[t.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 glass-card rounded-xl text-sm hover:scale-[0.98] transition-transform shrink-0",children:[t.jsx(Vs,{className:"w-4 h-4"}),"Предпросмотр"]}),t.jsxs("button",{onClick:()=>g(v),className:"flex items-center gap-2 px-4 py-2 glass-card rounded-xl text-sm hover:scale-[0.98] transition-transform shrink-0",children:[t.jsx(Uo,{className:"w-4 h-4"}),"Редактировать"]}),t.jsx("button",{className:"w-10 h-10 bg-primary rounded-xl flex items-center justify-center shrink-0 hover:scale-[0.98] transition-transform",children:t.jsx("div",{className:"w-0 h-0 border-l-[6px] border-l-white border-t-[4px] border-t-transparent border-b-[4px] border-b-transparent ml-1"})})]})]})]})},v.id)):t.jsxs("div",{className:"glass-card rounded-2xl p-8 text-center apple-shadow",children:[t.jsx(Kr,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),t.jsx("p",{className:"text-muted-foreground",children:"Игр пока нет"})]})})]}),u&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:t.jsxs("div",{className:"w-full max-w-md bg-background rounded-2xl p-6 apple-shadow",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-lg font-medium text-foreground",children:p?"Редактировать игру":"Создать игру"}),t.jsx("button",{onClick:()=>{l(!1),m(null)},className:"p-2 hover:bg-black/5 rounded-lg transition-colors",children:t.jsx(it,{className:"w-4 h-4 text-foreground/70"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"Название игры"}),t.jsx("input",{type:"text",defaultValue:p?.name||"",className:"w-full px-4 py-3 glass-card rounded-xl text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Введите название игры"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"Описание"}),t.jsx("textarea",{defaultValue:p?.description||"",className:"w-full px-4 py-3 glass-card rounded-xl text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary resize-none",placeholder:"Описание игры",rows:3})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{onClick:()=>{l(!1),m(null)},className:"flex-1 glass-card rounded-2xl p-3 text-sm font-medium text-foreground hover:scale-[0.98] transition-transform",children:"Отменить"}),t.jsx("button",{onClick:()=>{l(!1),m(null)},className:"flex-1 bg-primary text-primary-foreground rounded-2xl p-3 text-sm font-medium hover:scale-[0.98] transition-transform",children:p?"Сохранить":"Создать"})]})]})]})}),t.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-background border-t border-border/20",children:t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"grid grid-cols-4 gap-4 mb-4",children:o.slice(0,4).map((v,F)=>{const N=v.icon,j=v.section==="games";return t.jsxs("button",{className:"flex flex-col items-center text-center",onClick:()=>s(v.section),children:[t.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-2 apple-shadow ${j?"bg-primary":"glass-card"}`,children:t.jsx(N,{className:`w-6 h-6 ${j?"text-white":"text-foreground/70"}`})}),t.jsx("span",{className:`text-xs ${j?"text-primary font-medium":"text-muted-foreground"}`,children:v.label})]},F)})}),t.jsx("div",{className:"grid grid-cols-4 gap-4",children:o.slice(4,8).map((v,F)=>{const N=v.icon,j=v.section==="games";return t.jsxs("button",{className:"flex flex-col items-center text-center",onClick:()=>s(v.section),children:[t.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-2 apple-shadow ${j?"bg-primary":"glass-card"}`,children:t.jsx(N,{className:`w-6 h-6 ${j?"text-white":"text-foreground/70"}`})}),t.jsx("span",{className:`text-xs ${j?"text-primary font-medium":"text-muted-foreground"}`,children:v.label})]},F)})})]})})]})}function rx({value:n,onChange:s,placeholder:o="Введите URL изображения или загрузите файл",defaultEmoji:i="📷",className:d="",acceptEmojiOnly:u=!1}){const l=b.useRef(null),p=v=>{try{return new URL(v),v.startsWith("http://")||v.startsWith("https://")||v.startsWith("data:")}catch{return!1}},m=v=>new Promise((F,N)=>{const j=new FileReader;j.onload=()=>F(j.result),j.onerror=N,j.readAsDataURL(v)}),g=async v=>{const F=v.target.files?.[0];if(F){if(!F.type.startsWith("image/")){alert("Пожалуйста, выберите файл изображения");return}if(F.size>5*1024*1024){alert("Размер файла не должен превышать 5MB");return}try{const N=await m(F);s(N)}catch(N){console.error("Ошибка при загрузке файла:",N),alert("Ошибка при загрузке файла")}}},x=()=>{s(i),l.current&&(l.current.value="")},y=({src:v,className:F="",style:N={}})=>p(v)?t.jsx(Kn,{src:v,alt:"Uploaded image",className:`${F} object-cover`,style:N}):t.jsx("div",{className:`flex items-center justify-center ${F}`,style:N,children:t.jsx("span",{className:"text-xl",children:v})});return t.jsxs("div",{className:`space-y-3 ${d}`,children:[!u&&t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{type:"button",onClick:()=>l.current?.click(),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-primary/10 text-primary border border-primary/20 rounded-lg hover:bg-primary/20 transition-colors",children:[t.jsx(x2,{className:"w-4 h-4"}),"Загрузить файл"]}),t.jsxs("button",{type:"button",onClick:()=>{const v=prompt("Введите эмодзи:",i);v&&s(v)},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-surface-2 text-foreground border border-border rounded-lg hover:bg-surface-3 transition-colors",children:[t.jsx("span",{className:"text-lg",children:"😀"}),"Эмодзи"]})]}),t.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:g,className:"hidden"}),t.jsx("input",{type:"text",value:n,onChange:v=>s(v.target.value),className:"w-full px-3 py-2 bg-input-background border border-border rounded-lg",placeholder:o}),t.jsx("div",{className:"text-xs text-muted-foreground",children:u?"Используйте эмодзи или введите текст":"Можно загрузить файл, использовать эмодзи или вставить URL/base64 изображения"}),n&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xs text-muted-foreground",children:"Предпросмотр:"}),t.jsxs("div",{className:"w-12 h-12 rounded border overflow-hidden relative bg-surface-2",children:[t.jsx(y,{src:n,className:"w-full h-full"}),p(n)&&t.jsx("button",{type:"button",onClick:x,className:"absolute -top-1 -right-1 w-5 h-5 bg-destructive text-destructive-foreground rounded-full flex items-center justify-center hover:bg-destructive/80 transition-colors text-xs",children:t.jsx(it,{className:"w-3 h-3"})})]}),p(n)&&t.jsx("div",{className:"text-xs text-muted-foreground",children:n.startsWith("data:")?"Загруженный файл":"URL изображение"})]})]})}function EC({theme:n,cases:s,setCases:o}){const[i,d]=b.useState("cases"),[u,l]=b.useState(!1),[p,m]=b.useState(null),[g,x]=b.useState(null),[y,v]=b.useState(null),[F,N]=b.useState(Es),[j,S]=b.useState({name:"",image:"📦",rarity:"common",color:"#94A3B8",description:"",isActive:!0,selectedPrizes:[],glowColor:"#94A3B8",glowIntensity:"low"}),[D,T]=b.useState({name:"",image:"🎁",rarity:"common",color:"#94A3B8",value:0,dropChance:10,description:""}),C=k=>{try{return new URL(k),k.startsWith("http://")||k.startsWith("https://")||k.startsWith("data:")}catch{return!1}},L=({src:k,className:I="",style:E={}})=>C(k)?t.jsx(Kn,{src:k,alt:"Image",className:`${I} object-cover`,style:E}):t.jsx("div",{className:`flex items-center justify-center ${I}`,style:E,children:t.jsx("span",{className:"text-xl",children:k})}),B={common:"#94A3B8",rare:"#3B82F6",epic:"#8B5CF6",legendary:"#F59E0B",mythic:"#EF4444"},G=()=>{m(null),S({name:"",image:"📦",rarity:"common",color:"#94A3B8",description:"",isActive:!0,selectedPrizes:[],glowColor:"#94A3B8",glowIntensity:"low"}),l(!0)},$=k=>{m(k),S({name:k.name,image:k.image,rarity:k.rarity,color:k.color,description:k.description,isActive:k.isActive,selectedPrizes:k.prizes.map(I=>I.id),glowColor:k.glowColor||k.color,glowIntensity:k.glowIntensity||"low"}),l(!0)},_=()=>{x(null),T({name:"",image:"🎁",rarity:"common",color:"#94A3B8",value:0,dropChance:10,description:""}),l(!0)},ee=k=>{x(k),T({name:k.name,image:k.image,rarity:k.rarity,color:k.color,value:k.value,dropChance:k.dropChance,description:k.description}),l(!0)},H=()=>{const k=F.filter(E=>j.selectedPrizes.includes(E.id)),I={id:p?.id||`case_${Date.now()}`,name:j.name,image:j.image,rarity:j.rarity,color:j.color,description:j.description,contents:k.map(E=>E.name),prizes:k,isActive:j.isActive,glowColor:j.glowColor,glowIntensity:j.glowIntensity};o(p?s.map(E=>E.id===p.id?I:E):[...s,I]),l(!1),m(null)},le=()=>{const k={id:g?.id||`prize_${Date.now()}`,name:D.name,image:D.image,rarity:D.rarity,color:D.color,value:D.value,dropChance:D.dropChance,description:D.description};g?(N(F.map(I=>I.id===g.id?k:I)),o(s.map(I=>({...I,prizes:I.prizes.map(E=>E.id===k.id?k:E)})))):N([...F,k]),l(!1),x(null)},ye=k=>{o(s.filter(I=>I.id!==k))},Fe=k=>{N(F.filter(I=>I.id!==k)),o(s.map(I=>({...I,prizes:I.prizes.filter(E=>E.id!==k)})))},ke=k=>{o(s.map(I=>I.id===k?{...I,isActive:!I.isActive}:I))},xe=()=>t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Управление кейсами"}),t.jsxs("button",{onClick:G,className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary-pressed transition-colors",children:[t.jsx(Un,{className:"w-4 h-4"}),"Создать кейс"]})]}),t.jsx("div",{className:"space-y-3",children:s.map(k=>t.jsxs("div",{className:"glass-card p-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-16 h-16 rounded-lg border-2 overflow-hidden",style:{backgroundColor:k.color+"20",borderColor:k.color},children:t.jsx(L,{src:k.image,className:"w-full h-full"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h4",{className:"font-semibold",children:k.name}),t.jsx("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:k.color+"20",color:k.color},children:k.rarity}),!k.isActive&&t.jsx("span",{className:"text-xs px-2 py-1 rounded bg-muted text-muted-foreground",children:"Неактивен"})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:k.description}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Призов: ",k.prizes.length]})]}),t.jsx("button",{onClick:()=>v(y===k.id?null:k.id),className:"p-2 hover:bg-surface-2 rounded-lg transition-colors",children:y===k.id?t.jsx(lx,{className:"w-4 h-4"}):t.jsx(cx,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>ke(k.id),className:`p-2 rounded-lg transition-colors ${k.isActive?"bg-primary/10 text-primary hover:bg-primary/20":"bg-surface-2 text-muted-foreground hover:bg-surface-3"}`,children:k.isActive?t.jsx(Vs,{className:"w-4 h-4"}):t.jsx(ux,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>$(k),className:"p-2 bg-surface-2 hover:bg-surface-3 rounded-lg transition-colors",children:t.jsx(jm,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>ye(k.id),className:"p-2 bg-destructive/10 text-destructive hover:bg-destructive/20 rounded-lg transition-colors",children:t.jsx(Wo,{className:"w-4 h-4"})})]})]}),y===k.id&&t.jsxs(Zo.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t border-border",children:[t.jsx("h5",{className:"font-medium mb-3",children:"Призы в кейсе:"}),t.jsx("div",{className:"grid grid-cols-1 gap-2",children:k.prizes.map(I=>t.jsxs("div",{className:"flex items-center gap-3 p-2 bg-surface-2 rounded-lg",children:[t.jsx("div",{className:"w-8 h-8 rounded overflow-hidden",style:{backgroundColor:I.color+"20",borderColor:I.color},children:t.jsx(L,{src:I.image,className:"w-full h-full"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium text-sm",children:I.name}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Шанс: ",I.dropChance,"% • Ценность: ",I.value]})]}),t.jsx("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:I.color+"20",color:I.color},children:I.rarity})]},I.id))})]})]},k.id))})]}),O=()=>t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Управление призами"}),t.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary-pressed transition-colors",children:[t.jsx(Un,{className:"w-4 h-4"}),"Создать приз"]})]}),t.jsx("div",{className:"grid gap-3",children:F.map(k=>t.jsx("div",{className:"glass-card p-4",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg border-2 overflow-hidden",style:{backgroundColor:k.color+"20",borderColor:k.color},children:t.jsx(L,{src:k.image,className:"w-full h-full"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h4",{className:"font-semibold",children:k.name}),t.jsx("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:k.color+"20",color:k.color},children:k.rarity})]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:k.description}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[t.jsxs("span",{children:["Ц��нность: ",k.value]}),t.jsxs("span",{children:["Шанс: ",k.dropChance,"%"]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>ee(k),className:"p-2 bg-surface-2 hover:bg-surface-3 rounded-lg transition-colors",children:t.jsx(jm,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>Fe(k.id),className:"p-2 bg-destructive/10 text-destructive hover:bg-destructive/20 rounded-lg transition-colors",children:t.jsx(Wo,{className:"w-4 h-4"})})]})]})},k.id))})]}),Y=()=>t.jsx(zo,{isOpen:u&&(p!==null||!p&&!g),onClose:()=>l(!1),title:p?"Редактировать кейс":"Создать кейс",theme:n,children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Название"}),t.jsx("input",{type:"text",value:j.name,onChange:k=>S(I=>({...I,name:k.target.value})),className:"w-full px-3 py-2 bg-input-background border border-border rounded-lg",placeholder:"Введите название кейса"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Изображение"}),t.jsx(rx,{value:j.image,onChange:k=>S(I=>({...I,image:k})),placeholder:"📦 или URL изображения (https://...) или вставьте base64",defaultEmoji:"📦"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Редкость"}),t.jsxs("select",{value:j.rarity,onChange:k=>{const I=k.target.value;S(E=>({...E,rarity:I,color:B[I]}))},className:"w-full px-3 py-2 bg-input-background border border-border rounded-lg",children:[t.jsx("option",{value:"common",children:"Common"}),t.jsx("option",{value:"rare",children:"Rare"}),t.jsx("option",{value:"epic",children:"Epic"}),t.jsx("option",{value:"legendary",children:"Legendary"}),t.jsx("option",{value:"mythic",children:"Mythic"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Описание"}),t.jsx("textarea",{value:j.description,onChange:k=>S(I=>({...I,description:k.target.value})),className:"w-full px-3 py-2 bg-input-background border border-border rounded-lg resize-none",rows:3,placeholder:"Описание кейса"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Призы в кейсе"}),t.jsx("div",{className:"max-h-40 overflow-y-auto space-y-2 border border-border rounded-lg p-2",children:F.map(k=>t.jsxs("label",{className:"flex items-center gap-3 p-2 hover:bg-surface-2 rounded cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:j.selectedPrizes.includes(k.id),onChange:I=>{I.target.checked?S(E=>({...E,selectedPrizes:[...E.selectedPrizes,k.id]})):S(E=>({...E,selectedPrizes:E.selectedPrizes.filter(V=>V!==k.id)}))},className:"rounded"}),t.jsx("div",{className:"w-6 h-6 rounded overflow-hidden",style:{backgroundColor:k.color+"20",borderColor:k.color},children:t.jsx(L,{src:k.image,className:"w-full h-full"})}),t.jsx("span",{className:"text-sm",children:k.name}),t.jsxs("span",{className:"text-xs text-muted-foreground ml-auto",children:[k.dropChance,"%"]})]},k.id))})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",id:"isActive",checked:j.isActive,onChange:k=>S(I=>({...I,isActive:k.target.checked})),className:"rounded"}),t.jsx("label",{htmlFor:"isActive",className:"text-sm",children:"Активен"})]}),t.jsxs("div",{className:"border-t border-border pt-4 space-y-4",children:[t.jsx("h4",{className:"font-medium text-sm",style:{color:n==="dark"?"#E8ECF2":"#0F172A"},children:"✨ Неоновая обводка"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Цвет свечения"}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"color",value:j.glowColor,onChange:k=>S(I=>({...I,glowColor:k.target.value})),className:"w-12 h-10 border border-border rounded-lg cursor-pointer",style:{backgroundColor:j.glowColor}}),t.jsx("input",{type:"text",value:j.glowColor,onChange:k=>S(I=>({...I,glowColor:k.target.value})),className:"flex-1 px-3 py-2 bg-input-background border border-border rounded-lg font-mono text-sm",placeholder:"#FF0000",pattern:"#[0-9A-Fa-f]{6}"}),t.jsx("button",{type:"button",onClick:()=>S(k=>({...k,glowColor:j.color})),className:"px-3 py-2 text-xs bg-surface-2 hover:bg-surface-3 rounded-lg transition-colors",children:"Как основной"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Интенсивность свечения"}),t.jsxs("select",{value:j.glowIntensity,onChange:k=>S(I=>({...I,glowIntensity:k.target.value})),className:"w-full px-3 py-2 bg-input-background border border-border rounded-lg",children:[t.jsx("option",{value:"low",children:"Слабое (Low)"}),t.jsx("option",{value:"medium",children:"Среднее (Medium)"}),t.jsx("option",{value:"high",children:"Яркое (High)"})]})]}),t.jsxs("div",{className:"p-4 bg-surface-2 rounded-lg",children:[t.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Превью эффекта:"}),t.jsx("div",{className:"w-20 h-20 mx-auto rounded-xl transition-all duration-300",style:{backgroundColor:n==="dark"?"#161A22":"#FFFFFF",border:`2px solid ${j.glowColor}`,boxShadow:j.glowIntensity==="low"?`0 0 10px ${j.glowColor}40`:j.glowIntensity==="medium"?`0 0 20px ${j.glowColor}60, 0 0 40px ${j.glowColor}20`:`0 0 30px ${j.glowColor}80, 0 0 60px ${j.glowColor}40, 0 0 90px ${j.glowColor}20`},children:t.jsx(L,{src:j.image,className:"w-full h-full rounded-lg object-cover"})})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{onClick:()=>l(!1),className:"flex-1 px-4 py-2 bg-surface-2 text-foreground rounded-lg hover:bg-surface-3 transition-colors",children:"Отмена"}),t.jsx("button",{onClick:H,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary-pressed transition-colors",children:p?"Обновить":"Создать"})]})]})}),R=()=>t.jsx(zo,{isOpen:u&&g!==null,onClose:()=>l(!1),title:g?"Редактировать приз":"Создать приз",theme:n,children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Название"}),t.jsx("input",{type:"text",value:D.name,onChange:k=>T(I=>({...I,name:k.target.value})),className:"w-full px-3 py-2 bg-input-background border border-border rounded-lg",placeholder:"Введите название приза"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Изображение"}),t.jsx(rx,{value:D.image,onChange:k=>T(I=>({...I,image:k})),placeholder:"🎁 или URL изображения (https://...) или вставьте base64",defaultEmoji:"🎁"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Редкость"}),t.jsxs("select",{value:D.rarity,onChange:k=>{const I=k.target.value;T(E=>({...E,rarity:I,color:B[I]}))},className:"w-full px-3 py-2 bg-input-background border border-border rounded-lg",children:[t.jsx("option",{value:"common",children:"Common"}),t.jsx("option",{value:"rare",children:"Rare"}),t.jsx("option",{value:"epic",children:"Epic"}),t.jsx("option",{value:"legendary",children:"Legendary"}),t.jsx("option",{value:"mythic",children:"Mythic"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Ценность"}),t.jsx("input",{type:"number",value:D.value,onChange:k=>T(I=>({...I,value:Number(k.target.value)})),className:"w-full px-3 py-2 bg-input-background border border-border rounded-lg",min:"0"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Шанс выпадения (%)"}),t.jsx("input",{type:"number",value:D.dropChance,onChange:k=>T(I=>({...I,dropChance:Number(k.target.value)})),className:"w-full px-3 py-2 bg-input-background border border-border rounded-lg",min:"0.1",max:"100",step:"0.1"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Описание"}),t.jsx("textarea",{value:D.description,onChange:k=>T(I=>({...I,description:k.target.value})),className:"w-full px-3 py-2 bg-input-background border border-border rounded-lg resize-none",rows:3,placeholder:"Описание приза"})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{onClick:()=>l(!1),className:"flex-1 px-4 py-2 bg-surface-2 text-foreground rounded-lg hover:bg-surface-3 transition-colors",children:"Отмена"}),t.jsx("button",{onClick:le,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary-pressed transition-colors",children:g?"Обновить":"Создать"})]})]})});return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Управление кейсами"}),t.jsx("p",{className:"text-muted-foreground",children:"Создавайте и настраивайте кейсы и призы с изображениями"})]}),t.jsxs("div",{className:"flex rounded-xl bg-surface-2 p-1",children:[t.jsxs("button",{onClick:()=>d("cases"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 ${i==="cases"?"bg-surface text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:[t.jsx(Vo,{className:"w-4 h-4"}),"Кейсы"]}),t.jsxs("button",{onClick:()=>d("prizes"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 ${i==="prizes"?"bg-surface text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:[t.jsx(_i,{className:"w-4 h-4"}),"Призы"]})]}),t.jsxs(Zo.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},children:[i==="cases"&&xe(),i==="prizes"&&O()]},i),Y(),R()]})}const AC=async n=>{try{await new Promise(d=>setTimeout(d,1200));const s=["https://images.unsplash.com/photo-1629507208649-70919ca33793?w=100&h=100&fit=crop&crop=face","https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?w=100&h=100&fit=crop&crop=face","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face","https://images.unsplash.com/photo-1560250097-0b93528c311a?w=100&h=100&fit=crop&crop=face","https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop&crop=face","https://images.unsplash.com/photo-1519345182560-3f2917c472ef?w=100&h=100&fit=crop&crop=face","https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=100&h=100&fit=crop&crop=face","https://images.unsplash.com/photo-1557804506-669a67965ba0?w=100&h=100&fit=crop&crop=face"],o=parseInt(n.slice(-3))%s.length,i=s[o];return console.log(`🔍 Получена аватарка для Telegram ID @${n}:`,i),i}catch(s){return console.error("Ошибка получения аватарки:",s),null}};function TC({onBack:n,onNavigateToSection:s}){const[o,i]=b.useState("Все команды"),[d,u]=b.useState(!1),[l,p]=b.useState(!1),[m,g]=b.useState(!1),[x,y]=b.useState(null),[v,F]=b.useState(!1),[N,j]=b.useState(!1),[S,D]=b.useState("date"),[T,C]=b.useState(!1),[L,B]=b.useState([]),G=["Все команды","Team 1","Team 2","Team 3","Team 4","Team 5","Team 6","Саппорт","Руководство"],$=["GRITHER","GLEB","SUPPORT","TEAMLEAD","WORKER"],_=[],ee=[],H=O=>O.startsWith("Team ")&&parseInt(O.split(" ")[1])||999,le=L.filter(O=>O.isActive?o==="Все команды"?!0:O.team===o:!1).sort((O,Y)=>{const R=H(O.team),k=H(Y.team);return R-k}),ye=L.filter(O=>!O.isActive).sort((O,Y)=>{switch(S){case"date":return O.fireDate&&Y.fireDate?new Date(Y.fireDate).getTime()-new Date(O.fireDate).getTime():0;case"team":return O.team.localeCompare(Y.team);case"name":return O.name.localeCompare(Y.name);default:return 0}}),Fe=O=>{y(O),O.isActive?g(!0):j(!0)},ke=O=>{B(Y=>Y.map(R=>R.id===O.id?{...R,isActive:!0,fireReason:void 0,fireDate:void 0,fireComment:void 0}:R)),j(!1),y(null)},xe=[{icon:Xr,label:"Главная",section:"dashboard"},{icon:Yr,label:"Сотрудники",section:"workers"},{icon:Qr,label:"Баттлы",section:"battles"},{icon:st,label:"Достижения",section:"achievements"},{icon:Wn,label:"Задачи",section:"tasks"},{icon:wr,label:"Товары",section:"shop"},{icon:Kr,label:"Игры",section:"games"},{icon:zs,label:"Кейсы",section:"cases"}];return t.jsxs("div",{className:"min-h-screen bg-background",children:[t.jsx("div",{className:"p-6 text-center",children:t.jsx("h1",{className:"text-lg font-medium text-foreground",children:"Панель управления"})}),t.jsx("div",{className:"px-6 pb-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("button",{onClick:()=>p(!0),className:"px-4 py-2 glass-card rounded-lg hover:bg-black/5 dark:hover:bg-white/5 transition-colors text-foreground",children:"Доб. сотрудника"}),t.jsx("button",{onClick:()=>F(!0),className:"px-4 py-2 glass-card rounded-lg hover:bg-black/5 dark:hover:bg-white/5 transition-colors text-foreground",children:"Уволены"})]})}),t.jsx("div",{className:"p-6 space-y-6 pb-60",children:t.jsxs("div",{className:"glass-card rounded-2xl apple-shadow p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-lg font-medium text-foreground text-center flex-1",children:"Сотрудники"}),t.jsxs("div",{className:"relative",children:[t.jsx("button",{onClick:()=>u(!d),className:"flex items-center gap-2 p-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-lg transition-colors",title:"Фильтр по командам",children:t.jsx("span",{children:"⋮"})}),d&&t.jsx("div",{className:"absolute top-full right-0 mt-2 w-48 glass-card rounded-xl apple-shadow z-10",children:G.map(O=>t.jsx("button",{onClick:()=>{i(O),u(!1)},className:`w-full text-left px-4 py-3 text-sm transition-colors first:rounded-t-xl last:rounded-b-xl ${o===O?"bg-primary text-primary-foreground":"hover:bg-black/5 text-foreground"}`,children:O},O))})]})]}),t.jsxs("div",{className:"space-y-3",children:[le.map(O=>t.jsxs("div",{className:"flex items-center justify-between p-3 border border-border/20 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"w-10 h-10 bg-secondary rounded-full flex items-center justify-center overflow-hidden",children:[O.avatar?t.jsx("img",{src:O.avatar,alt:`Аватарка ${O.name}`,className:"w-full h-full object-cover",onError:Y=>{Y.currentTarget.style.display="none",Y.currentTarget.nextElementSibling.style.display="block"}}):t.jsx(zn,{className:"w-5 h-5 text-muted-foreground"}),O.avatar&&t.jsx(zn,{className:"w-5 h-5 text-muted-foreground",style:{display:"none"}})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-sm font-medium text-foreground",children:[O.name,", ",O.team]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:[O.role," ",O.telegramId&&`• @${O.telegramId}`]})]})]}),t.jsx("button",{onClick:()=>Fe(O),className:"p-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-lg transition-colors",children:t.jsx(Uo,{className:"w-4 h-4 text-primary"})})]},O.id)),le.length===0&&t.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Сотрудники не найдены"})]})]})}),t.jsx(Ke,{open:v,onOpenChange:F,children:t.jsxs(Ge,{className:"bg-background border-none max-w-sm p-0 [&>button]:hidden max-h-[90vh] overflow-hidden rounded-3xl",children:[t.jsx(qe,{className:"text-lg font-medium text-foreground text-center",children:"Список уволенных"}),t.jsx(Xe,{className:"sr-only",children:"Список уволенных сотрудников с возможностью восстановления"}),t.jsxs("div",{className:"p-6",children:[t.jsx(Ho,{children:t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx("button",{onClick:()=>C(!T),className:"flex items-center gap-2 p-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-lg transition-colors",title:"Сортировка",children:t.jsx("span",{children:"⋮"})}),T&&t.jsx("div",{className:"absolute top-full left-0 mt-2 w-48 glass-card rounded-xl apple-shadow z-10",children:[{key:"date",label:"По дате увольнения"},{key:"team",label:"По команде"},{key:"name",label:"По имени"}].map(O=>t.jsx("button",{onClick:()=>{D(O.key),C(!1)},className:`w-full text-left px-4 py-3 text-sm transition-colors first:rounded-t-xl last:rounded-b-xl ${S===O.key?"bg-primary text-primary-foreground":"hover:bg-black/5 text-foreground"}`,children:O.label},O.key))})]}),t.jsx("div",{className:"flex-1"}),t.jsx("button",{onClick:()=>F(!1),className:"p-2 hover:bg-black/5 rounded-lg transition-colors",children:t.jsx(it,{className:"w-5 h-5 text-foreground/70"})})]})}),t.jsxs("div",{className:"overflow-y-auto max-h-[calc(80vh-200px)] space-y-3",children:[ye.map(O=>t.jsxs("div",{className:"flex items-center justify-between p-3 border border-border/20 rounded-lg cursor-pointer hover:bg-black/5 dark:hover:bg-white/5 transition-colors",onClick:()=>Fe(O),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-secondary rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-sm",children:"👤"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-sm font-medium text-foreground",children:[O.name,", ",O.team]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Статус: уволен"})]})]}),t.jsx("button",{onClick:Y=>{Y.stopPropagation(),ke(O)},className:"p-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-lg transition-colors",title:"Восстановить",children:t.jsx(Z1,{className:"w-4 h-4 text-primary"})})]},O.id)),ye.length===0&&t.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Уволенных сотрудников нет"})]})]})]})}),l&&t.jsx(sx,{isEdit:!1,worker:null,onClose:()=>p(!1),onSave:O=>{const Y={id:Date.now().toString()+Math.random().toString(36).substr(2,9),name:O.name||"",telegramId:O.telegramId,avatar:O.avatar,team:O.team||"",role:O.role||"WORKER",level:O.level||1,dateOfBirth:O.dateOfBirth,position:O.position,experience:O.experience,teamLead:O.teamLead,registrationDate:O.registrationDate||new Date().toISOString().split("T")[0],isActive:!0};B(R=>[...R,Y]),p(!1),console.log("Добавлен новый сотрудник:",Y)},teamLeads:_,supports:ee,roles:$,teams:G.slice(1)}),m&&x&&t.jsx(sx,{isEdit:!0,worker:x,onClose:()=>{g(!1),y(null)},onSave:O=>{x&&(B(Y=>Y.map(R=>R.id===x.id?{...R,name:O.name||R.name,telegramId:O.telegramId||R.telegramId,avatar:O.avatar||R.avatar,team:O.team||R.team,role:O.role||R.role,level:O.level||R.level,dateOfBirth:O.dateOfBirth||R.dateOfBirth,position:O.position||R.position,experience:O.experience||R.experience,teamLead:O.teamLead||R.teamLead,registrationDate:O.registrationDate||R.registrationDate}:R)),console.log("Обновлен сотрудник:",x.id,O)),g(!1),y(null)},onFire:(O,Y,R)=>{x&&(B(k=>k.map(I=>I.id===x.id?{...I,isActive:!1,fireReason:O,fireDate:new Date().toISOString().split("T")[0],fireComment:Y}:I)),console.log("Уволен сотрудник:",x.id,O,Y)),g(!1),y(null)},teamLeads:_,supports:ee,roles:$,teams:G.slice(1)}),t.jsx(Ke,{open:N&&x&&!x.isActive,onOpenChange:O=>{O||(j(!1),y(null))},children:t.jsxs(Ge,{className:"bg-background border-none max-w-sm p-0 [&>button]:hidden max-h-[90vh] overflow-hidden rounded-3xl",children:[t.jsx(qe,{className:"text-lg font-medium text-foreground text-center",children:"Анкета"}),t.jsx(Xe,{className:"sr-only",children:"Подробная информация об уволенном сотруднике с возможностью восстановления"}),t.jsxs("div",{className:"p-6",children:[t.jsx(Ho,{children:t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"flex-1"}),t.jsx("button",{onClick:()=>{j(!1),y(null)},className:"p-2 hover:bg-black/5 rounded-lg transition-colors",children:t.jsx(Wo,{className:"w-5 h-5 text-destructive"})})]})}),t.jsx("div",{className:"overflow-y-auto max-h-[calc(80vh-200px)] space-y-4",children:x&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"bg-secondary p-4 rounded-2xl apple-shadow space-y-2",children:[t.jsxs("div",{className:"text-center mb-4",children:[t.jsxs("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-2 overflow-hidden",children:[x.avatar?t.jsx("img",{src:x.avatar,alt:`Аватарка ${x.name}`,className:"w-full h-full object-cover",onError:O=>{O.currentTarget.style.display="none",O.currentTarget.nextElementSibling.style.display="block"}}):t.jsx(zn,{className:"w-8 h-8 text-muted-foreground"}),x.avatar&&t.jsx(zn,{className:"w-8 h-8 text-muted-foreground",style:{display:"none"}})]}),t.jsx("h3",{className:"text-lg font-medium text-foreground",children:x.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:x.team})]}),t.jsxs("div",{className:"space-y-1 text-sm",children:[t.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1",children:[t.jsx("span",{className:"text-muted-foreground",children:"Id:"}),t.jsx("span",{className:"text-foreground",children:x.id})]}),t.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1",children:[t.jsx("span",{className:"text-muted-foreground",children:"Имя:"}),t.jsx("span",{className:"text-foreground",children:x.name})]}),x.telegramId&&t.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1",children:[t.jsx("span",{className:"text-muted-foreground",children:"Telegram:"}),t.jsxs("span",{className:"text-foreground",children:["@",x.telegramId]})]}),t.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1",children:[t.jsx("span",{className:"text-muted-foreground",children:"ДР:"}),t.jsx("span",{className:"text-foreground",children:x.dateOfBirth||"-"})]}),t.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1",children:[t.jsx("span",{className:"text-muted-foreground",children:"Должность:"}),t.jsx("span",{className:"text-foreground",children:x.position||x.role})]}),t.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1",children:[t.jsx("span",{className:"text-muted-foreground",children:"Команда:"}),t.jsx("span",{className:"text-foreground",children:x.team})]}),t.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1",children:[t.jsx("span",{className:"text-muted-foreground",children:"Стаж:"}),t.jsx("span",{className:"text-foreground",children:x.experience||"-"})]}),t.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1",children:[t.jsx("span",{className:"text-muted-foreground",children:"Тимлид:"}),t.jsx("span",{className:"text-foreground",children:x.teamLead||"-"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Регистрация:"}),t.jsx("span",{className:"text-foreground",children:x.registrationDate||"-"})]})]})]}),t.jsx("div",{className:"bg-secondary p-4 rounded-2xl apple-shadow",children:t.jsxs("div",{className:"text-sm space-y-2",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Причина увольнения:"}),t.jsx("p",{className:"text-foreground mt-1",children:x.fireReason||"Не указана"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Дата увольнения:"}),t.jsx("p",{className:"text-destructive mt-1",children:x.fireDate})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Комментарий:"}),t.jsx("p",{className:"text-foreground mt-1",children:x.fireComment||"Комментарий отсутствует"})]})]})})]})}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-border/20 mt-4",children:[t.jsx(St,{onClick:()=>x&&ke(x),className:"flex-1 bg-primary text-primary-foreground text-sm px-4 py-2",children:"Отменить"}),t.jsx(St,{variant:"outline",onClick:()=>{j(!1),y(null)},className:"flex-1 text-sm px-4 py-2",children:"Применить"})]})]})]})}),t.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-background border-t border-border/20",children:t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"grid grid-cols-4 gap-4 mb-4",children:xe.slice(0,4).map((O,Y)=>{const R=O.icon,k=O.section==="workers";return t.jsxs("button",{className:"flex flex-col items-center text-center",onClick:()=>O.section==="dashboard"?n():s(O.section),children:[t.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-2 apple-shadow ${k?"bg-primary":"glass-card"}`,children:t.jsx(R,{className:`w-6 h-6 ${k?"text-white":"text-foreground/70"}`})}),t.jsx("span",{className:`text-xs ${k?"text-primary font-medium":"text-muted-foreground"}`,children:O.label})]},Y)})}),t.jsx("div",{className:"grid grid-cols-4 gap-4",children:xe.slice(4,8).map((O,Y)=>{const R=O.icon;return t.jsxs("button",{className:"flex flex-col items-center text-center",onClick:()=>s(O.section),children:[t.jsx("div",{className:"w-12 h-12 glass-card rounded-xl flex items-center justify-center mb-2 apple-shadow",children:t.jsx(R,{className:"w-6 h-6 text-foreground/70"})}),t.jsx("span",{className:"text-xs text-muted-foreground",children:O.label})]},Y)})})]})})]})}function sx({isEdit:n,worker:s,onClose:o,onSave:i,onFire:d,teamLeads:u,supports:l,roles:p,teams:m}){const[g,x]=b.useState({id:s?.id||"",name:s?.name||"",telegramId:s?.telegramId||"",avatar:s?.avatar||"",dateOfBirth:s?.dateOfBirth||"",position:s?.position||"",team:s?.team||"",experience:s?.experience||"",teamLead:s?.teamLead||"",registrationDate:s?.registrationDate||"",role:s?.role||"WORKER",level:s?.level||1}),[y,v]=b.useState(""),[F,N]=b.useState(null),[j,S]=b.useState(!1),[D,T]=b.useState(!1),C=($,_)=>{x(ee=>({...ee,[$]:_}))},L=async $=>{if(x(_=>({..._,telegramId:$})),$.trim()&&$.length>=5){T(!0);try{const _=await AC($);_&&x(ee=>({...ee,avatar:_}))}catch(_){console.error("Ошибка получения аватарки:",_)}finally{T(!1)}}},B=()=>{i(g)},G=()=>{if(!y.trim()){alert("Комментарий обязателен для увольнения");return}d?.(y,y,F||void 0),S(!1)};return j?t.jsx(Ke,{open:!0,onOpenChange:$=>!$&&S(!1),children:t.jsxs(Ge,{className:"bg-background border-none max-w-sm p-0 [&>button]:hidden rounded-3xl",children:[t.jsx(qe,{className:"text-lg font-medium text-foreground text-center",children:"Подтверждение увольнения"}),t.jsx(Xe,{className:"sr-only",children:"Модальное окно для подтверждения увольнения сотрудника с указанием причины"}),t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-center text-foreground",children:"Вы уверены, что хотите уволить сотрудника?"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-foreground/80 mb-2",children:"Причина увольнения (обязательно)"}),t.jsx("textarea",{value:y,onChange:$=>v($.target.value),placeholder:"Укажите причину увольнения...",className:"w-full p-3 bg-input-background border border-border rounded-2xl text-sm resize-none min-h-20"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-foreground/80 mb-2",children:"Прикрепить документ (необязательно)"}),t.jsx("input",{type:"file",onChange:$=>N($.target.files?.[0]||null),className:"w-full p-3 bg-input-background border border-border rounded-2xl text-sm"})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx(St,{variant:"outline",onClick:()=>S(!1),className:"flex-1",children:"Отменить"}),t.jsx(St,{onClick:G,className:"flex-1 bg-destructive text-destructive-foreground",disabled:!y.trim(),children:"Уволить"})]})]})})]})}):t.jsx(Ke,{open:!0,onOpenChange:$=>!$&&o(),children:t.jsxs(Ge,{className:"bg-background border-none max-w-sm p-0 [&>button]:hidden max-h-[90vh] overflow-hidden rounded-3xl",children:[t.jsx(qe,{className:"text-lg font-medium text-foreground text-center",children:n?"Анкета":"Добавить сотрудника"}),t.jsx(Xe,{className:"sr-only",children:n?"Форма для редактирования данных сотрудника":"Форма для добав��ения нового сотрудника"}),t.jsxs("div",{className:"p-6",children:[t.jsx(Ho,{children:t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:o,className:"p-2 hover:bg-black/5 rounded-lg transition-colors",children:t.jsx(Vn,{className:"w-5 h-5 text-foreground/70"})}),t.jsx("div",{className:"flex-1"})]}),n&&t.jsx("button",{onClick:()=>S(!0),className:"p-2 hover:bg-black/5 rounded-lg transition-colors",children:t.jsx(Wo,{className:"w-5 h-5 text-destructive"})})]})}),t.jsxs("div",{className:"overflow-y-auto max-h-[calc(80vh-200px)] space-y-4",children:[t.jsxs("div",{className:"bg-secondary p-4 rounded-2xl apple-shadow space-y-3 text-sm",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-muted-foreground",children:"Id:"}),t.jsx("input",{type:"text",value:g.id,onChange:$=>C("id",$.target.value),className:"w-full mt-1 bg-transparent border-none outline-none text-foreground"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-muted-foreground",children:"Имя:"}),t.jsx("input",{type:"text",value:g.name,onChange:$=>C("name",$.target.value),className:"w-full mt-1 bg-transparent border-none outline-none text-foreground"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-muted-foreground",children:"Telegram ID:"}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx("input",{type:"text",value:g.telegramId,onChange:$=>L($.target.value),placeholder:"Введите ID пользователя Telegram",className:"flex-1 bg-transparent border-none outline-none text-foreground"}),D&&t.jsx("div",{className:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin"})]})]}),g.avatar&&t.jsxs("div",{children:[t.jsx("label",{className:"text-muted-foreground",children:"Аватарка:"}),t.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[t.jsx("img",{src:g.avatar,alt:"Аватарка пользователя",className:"w-12 h-12 rounded-full object-cover border-2 border-border",onError:$=>{$.currentTarget.style.display="none"}}),t.jsx("span",{className:"text-sm text-muted-foreground",children:"Загружено из Telegram"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-muted-foreground",children:"Дата рождения:"}),t.jsx("input",{type:"date",value:g.dateOfBirth,onChange:$=>C("dateOfBirth",$.target.value),className:"w-full mt-1 bg-transparent border-none outline-none text-foreground"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-muted-foreground",children:"Должность:"}),t.jsx("input",{type:"text",value:g.position,onChange:$=>C("position",$.target.value),className:"w-full mt-1 bg-transparent border-none outline-none text-foreground"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-muted-foreground",children:"Команда:"}),t.jsxs("select",{value:g.team,onChange:$=>C("team",$.target.value),className:"w-full mt-1 bg-transparent border-none outline-none text-foreground",children:[t.jsx("option",{value:"",children:"Выберите команду"}),m.map($=>t.jsx("option",{value:$,children:$},$))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-muted-foreground",children:"Стаж:"}),t.jsx("input",{type:"text",value:g.experience,onChange:$=>C("experience",$.target.value),className:"w-full mt-1 bg-transparent border-none outline-none text-foreground"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-muted-foreground",children:"Роль:"}),t.jsx("select",{value:g.role,onChange:$=>C("role",$.target.value),className:"w-full mt-1 bg-transparent border-none outline-none text-foreground",children:p.map($=>t.jsx("option",{value:$,children:$},$))})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx(St,{variant:"outline",onClick:o,className:"flex-1",children:"Отменить"}),t.jsx(St,{onClick:B,className:"flex-1 bg-primary text-primary-foreground",children:n?"Сохранить":"Добавить"})]})]})]})]})})}function DC({battles:n,setBattles:s,battleInvitations:o,setBattleInvitations:i,onCompleteBattle:d,currentUserBalance:u=0}){const l=n.map((v,F)=>({id:`display-${v.id}-${F}`,originalId:v.id,challenger:{name:v.challengerName,status:v.winnerId===v.challengerId?"winning":v.winnerId===v.opponentId?"losing":"neutral"},opponent:{name:v.opponentName,status:v.winnerId===v.opponentId?"winning":v.winnerId===v.challengerId?"losing":"neutral"},date:v.startedAt.toLocaleDateString("ru-RU"),prize:v.stake,status:v.status==="completed"?"finished":"active"})),p=(v,F)=>{const N=n.find(S=>S.id===v);if(!N)return;const j=F==="challenger"?N.challengerId:N.opponentId;d(N.id,j)},m=v=>{const F=n.find(N=>N.id===v);F&&s(n.filter(N=>N.id!==F.id))},g=l.filter(v=>v.status==="active"),x=l.filter(v=>v.status==="finished"),y=()=>{const v={id:`test-battle-${Date.now()}`,challengerId:"user1",challengerName:"Анна Иванова",opponentId:"current-user",opponentName:"Вы",stake:100,status:"active",startedAt:new Date};s(F=>[v,...F]),setTimeout(()=>{d(v.id,"current-user")},1e3)};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-medium text-text",children:"Управление баттлами"}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-surface-2 rounded-lg",children:[t.jsx("span",{className:"text-sm text-text-muted",children:"Баланс пользователя:"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"text-sm font-medium text-text",children:u}),t.jsx("img",{src:xn,alt:"coins",className:"w-4 h-4"})]})]}),t.jsx("button",{onClick:y,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-sm",children:"🧪 Тест победы в баттле (+100 коинов)"}),t.jsx("div",{className:"text-sm text-text-muted",children:"Просмотр и управление результатами баттлов"})]})]}),t.jsxs("div",{className:"glass-card p-6",children:[t.jsxs("h3",{className:"text-lg font-medium text-text mb-4",children:["Активные баттлы (",g.length,")"]}),g.length>0?t.jsx("div",{className:"space-y-4",children:g.map((v,F)=>t.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"px-3 py-1 bg-surface-2 rounded-full text-sm font-medium",children:v.challenger.name}),t.jsx("span",{className:"text-text-muted text-sm",children:"VS"}),t.jsx("span",{className:"px-3 py-1 bg-surface-2 rounded-full text-sm font-medium",children:v.opponent.name})]}),t.jsxs("div",{className:"text-sm text-text-muted",children:["Ставка: ",v.prize,"g"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>p(v.originalId,"challenger"),className:"flex items-center gap-1 px-3 py-1 bg-chart-2 text-white rounded-lg hover:opacity-80 transition-opacity text-sm",title:`${v.challenger.name} победил`,children:[t.jsx(bm,{className:"w-3 h-3"}),v.challenger.name]}),t.jsxs("button",{onClick:()=>p(v.originalId,"opponent"),className:"flex items-center gap-1 px-3 py-1 bg-chart-2 text-white rounded-lg hover:opacity-80 transition-opacity text-sm",title:`${v.opponent.name} победил`,children:[t.jsx(bm,{className:"w-3 h-3"}),v.opponent.name]}),t.jsx("button",{onClick:()=>m(v.originalId),className:"p-1 text-destructive hover:bg-destructive hover:text-destructive-foreground rounded transition-colors",title:"Удалить баттл",children:t.jsx(it,{className:"w-4 h-4"})})]})]},v.id))}):t.jsx("p",{className:"text-text-muted text-center py-8",children:"Нет активных баттлов"})]}),t.jsxs("div",{className:"glass-card p-6",children:[t.jsxs("h3",{className:"text-lg font-medium text-text mb-4",children:["Завершенные баттлы (",x.length,")"]}),x.length>0?t.jsx("div",{className:"space-y-3",children:x.map((v,F)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface-2 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${v.challenger.status==="winning"?"bg-chart-2 text-white":"bg-destructive text-destructive-foreground"}`,children:v.challenger.name}),t.jsx("span",{className:"text-text-muted text-sm",children:"VS"}),t.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${v.opponent.status==="winning"?"bg-chart-2 text-white":"bg-destructive text-destructive-foreground"}`,children:v.opponent.name})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-sm text-text-muted",children:["Ставка: ",v.prize,"g"]}),t.jsx("div",{className:"text-sm text-text-muted",children:v.date}),t.jsx("button",{onClick:()=>m(v.originalId),className:"p-1 text-destructive hover:bg-destructive hover:text-destructive-foreground rounded transition-colors",title:"Удалить из истории",children:t.jsx(it,{className:"w-4 h-4"})})]})]},v.id))}):t.jsx("p",{className:"text-text-muted text-center py-8",children:"Нет завершенных баттлов"})]})]})}function PC({isOpen:n,onClose:s,achievement:o,onApprove:i,onReject:d,theme:u="light"}){const[l,p]=b.useState(!1),[m,g]=b.useState(!1),[x,y]=b.useState(""),[v,F]=b.useState(null),[N,j]=b.useState(!1),[S,D]=b.useState(null);if(!o)return null;const T=_=>{F(_),g(!0)},C=()=>{v&&(i(o.id,v),g(!1),F(null))},L=()=>{p(!0)},B=()=>{x.trim()&&(d(o.id,x),p(!1),y(""),s())},G=_=>{D(_),j(!0)},$=()=>{const _=o.subtasks.filter(ee=>ee.completed).length;return Math.round(_/o.subtasks.length*100)};return t.jsxs(t.Fragment,{children:[t.jsx(pt,{isOpen:n,onClose:s,title:"Условия выполнения достижения",theme:u,actions:t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:s,className:"transition-colors text-center",style:{height:"44px",borderRadius:"12px",backgroundColor:u==="dark"?"#202734":"#F3F5F8",border:u==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF",color:u==="dark"?"#E8ECF2":"#0F172A",padding:"0 20px"},children:"Отменить"}),t.jsx("button",{onClick:L,className:"transition-colors text-center",style:{height:"44px",borderRadius:"12px",backgroundColor:"#ff3b30",color:"#ffffff",border:"none",padding:"0 20px"},children:"Отклонить"}),t.jsx("button",{onClick:()=>{o.subtasks.forEach(_=>{_.hasAttachment&&!_.completed&&i(o.id,_.id)}),s()},className:"transition-colors text-center",style:{height:"44px",borderRadius:"12px",backgroundColor:"#2B82FF",color:"#ffffff",border:"none",padding:"0 20px"},children:"Применить"})]}),children:t.jsxs("div",{style:{maxHeight:"60vh",overflowY:"auto"},children:[t.jsxs("div",{className:"flex gap-4 mb-6",children:[t.jsx("div",{className:"flex items-center justify-center flex-shrink-0",style:{width:"64px",height:"64px",backgroundColor:u==="dark"?"#202734":"#F3F5F8",borderRadius:"12px"},children:t.jsx("span",{style:{fontSize:"32px"},children:"🏆"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium mb-2",style:{color:u==="dark"?"#E8ECF2":"#0F172A"},children:o.title}),t.jsx("p",{className:"mb-3",style:{color:u==="dark"?"#A7B0BD":"#6B7280",fontSize:"14px"},children:o.description}),t.jsx("div",{className:"space-y-2",children:o.subtasks.map((_,ee)=>t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsx("div",{className:"flex items-center gap-2 flex-1",children:t.jsxs("span",{style:{color:u==="dark"?"#E8ECF2":"#0F172A",fontSize:"14px"},children:["• ",_.description]})}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{onClick:()=>T(_.id),disabled:!_.hasAttachment||_.completed,className:"p-1 rounded transition-colors",style:{backgroundColor:_.completed?"#34c759":_.hasAttachment?u==="dark"?"#202734":"#F3F5F8":"transparent",opacity:_.hasAttachment||_.completed?1:.3},children:t.jsx(Wn,{style:{width:"16px",height:"16px",color:_.completed?"#ffffff":"#34c759"}})}),t.jsx("button",{onClick:()=>_.attachments?.[0]&&G(_.attachments[0]),disabled:!_.hasAttachment,className:"p-1 rounded transition-colors",style:{backgroundColor:_.hasAttachment?u==="dark"?"#202734":"#F3F5F8":"transparent",opacity:_.hasAttachment?1:.3},children:t.jsx(Yt,{style:{width:"16px",height:"16px",color:_.hasAttachment?"#2B82FF":u==="dark"?"#A7B0BD":"#6B7280"}})})]})]},_.id))})]})]}),t.jsxs("div",{className:"mb-6 p-3 rounded-lg",style:{backgroundColor:u==="dark"?"rgba(43, 130, 255, 0.12)":"rgba(43, 130, 255, 0.10)"},children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{style:{color:u==="dark"?"#E8ECF2":"#0F172A",fontSize:"14px"},children:"Прогресс выполнения"}),t.jsxs("span",{style:{color:u==="dark"?"#E8ECF2":"#0F172A",fontSize:"14px"},children:[$(),"%"]})]}),t.jsx("div",{className:"w-full rounded-full",style:{height:"8px",backgroundColor:u==="dark"?"#202734":"#E6E9EF"},children:t.jsx("div",{className:"rounded-full transition-all duration-300",style:{width:`${$()}%`,height:"8px",backgroundColor:"#2B82FF"}})})]}),t.jsxs("div",{className:"mb-6 space-y-1",style:{color:u==="dark"?"#A7B0BD":"#6B7280",fontSize:"12px"},children:[t.jsxs("div",{children:["Сотрудник: ",o.assignedTo]}),t.jsxs("div",{children:["Дата подачи: ",new Date(o.submittedDate).toLocaleDateString("ru-RU")]}),t.jsxs("div",{children:["Награда: ",o.reward.amount," ",o.reward.type]})]})]})}),t.jsx(pt,{isOpen:m,onClose:()=>g(!1),title:"Подтверждение выполнения",theme:u,actions:t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>g(!1),className:"transition-colors text-center",style:{height:"44px",borderRadius:"12px",backgroundColor:u==="dark"?"#202734":"#F3F5F8",border:u==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF",color:u==="dark"?"#E8ECF2":"#0F172A",padding:"0 20px"},children:"Нет"}),t.jsx("button",{onClick:C,className:"transition-colors text-center",style:{height:"44px",borderRadius:"12px",backgroundColor:"#2B82FF",color:"#ffffff",border:"none",padding:"0 20px"},children:"Да"})]}),children:t.jsx("div",{className:"text-center",children:t.jsx("p",{style:{color:u==="dark"?"#A7B0BD":"#6B7280",fontSize:"14px"},children:"Вы уверены, что задание выполнено верно?"})})}),t.jsx(pt,{isOpen:l,onClose:()=>p(!1),title:"Причина отклонения",theme:u,actions:t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>p(!1),className:"transition-colors text-center",style:{height:"44px",borderRadius:"12px",backgroundColor:u==="dark"?"#202734":"#F3F5F8",border:u==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF",color:u==="dark"?"#E8ECF2":"#0F172A",padding:"0 20px"},children:"Отмена"}),t.jsx("button",{onClick:B,disabled:!x.trim(),className:"transition-colors text-center disabled:opacity-50 disabled:cursor-not-allowed",style:{height:"44px",borderRadius:"12px",backgroundColor:x.trim()?"#ff3b30":u==="dark"?"#202734":"#E6E9EF",color:"#ffffff",border:"none",padding:"0 20px"},children:"Отправить"})]}),children:t.jsx("div",{children:t.jsx("textarea",{placeholder:"Укажите, что выполнено неправильно...",value:x,onChange:_=>y(_.target.value),className:"w-full transition-colors resize-none",rows:4,style:{height:"100px",borderRadius:"12px",backgroundColor:u==="dark"?"#202734":"#F3F5F8",border:u==="dark"?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #E6E9EF",color:u==="dark"?"#E8ECF2":"#0F172A",padding:"12px",fontSize:"14px",outline:"none"}})})}),t.jsx(pt,{isOpen:N,onClose:()=>j(!1),title:"Просмотр файла",theme:u,actions:t.jsx("button",{onClick:()=>j(!1),className:"w-full transition-colors text-center",style:{height:"44px",borderRadius:"12px",backgroundColor:"#2B82FF",color:"#ffffff",border:"none"},children:"Закрыть"}),children:t.jsxs("div",{className:"text-center p-8 rounded-lg mb-4",style:{backgroundColor:u==="dark"?"rgba(43, 130, 255, 0.12)":"rgba(43, 130, 255, 0.10)"},children:[t.jsx("div",{style:{fontSize:"64px",marginBottom:"16px"},children:"📄"}),t.jsxs("p",{className:"mb-2",style:{fontSize:"14px",color:u==="dark"?"#A7B0BD":"#6B7280"},children:["Файл: ",S]}),t.jsx("p",{style:{fontSize:"12px",color:u==="dark"?"#A7B0BD":"#6B7280"},children:"Предварительный просмотр файла"})]})})]})}function BC({currentAdminPage:n,setCurrentAdminPage:s}){const[o,i]=b.useState([]),[d,u]=b.useState(null),[l,p]=b.useState(!1),[m,g]=b.useState("date"),[x,y]=b.useState(!1),v=T=>{u(T),p(!0)},F=(T,C)=>{i(L=>L.map(B=>{if(B.id===T){const G=B.subtasks.map(ee=>ee.id===C?{...ee,completed:!0}:ee),$=G.filter(ee=>ee.completed).length,_=Math.round($/G.length*100);return{...B,subtasks:G,completionPercentage:_,status:_===100?"approved":B.status}}return B}))},N=(T,C)=>{i(L=>L.map(B=>B.id===T?{...B,status:"rejected",rejectionReason:C}:B))},j=(T,C)=>T==="approved"?t.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400 rounded text-xs",children:"одобрено"}):T==="rejected"?t.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400 rounded text-xs",children:"отклонено"}):t.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400 rounded text-xs",children:"на проверке"}),S=o.filter(T=>T.status==="pending"),D=[...S].sort((T,C)=>{switch(m){case"date":return new Date(C.submittedDate).getTime()-new Date(T.submittedDate).getTime();case"progress":return C.completionPercentage-T.completionPercentage;case"employee":return T.assignedTo.localeCompare(C.assignedTo);default:return 0}});return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"min-h-screen bg-background pb-40",children:t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"text-center mb-8",children:t.jsx("h2",{className:"text-xl font-medium text-foreground",children:"Модерация достижений"})}),t.jsx("div",{className:"px-6",children:t.jsxs("div",{className:"glass-card rounded-2xl apple-shadow p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-foreground",children:["Достижения на проверке (",S.length,")"]}),t.jsxs("div",{className:"relative",children:[t.jsx("button",{onClick:()=>y(!x),className:"glass-card p-3 rounded-xl transition-colors hover:bg-accent/50",title:"Сортировка",children:t.jsx(vr,{size:16,className:"text-foreground/70"})}),x&&t.jsx("div",{className:"absolute top-full right-0 mt-2 w-48 glass-card rounded-xl apple-shadow z-10",children:[{key:"date",label:"По дате подачи"},{key:"progress",label:"По прогрессу"},{key:"employee",label:"По сотруднику"}].map(T=>t.jsx("button",{onClick:()=>{g(T.key),y(!1)},className:`w-full text-left px-4 py-3 text-sm transition-colors first:rounded-t-xl last:rounded-b-xl ${m===T.key?"bg-primary text-primary-foreground":"hover:bg-black/5 text-foreground"}`,children:T.label},T.key))})]})]}),t.jsxs("div",{className:"space-y-3",children:[D.map(T=>t.jsxs("div",{className:"p-4 border border-border/20 rounded-lg cursor-pointer hover:bg-black/5 dark:hover:bg-white/5 transition-colors",onClick:()=>v(T),children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h4",{className:"font-medium text-foreground",children:T.title}),j(T.status,T.completionPercentage)]}),t.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:["Сотрудник: ",T.assignedTo]}),t.jsxs("div",{className:"text-sm text-muted-foreground mb-3",children:["Прогресс: ",T.completionPercentage,"% • ",new Date(T.submittedDate).toLocaleDateString("ru-RU")]}),t.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:t.jsx("div",{className:"bg-primary rounded-full h-2 transition-all duration-300",style:{width:`${T.completionPercentage}%`}})}),t.jsxs("div",{className:"flex gap-2 mt-3",children:[t.jsx("button",{onClick:C=>{C.stopPropagation(),v(T)},className:"flex-1 py-2 px-4 bg-green-500 text-white rounded-lg text-sm font-medium transition-colors hover:bg-green-600",children:"Одобрить"}),t.jsx("button",{onClick:C=>{C.stopPropagation(),v(T)},className:"flex-1 py-2 px-4 bg-red-500 text-white rounded-lg text-sm font-medium transition-colors hover:bg-red-600",children:"Отклонить"})]})]},T.id)),D.length===0&&t.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Нет достижений на проверке"})]}),t.jsx("button",{onClick:()=>s?.("dashboard"),className:"w-full py-3 px-4 bg-primary text-primary-foreground rounded-full text-sm font-medium transition-colors hover:bg-primary/90 mt-6",children:"Закрыть"})]})})]})}),t.jsx(PC,{isOpen:l,onClose:()=>p(!1),achievement:d,onApprove:F,onReject:N})]})}const RC=[{telegramId:"123456789",username:"ivan_petrov",role:"главный_админ"},{telegramId:"987654321",username:"maria_sidorova",role:"главный_админ"},{telegramId:"111222333",username:"alexey_kozlov",role:"старший_админ"},{telegramId:"444555666",username:"elena_morozova",role:"старший_админ"},{telegramId:"1609556178",username:"admin_senior",role:"старший_админ"},{telegramId:"777888999",username:"dmitry_volkov",role:"младший_админ"},{telegramId:"000111222",username:"anna_lebedeva",role:"младший_админ"},{telegramId:"333444555",username:"sergey_orlov",role:"тимлид",teamNumber:1},{telegramId:"666777888",username:"olga_sokolova",role:"тимлид",teamNumber:2},{telegramId:"999000111",username:"mikhail_rybakov",role:"тимлид",teamNumber:3}],MC={"df1GE%LwVAAC":"главный_админ","0caFyNh}w%":"старший_админ","~3SogEhz":"младший_админ","SToU{~":"тимлид"};function IC({onNavigate:n,achievements:s,setAchievements:o,shopItems:i,setShopItems:d,orders:u,setOrders:l,tasks:p,setTasks:m,cases:g,setCases:x,userCases:y,setUserCases:v,battles:F,setBattles:N,battleInvitations:j,setBattleInvitations:S,onCompleteBattle:D,onToggleDarkMode:T,users:C=[],onUpdateUserBalance:L}){const[B,G]=b.useState("dashboard"),[$,_]=b.useState(null),[ee,H]=b.useState(null);b.useEffect(()=>{const ke=localStorage.getItem("adminLoginData");if(ke){const{telegramId:xe,accessCode:O}=JSON.parse(ke),Y=MC[O];if(Y){const R=RC.find(k=>k.telegramId===xe&&k.role===Y);R&&(_(R.role),H(R.username))}}},[]);const le=()=>{n("home")},ye=ke=>{switch(ke){case"главный_админ":return"Главный админ";case"старший_админ":return"Старший админ";case"младший_админ":return"Младший админ";case"тимлид":return"Тимлид";default:return ke}},Fe=()=>{switch(B){case"achievements":return t.jsx(bC,{achievements:s,setAchievements:o,currentAdminPage:B,setCurrentAdminPage:G});case"achievements-moderation":return t.jsx(BC,{currentAdminPage:B,setCurrentAdminPage:G});case"tasks":return t.jsx(jC,{currentAdminPage:B,setCurrentAdminPage:G,tasks:p,setTasks:m});case"shop":return t.jsx(NC,{onBack:()=>G("dashboard"),onNavigateToSection:ke=>G(ke),onNavigateToModeration:()=>G("shop-moderation"),shopItems:i,setShopItems:d});case"shop-moderation":return t.jsx(CC,{onBack:()=>G("shop"),orders:u,setOrders:l,onUpdateUserBalance:L});case"workers":return t.jsx(TC,{onBack:()=>G("dashboard"),onNavigateToSection:ke=>G(ke)});case"battles":return t.jsx(DC,{battles:F,setBattles:N,battleInvitations:j,setBattleInvitations:S,onCompleteBattle:D,currentUserBalance:C.find(ke=>ke.id==="current-user")?.balance||0});case"games":return t.jsx(SC,{onBack:()=>G("dashboard"),onNavigateToSection:ke=>G(ke)});case"cases":return t.jsx(EC,{theme:"dark",cases:g,setCases:x});case"dashboard":default:return t.jsx(yC,{onClose:le,onToggleDarkMode:T,onNavigateToWorkers:()=>G("workers"),onNavigateToAchievementsModeration:()=>G("achievements-moderation"),onNavigateToGames:()=>G("games"),onNavigateToCases:()=>G("cases"),onNavigateToBattles:()=>G("battles")})}};return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-background",children:[t.jsx("div",{className:"fixed top-0 left-0 right-0 z-40 bg-background border-b border-border/20",children:t.jsxs("div",{className:"flex items-center justify-between p-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:t.jsx(ad,{className:"w-6 h-6 text-primary cursor-pointer transition-transform hover:scale-110",onDoubleClick:T,title:"Двойной клик для смены темы"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-medium text-foreground",children:"Панель управления"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:ye($||"")})]})]}),t.jsx("button",{onClick:le,className:"p-2 hover:bg-black/5 rounded-lg transition-colors",children:t.jsx(it,{className:"w-5 h-5 text-foreground/70"})})]})}),t.jsx("div",{className:"pt-20",children:Fe()})]})})}const _C=()=>{let n=0;for(let s in localStorage)localStorage.hasOwnProperty(s)&&(n+=localStorage[s].length+s.length);return n},OC=()=>{["oldCases","tempCases","backup_cases","cache_","temp_"].forEach(s=>{Object.keys(localStorage).forEach(o=>{o.includes(s)&&(localStorage.removeItem(o),console.log(`Удален ключ: ${o}`))})})};function LC(){const n=mw(),[s,o]=b.useState("home"),[i,d]=b.useState(!1),[u,l]=b.useState(!0),[p,m]=b.useState(!1),[g,x]=b.useState(eC),[y,v]=b.useState(tC),[F,N]=b.useState(nC),[j,S]=b.useState(rC),[D,T]=b.useState([]),[C,L]=b.useState(oC),[B,G]=b.useState(null),[$,_]=b.useState([]),[ee,H]=b.useState(iC),[le,ye]=b.useState(lC),[Fe,ke]=b.useState([{id:"battle1",challengerId:"user1",challengerName:"Анна Иванова",opponentId:"current-user",opponentName:"Вы",stake:150,status:"completed",startedAt:new Date(Date.now()-2880*60*1e3),completedAt:new Date(Date.now()-2880*60*1e3+1800*1e3),winnerId:"user1",winnerName:"Анна Иванова",loserId:"current-user",loserName:"Вы"},{id:"battle2",challengerId:"current-user",challengerName:"Вы",opponentId:"user3",opponentName:"Мария Сидорова",stake:200,status:"completed",startedAt:new Date(Date.now()-7200*60*1e3),completedAt:new Date(Date.now()-7200*60*1e3+2700*1e3),winnerId:"current-user",winnerName:"Вы",loserId:"user3",loserName:"Мария Сидорова"},{id:"battle3",challengerId:"user4",challengerName:"Алексей Козлов",opponentId:"user2",opponentName:"Петр Петров",stake:100,status:"completed",startedAt:new Date(Date.now()-10080*60*1e3),completedAt:new Date(Date.now()-10080*60*1e3+1200*1e3),winnerId:"user4",winnerName:"Алексей Козлов",loserId:"user2",loserName:"Петр Петров"},{id:"battle4",challengerId:"user5",challengerName:"Елена Морозова",opponentId:"current-user",opponentName:"Вы",stake:75,status:"active",startedAt:new Date(Date.now()-7200*1e3)}]),[xe,O]=b.useState([{id:"invitation1",challengerId:"user3",challengerName:"Мария Сидорова",opponentId:"current-user",opponentName:"Вы",stake:120,message:"Вызываю на реванш!",createdAt:new Date(Date.now()-1800*1e3),expiresAt:new Date(Date.now()+23.5*60*60*1e3),status:"pending"},{id:"invitation2",challengerId:"user1",challengerName:"Анна Иванова",opponentId:"current-user",opponentName:"Вы",stake:180,createdAt:new Date(Date.now()-600*1e3),expiresAt:new Date(Date.now()+23.8*60*60*1e3),status:"pending"}]),Y=()=>[{id:"current-user",name:n.user?`${n.user.first_name}${n.user.last_name?" "+n.user.last_name:""}`:"Вы",level:10,rating:950,balance:1500,isOnline:!0,telegramId:n.user?.id||null,username:n.user?.username||null,avatar:n.user?.photo_url||null},{id:"user1",name:"Анна Иванова",level:15,rating:1250,balance:2500,isOnline:!0},{id:"user2",name:"Петр Петров",level:12,rating:980,balance:1800,isOnline:!1},{id:"user3",name:"Мария Сидорова",level:18,rating:1450,balance:3200,isOnline:!0},{id:"user4",name:"Алексей Козлов",level:14,rating:1120,balance:2100,isOnline:!0},{id:"user5",name:"Елена Морозова",level:16,rating:1380,balance:2800,isOnline:!1}],[R,k]=b.useState(Y()),I=b.useRef(!1),E=P=>{P!=="admin"&&o(P)},V=()=>{d(!0)},K=()=>{o("admin")},de=P=>{o(P)},ae=P=>{const X={...P,id:Date.now().toString()+Math.random().toString(36).substr(2,9),timestamp:new Date,read:!1};H(oe=>[X,...oe])},je=P=>{H(X=>X.map(oe=>oe.id===P?{...oe,read:!0}:oe))},Ne=()=>{H(P=>P.map(X=>({...X,read:!0})))},Ae=P=>{H(X=>X.filter(oe=>oe.id!==P))},Re=()=>{H([])},We=P=>{P.unlocked&&(ae({type:"achievement",title:"🏆 Достижение разблокировано!",message:`Поздравляем! Вы получили достижение "${P.title}". ${P.reward?`Награда: ${P.reward} коинов.`:""}`,priority:"high",data:{achievementId:P.id,achievementTitle:P.title,reward:P.reward}}),P.reward&&ie("current-user",P.reward))},gt=P=>{ae({type:"task",title:"📋 Новая задача назначена!",message:`Вам назначена задача: "${P.title}". ${P.deadline?`Крайний срок: ${new Date(P.deadline).toLocaleDateString()}`:"Выполните в удобное время."}`,priority:P.priority==="high"?"high":"medium",data:{taskId:P.id,taskTitle:P.title,deadline:P.deadline,reward:P.reward}})},vt=P=>{P.completed&&(ae({type:"task",title:"✅ Задача выполнена!",message:`Задача "${P.title}" успешно выполнена! ${P.reward?`Получено: ${P.reward} коинов и ${P.experience||50} опыта.`:"Отличная работа!"}`,priority:"medium",data:{taskId:P.id,taskTitle:P.title,reward:P.reward,experience:P.experience}}),P.reward&&ie("current-user",P.reward),P.experience&&ue("current-user",P.experience))},se=P=>{ae({type:"shop",title:"🛍️ Новый товар в магазине!",message:`Добавлен новый товар: "${P.title}". ${P.sale?`🔥 Скидка ${P.sale}%!`:`Цена: ${P.price} коинов.`}`,priority:P.sale?"high":"medium",data:{itemId:P.id,itemTitle:P.title,price:P.price,sale:P.sale}})},we=(P,X)=>{if(P.sale&&P.sale>0){const oe=P.price*(1-P.sale/100);ae({type:"shop",title:"🔥 Скидка на товар!",message:`Скидка ${P.sale}% на "${P.title}"! Цена: ${Math.round(oe)} коинов (было ${X}).`,priority:"high",data:{itemId:P.id,itemTitle:P.title,oldPrice:X,newPrice:oe,salePercent:P.sale}})}},ne=P=>{P.status==="approved"?ae({type:"shop",title:"✅ Покупка одобрена!",message:`Ваш заказ "${P.itemTitle}" одобрен администратором. Ожидайте выполнения заказа.`,priority:"medium",data:{orderId:P.id,itemTitle:P.itemTitle,totalPrice:P.totalPrice}}):P.status==="rejected"&&(ae({type:"shop",title:"❌ Покупка отклонена",message:`Ваш заказ "${P.itemTitle}" отклонен. Средства возвращены на баланс.`,priority:"medium",data:{orderId:P.id,itemTitle:P.itemTitle,refundAmount:P.totalPrice}}),ie("current-user",P.totalPrice))},Ie=P=>{ae({type:"case",title:"📦 Новый кейс добавлен!",message:`Добавлен новый кейс: "${P.name}". Цена: ${P.price} коинов. Попробуйте свою удачу!`,priority:"medium",data:{caseId:P.id,caseName:P.name,price:P.price}})},ze=(P,X)=>{ae({type:"case",title:"🎁 Кейс открыт!",message:`Из кейса "${P.name}" выпал приз: "${X.name}"! ${X.type==="coins"?`Получено: ${X.value} коинов.`:`Редкость: ${X.rarity}.`}`,priority:X.rarity==="legendary"?"high":"medium",data:{caseId:P.id,caseName:P.name,prizeName:X.name,prizeType:X.type,prizeValue:X.value,rarity:X.rarity}})},Bt=P=>{const X=Q(P.challengerId);if(X<P.stake){ae({type:"error",title:"Недостаточно средств!",message:`У вас недостаточно коинов для создания баттла. Требуется: ${P.stake}, у вас: ${X}`,priority:"high"});return}if(Q(P.opponentId)<P.stake){ae({type:"error",title:"Невозможно создать баттл!",message:`У ${P.opponentName} недостаточно коинов для участия в баттле.`,priority:"medium"});return}const ge={...P,id:Date.now().toString()+Math.random().toString(36).substr(2,9),createdAt:new Date,expiresAt:new Date(Date.now()+1440*60*1e3),status:"pending"};O(Le=>[ge,...Le]),ae({type:"battle",title:"Новый вызов на баттл!",message:`${P.challengerName} вызывает вас на баттл. Ставка: ${P.stake} коинов.`,priority:"high",data:{invitationId:ge.id,stake:P.stake}}),console.log("Создано приглашение на баттл:",ge)},yt=P=>{const X=xe.find(Oe=>Oe.id===P);if(!X)return;const oe=Q(X.opponentId);if(oe<X.stake){ae({type:"error",title:"Недостаточно средств!",message:`У вас недостаточно коинов для участия в баттле. Требуется: ${X.stake}, у вас: ${oe}`,priority:"high"});return}if(Q(X.challengerId)<X.stake){ae({type:"error",title:"Баттл отменен!",message:`У ${X.challengerName} недостаточно коинов для продолжения баттла.`,priority:"medium"}),O(Oe=>Oe.map(Ve=>Ve.id===P?{...Ve,status:"declined"}:Ve));return}O(Oe=>Oe.map(Ve=>Ve.id===P?{...Ve,status:"accepted"}:Ve));const Le={id:Date.now().toString()+Math.random().toString(36).substr(2,9),challengerId:X.challengerId,challengerName:X.challengerName,opponentId:X.opponentId,opponentName:X.opponentName,stake:X.stake,status:"active",startedAt:new Date};ke(Oe=>[Le,...Oe]),ae({type:"battle",title:"Вызов принят!",message:`${X.opponentName} принял ваш вызов на баттл. Ставка: ${X.stake} коинов.`,priority:"medium",data:{battleId:Le.id}}),console.log("Баттл создан:",Le)},Ot=P=>{const X=xe.find(oe=>oe.id===P);X&&(O(oe=>oe.map(ge=>ge.id===P?{...ge,status:"declined"}:ge)),ae({type:"battle",title:"Вызов отклонен",message:`${X.opponentName} отклонил ваш вызов на баттл.`,priority:"low",data:{invitationId:P}}))},ie=(P,X)=>{k(oe=>oe.map(ge=>ge.id===P?{...ge,balance:Math.max(0,ge.balance+X)}:ge))},ue=(P,X)=>{k(oe=>oe.map(ge=>{if(ge.id===P){const Le=ge.level,Oe=Math.max(0,(ge.experience||0)+X),Ve=ge.level+Math.floor(Oe/1e3)-Math.floor((ge.experience||0)/1e3);return Ve>Le&&P==="current-user"&&(ae({type:"achievement",title:"🎉 Новый уровень!",message:`Поздравляем! Вы достигли ${Ve} уровня. Получено: ${(Ve-Le)*100} коинов бонуса!`,priority:"high",data:{oldLevel:Le,newLevel:Ve,bonusCoins:(Ve-Le)*100}}),ie(P,(Ve-Le)*100)),{...ge,experience:Oe,level:Ve}}return ge}))},Q=P=>{const X=R.find(oe=>oe.id===P);return X?X.balance:0},Be=(P,X)=>{const oe=Fe.find(Ve=>Ve.id===P);if(!oe)return;const ge=X===oe.challengerId?oe.challengerName:oe.opponentName,Le=X===oe.challengerId?oe.opponentName:oe.challengerName,Oe=X===oe.challengerId?oe.opponentId:oe.challengerId;ie(X,oe.stake),ie(Oe,-oe.stake),ke(Ve=>Ve.map(Rt=>Rt.id===P?{...Rt,status:"completed",completedAt:new Date,winnerId:X,winnerName:ge,loserId:Oe,loserName:Le}:Rt)),ae(X==="current-user"?{type:"battle",title:"🎉 Баттл выигран!",message:`Поздравляем! Вы победили в баттле против ${Le}. Получено: ${oe.stake} коинов.`,priority:"high",data:{battleId:P,winnerId:X,stake:oe.stake,result:"victory"}}:Oe==="current-user"?{type:"battle",title:"😔 Баттл проигран",message:`Баттл против ${ge} завершился поражением. Потеряно: ${oe.stake} коинов.`,priority:"medium",data:{battleId:P,winnerId:X,stake:oe.stake,result:"defeat"}}:{type:"battle",title:"⚔️ Баттл завершен",message:`Баттл завершен! Победитель: ${ge}, проигравший: ${Le}. Ставка: ${oe.stake} коинов.`,priority:"low",data:{battleId:P,winnerId:X,stake:oe.stake,result:"spectator"}}),console.log(`Баттл завершен. Победитель ${ge} получил ${oe.stake} коинов, проигравший ${Le} потерял ${oe.stake} коинов.`)},Pe=()=>{const P=!u;l(P),localStorage.setItem("theme",P?"dark":"light")};b.useEffect(()=>{u?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");let P=document.querySelector("meta[name=viewport]");P||(P=document.createElement("meta"),P.setAttribute("name","viewport"),document.head.appendChild(P)),P.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no")},[u]),b.useEffect(()=>{if(n.isAvailable){const X=n.colorScheme==="dark";l(X),localStorage.setItem("theme",X?"dark":"light"),console.log("🎨 Тема синхронизирована с Telegram:",n.colorScheme)}else{const X=localStorage.getItem("theme");l(X!=="light")}const P=_C();console.log(`Общий размер localStorage: ${(P/1024).toFixed(2)} KB`),P>8*1024*1024&&(console.warn("localStorage близок к переполнению, выполняем очистку"),OC())},[]),b.useEffect(()=>{const P=localStorage.getItem("cases");if(P)try{const oe=JSON.parse(P).map(ge=>{const Le=Si.find(Oe=>Oe.id===ge.id);return Le?{...ge,image:ge.image||Le.image,prizes:ge.prizes.map(Oe=>{const Ve=Le.prizes.find(Rt=>Rt.id===Oe.id);return{...Oe,image:Oe.image||(Ve?Ve.image:Oe.image)}})}:ge});T(oe)}catch(X){console.error("Ошибка при загрузке кейсов:",X),T(Si)}else T(Si);I.current=!0},[]),b.useEffect(()=>{if(I.current&&D.length>0)try{const P=D.map(ge=>{const Le=ge.image&&ge.image.startsWith("data:");return{...ge,image:Le?null:ge.image,prizes:ge.prizes.map(Oe=>({...Oe,image:Oe.image&&Oe.image.startsWith("data:")?null:Oe.image}))}}),X=JSON.stringify(P),oe=new Blob([X]).size;if(console.log(`Размер данных кейсов: ${(oe/1024).toFixed(2)} KB`),oe>4*1024*1024){console.warn("Данные кейсов слишком большие для localStorage");return}localStorage.setItem("cases",X)}catch(P){if(console.error("Ошибка при сохранении кейсов:",P),P instanceof Error&&P.name==="QuotaExceededError"){console.warn("localStorage переполнен, очищаем старые данные кейсов");try{localStorage.removeItem("cases"),["oldCases","tempCases","backup_cases"].forEach(oe=>{localStorage.getItem(oe)&&(localStorage.removeItem(oe),console.log(`Удален ключ: ${oe}`))})}catch(X){console.error("Ошибка при очистке localStorage:",X)}}}},[D]),b.useEffect(()=>{const P=localStorage.getItem("userCases");if(P)try{const X=JSON.parse(P,(oe,ge)=>oe==="obtainedAt"?new Date(ge):ge);L(X)}catch(X){console.error("Ошибка при загрузке пользовательских кейсов:",X)}},[]),b.useEffect(()=>{const P=localStorage.getItem("personalBattles");if(P)try{const X=JSON.parse(P,(oe,ge)=>oe==="endDate"||oe==="created"?new Date(ge):ge);_(X)}catch(X){console.error("Ошибка при загрузке персонал����ных баттлов:",X)}},[]),b.useEffect(()=>{if($.length>0||localStorage.getItem("personalBattles"))try{localStorage.setItem("personalBattles",JSON.stringify($))}catch(P){console.error("Ошибка при сохранении персональных баттлов:",P)}},[$]),b.useEffect(()=>{const P=localStorage.getItem("notifications");if(P)try{const ge=JSON.parse(P,(Le,Oe)=>Le==="timestamp"?new Date(Oe):Oe);H(ge)}catch(ge){console.error("Ошибка при загрузке уведомлений:",ge)}localStorage.getItem("hasWelcomeNotification")||setTimeout(()=>{const ge={id:"welcome_"+Date.now().toString(),type:"system",title:"Добро пожаловать в GRITHER!",message:"Здесь вы будете получать уведомления о новых задачах, достижениях, баттлах и многом другом.",priority:"medium",timestamp:new Date,read:!1};H(Le=>[ge,...Le]),localStorage.setItem("hasWelcomeNotification","true")},2e3),(()=>{const ge=localStorage.getItem("lastDailyMotivation"),Le=new Date().getTime();(!ge||Le-parseInt(ge)>1440*60*1e3)&&setTimeout(()=>{const Oe=["Время покорять новые вершины! Проверьте новые задачи и достижения.","Ваши коллеги уже активны сегодня. Не отставайте!","Новый день - новые возможности заработать больше коинов!","Проверьте магазин - возможно, появились новые товары!","Время для нового баттла? Вызовите коллег на соревнование!"],Ve=Oe[Math.floor(Math.random()*Oe.length)];ae({type:"system",title:"🌟 Ежедневная мотивация",message:Ve,priority:"low"}),localStorage.setItem("lastDailyMotivation",Le.toString())},3e4),setTimeout(()=>{const Ve=j.filter(Rt=>!Rt.completed&&Rt.deadline).filter(Rt=>{if(!Rt.deadline)return!1;const Dn=new Date(Rt.deadline).getTime()-Le;return Dn>0&&Dn<1440*60*1e3});Ve.length>0&&ae({type:"task",title:"⏰ Срочные задачи!",message:`У вас ${Ve.length} задач с дедлайном менее чем через 24 часа. Не забудьте их выполнить!`,priority:"high",data:{urgentTasksCount:Ve.length}})},6e4)})()},[]),b.useEffect(()=>{n.isAvailable&&n.user?(console.log("📱 Telegram Web App инициализирован:",{user:n.user,platform:n.platform,colorScheme:n.colorScheme}),k(P=>P.map(X=>X.id==="current-user"?{...X,name:`${n.user.first_name}${n.user.last_name?" "+n.user.last_name:""}`,telegramId:n.user.id,username:n.user.username||null,avatar:n.user.photo_url||null}:X)),setTimeout(()=>{ae({type:"system",title:"👋 Добро пожаловать!",message:`Привет, ${n.user.first_name}! Добро пожаловать в GRITHER через Telegram!`,priority:"medium"})},3e3),n.impactFeedback("light")):console.log("🌐 Запуск в браузере (без Telegram Web App)")},[n.isAvailable,n.user]),b.useEffect(()=>{if(ee.length>0||localStorage.getItem("notifications"))try{const P=ee.slice(0,100);localStorage.setItem("notifications",JSON.stringify(P))}catch(P){if(console.error("Ошибка при сохранении уведомлений:",P),P instanceof Error&&P.name==="QuotaExceededError")try{const X=ee.slice(0,50);localStorage.setItem("notifications",JSON.stringify(X)),H(X)}catch(X){console.error("Не удалось сохранить даже урезанные уведомления:",X),localStorage.removeItem("notifications")}}},[ee]),b.useEffect(()=>{if(C.length>0||localStorage.getItem("userCases"))try{const P=JSON.stringify(C);if(new Blob([P]).size>2*1024*1024){console.warn("Данные пользовательских кейсов слишком большие");const oe=C.slice(-50);localStorage.setItem("userCases",JSON.stringify(oe)),oe.length!==C.length&&L(oe)}else localStorage.setItem("userCases",P)}catch(P){if(console.error("Ошибка при сохранении пользовательских кейсов:",P),P instanceof Error&&P.name==="QuotaExceededError")try{const X=C.slice(-20);localStorage.setItem("userCases",JSON.stringify(X)),L(X),console.log("Сохранены только последние 20 пользовательских кейсов")}catch(X){console.error("Не удалось сохранить даже урезанные данные:",X),localStorage.removeItem("userCases")}}},[C]),b.useEffect(()=>{const P=localStorage.getItem("users");if(P)try{const X=JSON.parse(P);k(X)}catch(X){console.error("Ошибка при загрузке пользователей:",X)}},[]),b.useEffect(()=>{if(R.length>0)try{localStorage.setItem("users",JSON.stringify(R))}catch(P){console.error("Ошибка при сохранении пользователей:",P)}},[R]);const bt=b.useRef([]);b.useEffect(()=>{bt.current.length>0&&g.forEach(P=>{const X=bt.current.find(oe=>oe.id===P.id);X&&!X.unlocked&&P.unlocked&&We(P)}),bt.current=[...g]},[g]);const Nr=b.useRef([]);b.useEffect(()=>{Nr.current.length>0&&j.forEach(P=>{const X=Nr.current.find(oe=>oe.id===P.id);X?!X.completed&&P.completed&&vt(P):gt(P)}),Nr.current=[...j]},[j]);const qn=b.useRef([]);b.useEffect(()=>{qn.current.length>0&&y.forEach(P=>{const X=qn.current.find(oe=>oe.id===P.id);X?P.sale&&(!X.sale||X.sale!==P.sale)&&we(P,X.price):se(P)}),qn.current=[...y]},[y]);const ts=b.useRef([]);b.useEffect(()=>{ts.current.length>0&&F.forEach(P=>{const X=ts.current.find(oe=>oe.id===P.id);X&&X.status!==P.status&&(P.status==="approved"||P.status==="rejected")&&ne(P)}),ts.current=[...F]},[F]);const An=b.useRef([]);b.useEffect(()=>{An.current.length>0&&D.forEach(P=>{An.current.find(oe=>oe.id===P.id)||Ie(P)}),An.current=[...D]},[D]);const Tn=b.useRef([]);b.useEffect(()=>{Tn.current.length>0&&C.forEach(P=>{if(!Tn.current.find(oe=>oe.id===P.id)){const oe=D.find(ge=>ge.id===P.caseId);oe&&P.prize&&ze(oe,P.prize)}}),Tn.current=[...C]},[C]),b.useEffect(()=>{let P="";const X="admin";let oe=!1;const ge=Le=>{oe||(P+=Le.key.toLowerCase(),P.length>X.length&&(P=P.slice(-X.length)),P===X&&(oe=!0,o("admin"),P="",setTimeout(()=>{oe=!1},1e3)))};return document.addEventListener("keypress",ge),()=>document.removeEventListener("keypress",ge)},[]);const Wi=()=>{switch(s){case"achievements":return t.jsx(gw,{onNavigate:E,currentPage:s,onOpenSettings:V,achievements:g,setAchievements:x,profilePhoto:B,theme:u?"dark":"light",notifications:ee,onMarkNotificationAsRead:je,onMarkAllNotificationsAsRead:Ne,onRemoveNotification:Ae,onClearAllNotifications:Re,addNotification:ae});case"tasks":return t.jsx(vw,{onNavigate:E,currentPage:s,onOpenSettings:V,profilePhoto:B,tasks:j,setTasks:S,theme:u?"dark":"light",addNotification:ae});case"cases":return t.jsx(cC,{onNavigate:E,currentPage:s,onOpenSettings:V,profilePhoto:B,theme:u?"dark":"light",cases:D,setCases:T,userCases:C,setUserCases:L,currentUser:R.find(P=>P.id==="current-user"),onUpdateUserBalance:ie,onUpdateUserExperience:ue,addNotification:ae});case"shop":return t.jsx(dC,{onNavigate:E,currentPage:s,onOpenSettings:V,profilePhoto:B,shopItems:y,setShopItems:v,orders:F,setOrders:N,theme:u?"dark":"light",currentUser:R.find(P=>P.id==="current-user"),onUpdateUserBalance:ie,addNotification:ae});case"profile":return t.jsx(fC,{onNavigate:E,currentPage:s,onOpenSettings:V,profilePhoto:B,setProfilePhoto:G,theme:u?"dark":"light",battles:Fe,battleInvitations:xe,personalBattles:$,users:R,currentUser:R.find(P=>P.id==="current-user")});case"battles":return t.jsx(pC,{onNavigate:E,currentPage:s,onOpenSettings:V,profilePhoto:B,personalBattles:$,setPersonalBattles:_,theme:u?"dark":"light",notifications:ee,onMarkNotificationAsRead:je,onMarkAllNotificationsAsRead:Ne,onRemoveNotification:Ae,onClearAllNotifications:Re,addNotification:ae});case"admin":return t.jsx(IC,{onNavigate:de,achievements:g,setAchievements:x,shopItems:y,setShopItems:v,orders:F,setOrders:N,tasks:j,setTasks:S,cases:D,setCases:T,userCases:C,setUserCases:L,onToggleDarkMode:Pe,battles:Fe,setBattles:ke,battleInvitations:xe,setBattleInvitations:O,onCompleteBattle:Be,users:R,onUpdateUserBalance:ie,addNotification:ae});case"home":default:return t.jsx(pw,{onNavigate:E,currentPage:s,onOpenSettings:V,achievements:g,profilePhoto:B,personalBattles:$,setPersonalBattles:_,theme:u?"dark":"light",notifications:ee,onMarkNotificationAsRead:je,onMarkAllNotificationsAsRead:Ne,onRemoveNotification:Ae,onClearAllNotifications:Re,addNotification:ae,battles:Fe,battleInvitations:xe,users:R,leaderboard:le,onCreateBattleInvitation:Bt,onAcceptBattleInvitation:yt,onDeclineBattleInvitation:Ot,onCompleteBattle:Be,currentUser:R.find(P=>P.id==="current-user")})}};return t.jsxs(t.Fragment,{children:[t.jsx(mC,{variant:"spotlight+grain+vignette",theme:u?"dark":"light"}),t.jsx("div",{className:"page-content",style:{position:"relative",zIndex:10,minHeight:"100vh"},children:Wi()}),t.jsx(gC,{isOpen:i,onClose:()=>d(!1),isDarkMode:u,onToggleDarkMode:Pe,onOpenAdminPanel:K,hasAdminAccess:p,setHasAdminAccess:m,theme:u?"dark":"light"})]})}const $C=()=>{const n=document.getElementById("app-loader");n&&(n.style.opacity="0",n.style.transition="opacity 0.5s ease",setTimeout(()=>n.remove(),500))};Xy.createRoot(document.getElementById("root")).render(t.jsx(Md.StrictMode,{children:t.jsx(LC,{})}));setTimeout($C,500);
